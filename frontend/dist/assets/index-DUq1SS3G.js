var R5=Object.defineProperty;var Sx=t=>{throw TypeError(t)};var k5=(t,e,n)=>e in t?R5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var U=(t,e,n)=>k5(t,typeof e!="symbol"?e+"":e,n),Iy=(t,e,n)=>e.has(t)||Sx("Cannot "+n);var b=(t,e,n)=>(Iy(t,e,"read from private field"),n?n.call(t):e.get(t)),j=(t,e,n)=>e.has(t)?Sx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),R=(t,e,n,r)=>(Iy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),X=(t,e,n)=>(Iy(t,e,"access private method"),n);var fh=(t,e,n,r)=>({set _(s){R(t,e,s,n)},get _(){return b(t,e,r)}});function N5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function O5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rC={exports:{}},Zg={},sC={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f=Symbol.for("react.element"),D5=Symbol.for("react.portal"),L5=Symbol.for("react.fragment"),V5=Symbol.for("react.strict_mode"),M5=Symbol.for("react.profiler"),F5=Symbol.for("react.provider"),B5=Symbol.for("react.context"),U5=Symbol.for("react.forward_ref"),j5=Symbol.for("react.suspense"),z5=Symbol.for("react.memo"),H5=Symbol.for("react.lazy"),Px=Symbol.iterator;function G5(t){return t===null||typeof t!="object"?null:(t=Px&&t[Px]||t["@@iterator"],typeof t=="function"?t:null)}var iC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oC=Object.assign,aC={};function Vu(t,e,n){this.props=t,this.context=e,this.refs=aC,this.updater=n||iC}Vu.prototype.isReactComponent={};Vu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Vu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lC(){}lC.prototype=Vu.prototype;function p_(t,e,n){this.props=t,this.context=e,this.refs=aC,this.updater=n||iC}var m_=p_.prototype=new lC;m_.constructor=p_;oC(m_,Vu.prototype);m_.isPureReactComponent=!0;var Cx=Array.isArray,cC=Object.prototype.hasOwnProperty,g_={current:null},uC={key:!0,ref:!0,__self:!0,__source:!0};function hC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)cC.call(e,r)&&!uC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:_f,type:t,key:i,ref:o,props:s,_owner:g_.current}}function $5(t,e){return{$$typeof:_f,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y_(t){return typeof t=="object"&&t!==null&&t.$$typeof===_f}function W5(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Rx=/\/+/g;function Sy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?W5(""+t.key):e.toString(36)}function Yp(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _f:case D5:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Sy(o,0):r,Cx(s)?(n="",t!=null&&(n=t.replace(Rx,"$&/")+"/"),Yp(s,e,n,"",function(c){return c})):s!=null&&(y_(s)&&(s=$5(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Rx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Cx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Sy(i,a);o+=Yp(i,e,n,l,s)}else if(l=G5(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Sy(i,a++),o+=Yp(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function fp(t,e,n){if(t==null)return t;var r=[],s=0;return Yp(t,r,"","",function(i){return e.call(n,i,s++)}),r}function K5(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Sn={current:null},Xp={transition:null},Q5={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:Xp,ReactCurrentOwner:g_};function dC(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:fp,forEach:function(t,e,n){fp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fp(t,function(){e++}),e},toArray:function(t){return fp(t,function(e){return e})||[]},only:function(t){if(!y_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Vu;Ee.Fragment=L5;Ee.Profiler=M5;Ee.PureComponent=p_;Ee.StrictMode=V5;Ee.Suspense=j5;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q5;Ee.act=dC;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=oC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=g_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cC.call(e,l)&&!uC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_f,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:B5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:F5,_context:t},t.Consumer=t};Ee.createElement=hC;Ee.createFactory=function(t){var e=hC.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:U5,render:t}};Ee.isValidElement=y_;Ee.lazy=function(t){return{$$typeof:H5,_payload:{_status:-1,_result:t},_init:K5}};Ee.memo=function(t,e){return{$$typeof:z5,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Xp.transition;Xp.transition={};try{t()}finally{Xp.transition=e}};Ee.unstable_act=dC;Ee.useCallback=function(t,e){return Sn.current.useCallback(t,e)};Ee.useContext=function(t){return Sn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Sn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Sn.current.useEffect(t,e)};Ee.useId=function(){return Sn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Sn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Sn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Sn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Sn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Sn.current.useReducer(t,e,n)};Ee.useRef=function(t){return Sn.current.useRef(t)};Ee.useState=function(t){return Sn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Sn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Sn.current.useTransition()};Ee.version="18.3.1";sC.exports=Ee;var L=sC.exports;const oi=O5(L),q5=N5({__proto__:null,default:oi},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=L,Y5=Symbol.for("react.element"),X5=Symbol.for("react.fragment"),Z5=Object.prototype.hasOwnProperty,eL=J5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tL={key:!0,ref:!0,__self:!0,__source:!0};function fC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Z5.call(e,r)&&!tL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Y5,type:t,key:i,ref:o,props:s,_owner:eL.current}}Zg.Fragment=X5;Zg.jsx=fC;Zg.jsxs=fC;rC.exports=Zg;var m=rC.exports,$v={},pC={exports:{}},or={},mC={exports:{}},gC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var ne=$.length;$.push(q);e:for(;0<ne;){var ge=ne-1>>>1,pe=$[ge];if(0<s(pe,q))$[ge]=q,$[ne]=pe,ne=ge;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],ne=$.pop();if(ne!==q){$[0]=ne;e:for(var ge=0,pe=$.length,Oe=pe>>>1;ge<Oe;){var St=2*(ge+1)-1,Qt=$[St],dn=St+1,Pt=$[dn];if(0>s(Qt,ne))dn<pe&&0>s(Pt,Qt)?($[ge]=Pt,$[dn]=ne,ge=dn):($[ge]=Qt,$[St]=ne,ge=St);else if(dn<pe&&0>s(Pt,ne))$[ge]=Pt,$[dn]=ne,ge=dn;else break e}}return q}function s($,q){var ne=$.sortIndex-q.sortIndex;return ne!==0?ne:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,d=null,f=3,g=!1,w=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A($){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=$)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function N($){if(v=!1,A($),!w)if(n(l)!==null)w=!0,te(D);else{var q=n(c);q!==null&&ie(N,q.startTime-$)}}function D($,q){w=!1,v&&(v=!1,_(x),x=-1),g=!0;var ne=f;try{for(A(q),d=n(l);d!==null&&(!(d.expirationTime>q)||$&&!O());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,f=d.priorityLevel;var pe=ge(d.expirationTime<=q);q=t.unstable_now(),typeof pe=="function"?d.callback=pe:d===n(l)&&r(l),A(q)}else r(l);d=n(l)}if(d!==null)var Oe=!0;else{var St=n(c);St!==null&&ie(N,St.startTime-q),Oe=!1}return Oe}finally{d=null,f=ne,g=!1}}var V=!1,I=null,x=-1,P=5,C=-1;function O(){return!(t.unstable_now()-C<P)}function M(){if(I!==null){var $=t.unstable_now();C=$;var q=!0;try{q=I(!0,$)}finally{q?k():(V=!1,I=null)}}else V=!1}var k;if(typeof E=="function")k=function(){E(M)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Q=Be.port2;Be.port1.onmessage=M,k=function(){Q.postMessage(null)}}else k=function(){T(M,0)};function te($){I=$,V||(V=!0,k())}function ie($,q){x=T(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,te(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var ne=f;f=q;try{return $()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ne=f;f=$;try{return q()}finally{f=ne}},t.unstable_scheduleCallback=function($,q,ne){var ge=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ge+ne:ge):ne=ge,$){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ne+pe,$={id:h++,callback:q,priorityLevel:$,startTime:ne,expirationTime:pe,sortIndex:-1},ne>ge?($.sortIndex=ne,e(c,$),n(l)===null&&$===n(c)&&(v?(_(x),x=-1):v=!0,ie(N,ne-ge))):($.sortIndex=pe,e(l,$),w||g||(w=!0,te(D))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var q=f;return function(){var ne=f;f=q;try{return $.apply(this,arguments)}finally{f=ne}}}})(gC);mC.exports=gC;var nL=mC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rL=L,ir=nL;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yC=new Set,pd={};function Al(t,e){fu(t,e),fu(t+"Capture",e)}function fu(t,e){for(pd[t]=e,t=0;t<e.length;t++)yC.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wv=Object.prototype.hasOwnProperty,sL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kx={},Nx={};function iL(t){return Wv.call(Nx,t)?!0:Wv.call(kx,t)?!1:sL.test(t)?Nx[t]=!0:(kx[t]=!0,!1)}function oL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aL(t,e,n,r){if(e===null||typeof e>"u"||oL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Wt[t]=new Pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Wt[e]=new Pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Wt[t]=new Pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Wt[t]=new Pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Wt[t]=new Pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Wt[t]=new Pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Wt[t]=new Pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Wt[t]=new Pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Wt[t]=new Pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var v_=/[\-:]([a-z])/g;function w_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(v_,w_);Wt[e]=new Pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(v_,w_);Wt[e]=new Pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(v_,w_);Wt[e]=new Pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Wt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Wt.xlinkHref=new Pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Wt[t]=new Pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function __(t,e,n,r){var s=Wt.hasOwnProperty(e)?Wt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aL(e,n,s,r)&&(n=null),r||s===null?iL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bi=rL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pp=Symbol.for("react.element"),$l=Symbol.for("react.portal"),Wl=Symbol.for("react.fragment"),E_=Symbol.for("react.strict_mode"),Kv=Symbol.for("react.profiler"),vC=Symbol.for("react.provider"),wC=Symbol.for("react.context"),A_=Symbol.for("react.forward_ref"),Qv=Symbol.for("react.suspense"),qv=Symbol.for("react.suspense_list"),x_=Symbol.for("react.memo"),ji=Symbol.for("react.lazy"),_C=Symbol.for("react.offscreen"),Ox=Symbol.iterator;function ph(t){return t===null||typeof t!="object"?null:(t=Ox&&t[Ox]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,Py;function Ih(t){if(Py===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Py=e&&e[1]||""}return`
`+Py+t}var Cy=!1;function Ry(t,e){if(!t||Cy)return"";Cy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ih(t):""}function lL(t){switch(t.tag){case 5:return Ih(t.type);case 16:return Ih("Lazy");case 13:return Ih("Suspense");case 19:return Ih("SuspenseList");case 0:case 2:case 15:return t=Ry(t.type,!1),t;case 11:return t=Ry(t.type.render,!1),t;case 1:return t=Ry(t.type,!0),t;default:return""}}function Jv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wl:return"Fragment";case $l:return"Portal";case Kv:return"Profiler";case E_:return"StrictMode";case Qv:return"Suspense";case qv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wC:return(t.displayName||"Context")+".Consumer";case vC:return(t._context.displayName||"Context")+".Provider";case A_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x_:return e=t.displayName||null,e!==null?e:Jv(t.type)||"Memo";case ji:e=t._payload,t=t._init;try{return Jv(t(e))}catch{}}return null}function cL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===E_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function No(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uL(t){var e=EC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mp(t){t._valueTracker||(t._valueTracker=uL(t))}function AC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=EC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Om(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yv(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Dx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=No(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xC(t,e){e=e.checked,e!=null&&__(t,"checked",e,!1)}function Xv(t,e){xC(t,e);var n=No(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zv(t,e.type,No(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zv(t,e,n){(e!=="number"||Om(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sh=Array.isArray;function pc(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+No(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ew(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Sh(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:No(n)}}function TC(t,e){var n=No(e.value),r=No(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Mx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tw(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gp,IC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gp=gp||document.createElement("div"),gp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function md(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hL=["Webkit","ms","Moz","O"];Object.keys(Hh).forEach(function(t){hL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hh[e]=Hh[t]})});function SC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hh.hasOwnProperty(t)&&Hh[t]?(""+e).trim():e+"px"}function PC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=SC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var dL=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nw(t,e){if(e){if(dL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function rw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sw=null;function T_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iw=null,mc=null,gc=null;function Fx(t){if(t=xf(t)){if(typeof iw!="function")throw Error(K(280));var e=t.stateNode;e&&(e=s0(e),iw(t.stateNode,t.type,e))}}function CC(t){mc?gc?gc.push(t):gc=[t]:mc=t}function RC(){if(mc){var t=mc,e=gc;if(gc=mc=null,Fx(t),e)for(t=0;t<e.length;t++)Fx(e[t])}}function kC(t,e){return t(e)}function NC(){}var ky=!1;function OC(t,e,n){if(ky)return t(e,n);ky=!0;try{return kC(t,e,n)}finally{ky=!1,(mc!==null||gc!==null)&&(NC(),RC())}}function gd(t,e){var n=t.stateNode;if(n===null)return null;var r=s0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var ow=!1;if(hi)try{var mh={};Object.defineProperty(mh,"passive",{get:function(){ow=!0}}),window.addEventListener("test",mh,mh),window.removeEventListener("test",mh,mh)}catch{ow=!1}function fL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Gh=!1,Dm=null,Lm=!1,aw=null,pL={onError:function(t){Gh=!0,Dm=t}};function mL(t,e,n,r,s,i,o,a,l){Gh=!1,Dm=null,fL.apply(pL,arguments)}function gL(t,e,n,r,s,i,o,a,l){if(mL.apply(this,arguments),Gh){if(Gh){var c=Dm;Gh=!1,Dm=null}else throw Error(K(198));Lm||(Lm=!0,aw=c)}}function xl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bx(t){if(xl(t)!==t)throw Error(K(188))}function yL(t){var e=t.alternate;if(!e){if(e=xl(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Bx(s),t;if(i===r)return Bx(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function LC(t){return t=yL(t),t!==null?VC(t):null}function VC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VC(t);if(e!==null)return e;t=t.sibling}return null}var MC=ir.unstable_scheduleCallback,Ux=ir.unstable_cancelCallback,vL=ir.unstable_shouldYield,wL=ir.unstable_requestPaint,ft=ir.unstable_now,_L=ir.unstable_getCurrentPriorityLevel,b_=ir.unstable_ImmediatePriority,FC=ir.unstable_UserBlockingPriority,Vm=ir.unstable_NormalPriority,EL=ir.unstable_LowPriority,BC=ir.unstable_IdlePriority,e0=null,_s=null;function AL(t){if(_s&&typeof _s.onCommitFiberRoot=="function")try{_s.onCommitFiberRoot(e0,t,void 0,(t.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:bL,xL=Math.log,TL=Math.LN2;function bL(t){return t>>>=0,t===0?32:31-(xL(t)/TL|0)|0}var yp=64,vp=4194304;function Ph(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ph(a):(i&=o,i!==0&&(r=Ph(i)))}else o=n&~s,o!==0?r=Ph(o):i!==0&&(r=Ph(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$r(e),s=1<<n,r|=t[n],e&=~s;return r}function IL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-$r(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=IL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function lw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UC(){var t=yp;return yp<<=1,!(yp&4194240)&&(yp=64),t}function Ny(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ef(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$r(e),t[e]=n}function PL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-$r(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function I_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$r(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function jC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zC,S_,HC,GC,$C,cw=!1,wp=[],yo=null,vo=null,wo=null,yd=new Map,vd=new Map,Hi=[],CL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jx(t,e){switch(t){case"focusin":case"focusout":yo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":wo=null;break;case"pointerover":case"pointerout":yd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vd.delete(e.pointerId)}}function gh(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xf(e),e!==null&&S_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function RL(t,e,n,r,s){switch(e){case"focusin":return yo=gh(yo,t,e,n,r,s),!0;case"dragenter":return vo=gh(vo,t,e,n,r,s),!0;case"mouseover":return wo=gh(wo,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return yd.set(i,gh(yd.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,vd.set(i,gh(vd.get(i)||null,t,e,n,r,s)),!0}return!1}function WC(t){var e=va(t.target);if(e!==null){var n=xl(e);if(n!==null){if(e=n.tag,e===13){if(e=DC(n),e!==null){t.blockedOn=e,$C(t.priority,function(){HC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sw=r,n.target.dispatchEvent(r),sw=null}else return e=xf(n),e!==null&&S_(e),t.blockedOn=n,!1;e.shift()}return!0}function zx(t,e,n){Zp(t)&&n.delete(e)}function kL(){cw=!1,yo!==null&&Zp(yo)&&(yo=null),vo!==null&&Zp(vo)&&(vo=null),wo!==null&&Zp(wo)&&(wo=null),yd.forEach(zx),vd.forEach(zx)}function yh(t,e){t.blockedOn===e&&(t.blockedOn=null,cw||(cw=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,kL)))}function wd(t){function e(s){return yh(s,t)}if(0<wp.length){yh(wp[0],t);for(var n=1;n<wp.length;n++){var r=wp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yo!==null&&yh(yo,t),vo!==null&&yh(vo,t),wo!==null&&yh(wo,t),yd.forEach(e),vd.forEach(e),n=0;n<Hi.length;n++)r=Hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hi.length&&(n=Hi[0],n.blockedOn===null);)WC(n),n.blockedOn===null&&Hi.shift()}var yc=bi.ReactCurrentBatchConfig,Fm=!0;function NL(t,e,n,r){var s=Le,i=yc.transition;yc.transition=null;try{Le=1,P_(t,e,n,r)}finally{Le=s,yc.transition=i}}function OL(t,e,n,r){var s=Le,i=yc.transition;yc.transition=null;try{Le=4,P_(t,e,n,r)}finally{Le=s,yc.transition=i}}function P_(t,e,n,r){if(Fm){var s=uw(t,e,n,r);if(s===null)zy(t,e,r,Bm,n),jx(t,r);else if(RL(s,t,e,n,r))r.stopPropagation();else if(jx(t,r),e&4&&-1<CL.indexOf(t)){for(;s!==null;){var i=xf(s);if(i!==null&&zC(i),i=uw(t,e,n,r),i===null&&zy(t,e,r,Bm,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else zy(t,e,r,null,n)}}var Bm=null;function uw(t,e,n,r){if(Bm=null,t=T_(r),t=va(t),t!==null)if(e=xl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bm=t,null}function KC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_L()){case b_:return 1;case FC:return 4;case Vm:case EL:return 16;case BC:return 536870912;default:return 16}default:return 16}}var fo=null,C_=null,em=null;function QC(){if(em)return em;var t,e=C_,n=e.length,r,s="value"in fo?fo.value:fo.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return em=s.slice(t,1<r?1-r:void 0)}function tm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _p(){return!0}function Hx(){return!1}function ar(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_p:Hx,this.isPropagationStopped=Hx,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_p)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_p)},persist:function(){},isPersistent:_p}),e}var Mu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},R_=ar(Mu),Af=tt({},Mu,{view:0,detail:0}),DL=ar(Af),Oy,Dy,vh,t0=tt({},Af,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vh&&(vh&&t.type==="mousemove"?(Oy=t.screenX-vh.screenX,Dy=t.screenY-vh.screenY):Dy=Oy=0,vh=t),Oy)},movementY:function(t){return"movementY"in t?t.movementY:Dy}}),Gx=ar(t0),LL=tt({},t0,{dataTransfer:0}),VL=ar(LL),ML=tt({},Af,{relatedTarget:0}),Ly=ar(ML),FL=tt({},Mu,{animationName:0,elapsedTime:0,pseudoElement:0}),BL=ar(FL),UL=tt({},Mu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jL=ar(UL),zL=tt({},Mu,{data:0}),$x=ar(zL),HL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$L={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$L[t])?!!e[t]:!1}function k_(){return WL}var KL=tt({},Af,{key:function(t){if(t.key){var e=HL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=tm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k_,charCode:function(t){return t.type==="keypress"?tm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),QL=ar(KL),qL=tt({},t0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wx=ar(qL),JL=tt({},Af,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k_}),YL=ar(JL),XL=tt({},Mu,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZL=ar(XL),e8=tt({},t0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),t8=ar(e8),n8=[9,13,27,32],N_=hi&&"CompositionEvent"in window,$h=null;hi&&"documentMode"in document&&($h=document.documentMode);var r8=hi&&"TextEvent"in window&&!$h,qC=hi&&(!N_||$h&&8<$h&&11>=$h),Kx=" ",Qx=!1;function JC(t,e){switch(t){case"keyup":return n8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kl=!1;function s8(t,e){switch(t){case"compositionend":return YC(e);case"keypress":return e.which!==32?null:(Qx=!0,Kx);case"textInput":return t=e.data,t===Kx&&Qx?null:t;default:return null}}function i8(t,e){if(Kl)return t==="compositionend"||!N_&&JC(t,e)?(t=QC(),em=C_=fo=null,Kl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qC&&e.locale!=="ko"?null:e.data;default:return null}}var o8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o8[t.type]:e==="textarea"}function XC(t,e,n,r){CC(r),e=Um(e,"onChange"),0<e.length&&(n=new R_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wh=null,_d=null;function a8(t){cR(t,0)}function n0(t){var e=Jl(t);if(AC(e))return t}function l8(t,e){if(t==="change")return e}var ZC=!1;if(hi){var Vy;if(hi){var My="oninput"in document;if(!My){var Jx=document.createElement("div");Jx.setAttribute("oninput","return;"),My=typeof Jx.oninput=="function"}Vy=My}else Vy=!1;ZC=Vy&&(!document.documentMode||9<document.documentMode)}function Yx(){Wh&&(Wh.detachEvent("onpropertychange",eR),_d=Wh=null)}function eR(t){if(t.propertyName==="value"&&n0(_d)){var e=[];XC(e,_d,t,T_(t)),OC(a8,e)}}function c8(t,e,n){t==="focusin"?(Yx(),Wh=e,_d=n,Wh.attachEvent("onpropertychange",eR)):t==="focusout"&&Yx()}function u8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return n0(_d)}function h8(t,e){if(t==="click")return n0(e)}function d8(t,e){if(t==="input"||t==="change")return n0(e)}function f8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qr=typeof Object.is=="function"?Object.is:f8;function Ed(t,e){if(Qr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Wv.call(e,s)||!Qr(t[s],e[s]))return!1}return!0}function Xx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zx(t,e){var n=Xx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xx(n)}}function tR(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?tR(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function nR(){for(var t=window,e=Om();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Om(t.document)}return e}function O_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function p8(t){var e=nR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&tR(n.ownerDocument.documentElement,n)){if(r!==null&&O_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Zx(n,i);var o=Zx(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var m8=hi&&"documentMode"in document&&11>=document.documentMode,Ql=null,hw=null,Kh=null,dw=!1;function eT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dw||Ql==null||Ql!==Om(r)||(r=Ql,"selectionStart"in r&&O_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kh&&Ed(Kh,r)||(Kh=r,r=Um(hw,"onSelect"),0<r.length&&(e=new R_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ql)))}function Ep(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ql={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},Fy={},rR={};hi&&(rR=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function r0(t){if(Fy[t])return Fy[t];if(!ql[t])return t;var e=ql[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in rR)return Fy[t]=e[n];return t}var sR=r0("animationend"),iR=r0("animationiteration"),oR=r0("animationstart"),aR=r0("transitionend"),lR=new Map,tT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qo(t,e){lR.set(t,e),Al(e,[t])}for(var By=0;By<tT.length;By++){var Uy=tT[By],g8=Uy.toLowerCase(),y8=Uy[0].toUpperCase()+Uy.slice(1);Qo(g8,"on"+y8)}Qo(sR,"onAnimationEnd");Qo(iR,"onAnimationIteration");Qo(oR,"onAnimationStart");Qo("dblclick","onDoubleClick");Qo("focusin","onFocus");Qo("focusout","onBlur");Qo(aR,"onTransitionEnd");fu("onMouseEnter",["mouseout","mouseover"]);fu("onMouseLeave",["mouseout","mouseover"]);fu("onPointerEnter",["pointerout","pointerover"]);fu("onPointerLeave",["pointerout","pointerover"]);Al("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Al("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Al("onBeforeInput",["compositionend","keypress","textInput","paste"]);Al("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Al("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ch="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ch));function nT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gL(r,e,void 0,t),t.currentTarget=null}function cR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;nT(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;nT(s,a,c),i=l}}}if(Lm)throw t=aw,Lm=!1,aw=null,t}function Ge(t,e){var n=e[yw];n===void 0&&(n=e[yw]=new Set);var r=t+"__bubble";n.has(r)||(uR(e,t,2,!1),n.add(r))}function jy(t,e,n){var r=0;e&&(r|=4),uR(n,t,r,e)}var Ap="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[Ap]){t[Ap]=!0,yC.forEach(function(n){n!=="selectionchange"&&(v8.has(n)||jy(n,!1,t),jy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ap]||(e[Ap]=!0,jy("selectionchange",!1,e))}}function uR(t,e,n,r){switch(KC(e)){case 1:var s=NL;break;case 4:s=OL;break;default:s=P_}n=s.bind(null,e,n,t),s=void 0,!ow||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function zy(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=va(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}OC(function(){var c=i,h=T_(n),d=[];e:{var f=lR.get(t);if(f!==void 0){var g=R_,w=t;switch(t){case"keypress":if(tm(n)===0)break e;case"keydown":case"keyup":g=QL;break;case"focusin":w="focus",g=Ly;break;case"focusout":w="blur",g=Ly;break;case"beforeblur":case"afterblur":g=Ly;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Gx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=YL;break;case sR:case iR:case oR:g=BL;break;case aR:g=ZL;break;case"scroll":g=DL;break;case"wheel":g=t8;break;case"copy":case"cut":case"paste":g=jL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Wx}var v=(e&4)!==0,T=!v&&t==="scroll",_=v?f!==null?f+"Capture":null:f;v=[];for(var E=c,A;E!==null;){A=E;var N=A.stateNode;if(A.tag===5&&N!==null&&(A=N,_!==null&&(N=gd(E,_),N!=null&&v.push(xd(E,N,A)))),T)break;E=E.return}0<v.length&&(f=new g(f,w,null,n,h),d.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==sw&&(w=n.relatedTarget||n.fromElement)&&(va(w)||w[di]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?va(w):null,w!==null&&(T=xl(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(v=Gx,N="onMouseLeave",_="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(v=Wx,N="onPointerLeave",_="onPointerEnter",E="pointer"),T=g==null?f:Jl(g),A=w==null?f:Jl(w),f=new v(N,E+"leave",g,n,h),f.target=T,f.relatedTarget=A,N=null,va(h)===c&&(v=new v(_,E+"enter",w,n,h),v.target=A,v.relatedTarget=T,N=v),T=N,g&&w)t:{for(v=g,_=w,E=0,A=v;A;A=Ll(A))E++;for(A=0,N=_;N;N=Ll(N))A++;for(;0<E-A;)v=Ll(v),E--;for(;0<A-E;)_=Ll(_),A--;for(;E--;){if(v===_||_!==null&&v===_.alternate)break t;v=Ll(v),_=Ll(_)}v=null}else v=null;g!==null&&rT(d,f,g,v,!1),w!==null&&T!==null&&rT(d,T,w,v,!0)}}e:{if(f=c?Jl(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var D=l8;else if(qx(f))if(ZC)D=d8;else{D=u8;var V=c8}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=h8);if(D&&(D=D(t,c))){XC(d,D,n,h);break e}V&&V(t,f,c),t==="focusout"&&(V=f._wrapperState)&&V.controlled&&f.type==="number"&&Zv(f,"number",f.value)}switch(V=c?Jl(c):window,t){case"focusin":(qx(V)||V.contentEditable==="true")&&(Ql=V,hw=c,Kh=null);break;case"focusout":Kh=hw=Ql=null;break;case"mousedown":dw=!0;break;case"contextmenu":case"mouseup":case"dragend":dw=!1,eT(d,n,h);break;case"selectionchange":if(m8)break;case"keydown":case"keyup":eT(d,n,h)}var I;if(N_)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Kl?JC(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(qC&&n.locale!=="ko"&&(Kl||x!=="onCompositionStart"?x==="onCompositionEnd"&&Kl&&(I=QC()):(fo=h,C_="value"in fo?fo.value:fo.textContent,Kl=!0)),V=Um(c,x),0<V.length&&(x=new $x(x,t,null,n,h),d.push({event:x,listeners:V}),I?x.data=I:(I=YC(n),I!==null&&(x.data=I)))),(I=r8?s8(t,n):i8(t,n))&&(c=Um(c,"onBeforeInput"),0<c.length&&(h=new $x("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:c}),h.data=I))}cR(d,e)})}function xd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Um(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=gd(t,n),i!=null&&r.unshift(xd(t,i,s)),i=gd(t,e),i!=null&&r.push(xd(t,i,s))),t=t.return}return r}function Ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rT(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=gd(n,i),l!=null&&o.unshift(xd(n,l,a))):s||(l=gd(n,i),l!=null&&o.push(xd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var w8=/\r\n?/g,_8=/\u0000|\uFFFD/g;function sT(t){return(typeof t=="string"?t:""+t).replace(w8,`
`).replace(_8,"")}function xp(t,e,n){if(e=sT(e),sT(t)!==e&&n)throw Error(K(425))}function jm(){}var fw=null,pw=null;function mw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gw=typeof setTimeout=="function"?setTimeout:void 0,E8=typeof clearTimeout=="function"?clearTimeout:void 0,iT=typeof Promise=="function"?Promise:void 0,A8=typeof queueMicrotask=="function"?queueMicrotask:typeof iT<"u"?function(t){return iT.resolve(null).then(t).catch(x8)}:gw;function x8(t){setTimeout(function(){throw t})}function Hy(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),wd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);wd(e)}function _o(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function oT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fu=Math.random().toString(36).slice(2),ms="__reactFiber$"+Fu,Td="__reactProps$"+Fu,di="__reactContainer$"+Fu,yw="__reactEvents$"+Fu,T8="__reactListeners$"+Fu,b8="__reactHandles$"+Fu;function va(t){var e=t[ms];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[ms]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=oT(t);t!==null;){if(n=t[ms])return n;t=oT(t)}return e}t=n,n=t.parentNode}return null}function xf(t){return t=t[ms]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function s0(t){return t[Td]||null}var vw=[],Yl=-1;function qo(t){return{current:t}}function We(t){0>Yl||(t.current=vw[Yl],vw[Yl]=null,Yl--)}function Ue(t,e){Yl++,vw[Yl]=t.current,t.current=e}var Oo={},un=qo(Oo),Fn=qo(!1),rl=Oo;function pu(t,e){var n=t.type.contextTypes;if(!n)return Oo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bn(t){return t=t.childContextTypes,t!=null}function zm(){We(Fn),We(un)}function aT(t,e,n){if(un.current!==Oo)throw Error(K(168));Ue(un,e),Ue(Fn,n)}function hR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,cL(t)||"Unknown",s));return tt({},n,r)}function Hm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oo,rl=un.current,Ue(un,t),Ue(Fn,Fn.current),!0}function lT(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=hR(t,e,rl),r.__reactInternalMemoizedMergedChildContext=t,We(Fn),We(un),Ue(un,t)):We(Fn),Ue(Fn,n)}var Us=null,i0=!1,Gy=!1;function dR(t){Us===null?Us=[t]:Us.push(t)}function I8(t){i0=!0,dR(t)}function Jo(){if(!Gy&&Us!==null){Gy=!0;var t=0,e=Le;try{var n=Us;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Us=null,i0=!1}catch(s){throw Us!==null&&(Us=Us.slice(t+1)),MC(b_,Jo),s}finally{Le=e,Gy=!1}}return null}var Xl=[],Zl=0,Gm=null,$m=0,wr=[],_r=0,sl=null,ti=1,ni="";function ca(t,e){Xl[Zl++]=$m,Xl[Zl++]=Gm,Gm=t,$m=e}function fR(t,e,n){wr[_r++]=ti,wr[_r++]=ni,wr[_r++]=sl,sl=t;var r=ti;t=ni;var s=32-$r(r)-1;r&=~(1<<s),n+=1;var i=32-$r(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ti=1<<32-$r(e)+s|n<<s|r,ni=i+t}else ti=1<<i|n<<s|r,ni=t}function D_(t){t.return!==null&&(ca(t,1),fR(t,1,0))}function L_(t){for(;t===Gm;)Gm=Xl[--Zl],Xl[Zl]=null,$m=Xl[--Zl],Xl[Zl]=null;for(;t===sl;)sl=wr[--_r],wr[_r]=null,ni=wr[--_r],wr[_r]=null,ti=wr[--_r],wr[_r]=null}var rr=null,Zn=null,Ke=!1,jr=null;function pR(t,e){var n=Er(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,rr=t,Zn=_o(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,rr=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=sl!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Er(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,rr=t,Zn=null,!0):!1;default:return!1}}function ww(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _w(t){if(Ke){var e=Zn;if(e){var n=e;if(!cT(t,e)){if(ww(t))throw Error(K(418));e=_o(n.nextSibling);var r=rr;e&&cT(t,e)?pR(r,n):(t.flags=t.flags&-4097|2,Ke=!1,rr=t)}}else{if(ww(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ke=!1,rr=t}}}function uT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rr=t}function Tp(t){if(t!==rr)return!1;if(!Ke)return uT(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mw(t.type,t.memoizedProps)),e&&(e=Zn)){if(ww(t))throw mR(),Error(K(418));for(;e;)pR(t,e),e=_o(e.nextSibling)}if(uT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=_o(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=rr?_o(t.stateNode.nextSibling):null;return!0}function mR(){for(var t=Zn;t;)t=_o(t.nextSibling)}function mu(){Zn=rr=null,Ke=!1}function V_(t){jr===null?jr=[t]:jr.push(t)}var S8=bi.ReactCurrentBatchConfig;function wh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function bp(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hT(t){var e=t._init;return e(t._payload)}function gR(t){function e(_,E){if(t){var A=_.deletions;A===null?(_.deletions=[E],_.flags|=16):A.push(E)}}function n(_,E){if(!t)return null;for(;E!==null;)e(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function s(_,E){return _=To(_,E),_.index=0,_.sibling=null,_}function i(_,E,A){return _.index=A,t?(A=_.alternate,A!==null?(A=A.index,A<E?(_.flags|=2,E):A):(_.flags|=2,E)):(_.flags|=1048576,E)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,E,A,N){return E===null||E.tag!==6?(E=Yy(A,_.mode,N),E.return=_,E):(E=s(E,A),E.return=_,E)}function l(_,E,A,N){var D=A.type;return D===Wl?h(_,E,A.props.children,N,A.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ji&&hT(D)===E.type)?(N=s(E,A.props),N.ref=wh(_,E,A),N.return=_,N):(N=lm(A.type,A.key,A.props,null,_.mode,N),N.ref=wh(_,E,A),N.return=_,N)}function c(_,E,A,N){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Xy(A,_.mode,N),E.return=_,E):(E=s(E,A.children||[]),E.return=_,E)}function h(_,E,A,N,D){return E===null||E.tag!==7?(E=qa(A,_.mode,N,D),E.return=_,E):(E=s(E,A),E.return=_,E)}function d(_,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Yy(""+E,_.mode,A),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case pp:return A=lm(E.type,E.key,E.props,null,_.mode,A),A.ref=wh(_,null,E),A.return=_,A;case $l:return E=Xy(E,_.mode,A),E.return=_,E;case ji:var N=E._init;return d(_,N(E._payload),A)}if(Sh(E)||ph(E))return E=qa(E,_.mode,A,null),E.return=_,E;bp(_,E)}return null}function f(_,E,A,N){var D=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return D!==null?null:a(_,E,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case pp:return A.key===D?l(_,E,A,N):null;case $l:return A.key===D?c(_,E,A,N):null;case ji:return D=A._init,f(_,E,D(A._payload),N)}if(Sh(A)||ph(A))return D!==null?null:h(_,E,A,N,null);bp(_,A)}return null}function g(_,E,A,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(A)||null,a(E,_,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pp:return _=_.get(N.key===null?A:N.key)||null,l(E,_,N,D);case $l:return _=_.get(N.key===null?A:N.key)||null,c(E,_,N,D);case ji:var V=N._init;return g(_,E,A,V(N._payload),D)}if(Sh(N)||ph(N))return _=_.get(A)||null,h(E,_,N,D,null);bp(E,N)}return null}function w(_,E,A,N){for(var D=null,V=null,I=E,x=E=0,P=null;I!==null&&x<A.length;x++){I.index>x?(P=I,I=null):P=I.sibling;var C=f(_,I,A[x],N);if(C===null){I===null&&(I=P);break}t&&I&&C.alternate===null&&e(_,I),E=i(C,E,x),V===null?D=C:V.sibling=C,V=C,I=P}if(x===A.length)return n(_,I),Ke&&ca(_,x),D;if(I===null){for(;x<A.length;x++)I=d(_,A[x],N),I!==null&&(E=i(I,E,x),V===null?D=I:V.sibling=I,V=I);return Ke&&ca(_,x),D}for(I=r(_,I);x<A.length;x++)P=g(I,_,x,A[x],N),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?x:P.key),E=i(P,E,x),V===null?D=P:V.sibling=P,V=P);return t&&I.forEach(function(O){return e(_,O)}),Ke&&ca(_,x),D}function v(_,E,A,N){var D=ph(A);if(typeof D!="function")throw Error(K(150));if(A=D.call(A),A==null)throw Error(K(151));for(var V=D=null,I=E,x=E=0,P=null,C=A.next();I!==null&&!C.done;x++,C=A.next()){I.index>x?(P=I,I=null):P=I.sibling;var O=f(_,I,C.value,N);if(O===null){I===null&&(I=P);break}t&&I&&O.alternate===null&&e(_,I),E=i(O,E,x),V===null?D=O:V.sibling=O,V=O,I=P}if(C.done)return n(_,I),Ke&&ca(_,x),D;if(I===null){for(;!C.done;x++,C=A.next())C=d(_,C.value,N),C!==null&&(E=i(C,E,x),V===null?D=C:V.sibling=C,V=C);return Ke&&ca(_,x),D}for(I=r(_,I);!C.done;x++,C=A.next())C=g(I,_,x,C.value,N),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?x:C.key),E=i(C,E,x),V===null?D=C:V.sibling=C,V=C);return t&&I.forEach(function(M){return e(_,M)}),Ke&&ca(_,x),D}function T(_,E,A,N){if(typeof A=="object"&&A!==null&&A.type===Wl&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case pp:e:{for(var D=A.key,V=E;V!==null;){if(V.key===D){if(D=A.type,D===Wl){if(V.tag===7){n(_,V.sibling),E=s(V,A.props.children),E.return=_,_=E;break e}}else if(V.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ji&&hT(D)===V.type){n(_,V.sibling),E=s(V,A.props),E.ref=wh(_,V,A),E.return=_,_=E;break e}n(_,V);break}else e(_,V);V=V.sibling}A.type===Wl?(E=qa(A.props.children,_.mode,N,A.key),E.return=_,_=E):(N=lm(A.type,A.key,A.props,null,_.mode,N),N.ref=wh(_,E,A),N.return=_,_=N)}return o(_);case $l:e:{for(V=A.key;E!==null;){if(E.key===V)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(_,E.sibling),E=s(E,A.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else e(_,E);E=E.sibling}E=Xy(A,_.mode,N),E.return=_,_=E}return o(_);case ji:return V=A._init,T(_,E,V(A._payload),N)}if(Sh(A))return w(_,E,A,N);if(ph(A))return v(_,E,A,N);bp(_,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(n(_,E.sibling),E=s(E,A),E.return=_,_=E):(n(_,E),E=Yy(A,_.mode,N),E.return=_,_=E),o(_)):n(_,E)}return T}var gu=gR(!0),yR=gR(!1),Wm=qo(null),Km=null,ec=null,M_=null;function F_(){M_=ec=Km=null}function B_(t){var e=Wm.current;We(Wm),t._currentValue=e}function Ew(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vc(t,e){Km=t,M_=ec=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vn=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(M_!==t)if(t={context:t,memoizedValue:e,next:null},ec===null){if(Km===null)throw Error(K(308));ec=t,Km.dependencies={lanes:0,firstContext:t}}else ec=ec.next=t;return e}var wa=null;function U_(t){wa===null?wa=[t]:wa.push(t)}function vR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,U_(e)):(n.next=s.next,s.next=n),e.interleaved=n,fi(t,r)}function fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zi=!1;function j_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ce&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fi(t,n)}return s=r.interleaved,s===null?(e.next=e,U_(r)):(e.next=s.next,s.next=e),r.interleaved=e,fi(t,n)}function nm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I_(t,n)}}function dT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qm(t,e,n,r){var s=t.updateQueue;zi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,h=c=l=null,a=i;do{var f=a.lane,g=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,v=a;switch(f=e,g=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(g,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(g,d,f):w,f==null)break e;d=tt({},d,f);break e;case 2:zi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ol|=o,t.lanes=o,t.memoizedState=d}}function fT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Tf={},Es=qo(Tf),bd=qo(Tf),Id=qo(Tf);function _a(t){if(t===Tf)throw Error(K(174));return t}function z_(t,e){switch(Ue(Id,e),Ue(bd,t),Ue(Es,Tf),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:tw(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=tw(e,t)}We(Es),Ue(Es,e)}function yu(){We(Es),We(bd),We(Id)}function _R(t){_a(Id.current);var e=_a(Es.current),n=tw(e,t.type);e!==n&&(Ue(bd,t),Ue(Es,n))}function H_(t){bd.current===t&&(We(Es),We(bd))}var Je=qo(0);function qm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $y=[];function G_(){for(var t=0;t<$y.length;t++)$y[t]._workInProgressVersionPrimary=null;$y.length=0}var rm=bi.ReactCurrentDispatcher,Wy=bi.ReactCurrentBatchConfig,il=0,et=null,At=null,kt=null,Jm=!1,Qh=!1,Sd=0,P8=0;function Xt(){throw Error(K(321))}function $_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qr(t[n],e[n]))return!1;return!0}function W_(t,e,n,r,s,i){if(il=i,et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rm.current=t===null||t.memoizedState===null?N8:O8,t=n(r,s),Qh){i=0;do{if(Qh=!1,Sd=0,25<=i)throw Error(K(301));i+=1,kt=At=null,e.updateQueue=null,rm.current=D8,t=n(r,s)}while(Qh)}if(rm.current=Ym,e=At!==null&&At.next!==null,il=0,kt=At=et=null,Jm=!1,e)throw Error(K(300));return t}function K_(){var t=Sd!==0;return Sd=0,t}function rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?et.memoizedState=kt=t:kt=kt.next=t,kt}function Ir(){if(At===null){var t=et.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=kt===null?et.memoizedState:kt.next;if(e!==null)kt=e,At=t;else{if(t===null)throw Error(K(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},kt===null?et.memoizedState=kt=t:kt=kt.next=t}return kt}function Pd(t,e){return typeof e=="function"?e(t):e}function Ky(t){var e=Ir(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=At,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((il&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,et.lanes|=h,ol|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Qr(r,e.memoizedState)||(Vn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,et.lanes|=i,ol|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qy(t){var e=Ir(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qr(i,e.memoizedState)||(Vn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ER(){}function AR(t,e){var n=et,r=Ir(),s=e(),i=!Qr(r.memoizedState,s);if(i&&(r.memoizedState=s,Vn=!0),r=r.queue,Q_(bR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||kt!==null&&kt.memoizedState.tag&1){if(n.flags|=2048,Cd(9,TR.bind(null,n,r,s,e),void 0,null),Lt===null)throw Error(K(349));il&30||xR(n,e,s)}return s}function xR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function TR(t,e,n,r){e.value=n,e.getSnapshot=r,IR(e)&&SR(t)}function bR(t,e,n){return n(function(){IR(e)&&SR(t)})}function IR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qr(t,n)}catch{return!0}}function SR(t){var e=fi(t,1);e!==null&&Wr(e,t,1,-1)}function pT(t){var e=rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pd,lastRenderedState:t},e.queue=t,t=t.dispatch=k8.bind(null,et,t),[e.memoizedState,t]}function Cd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=et.updateQueue,e===null?(e={lastEffect:null,stores:null},et.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function PR(){return Ir().memoizedState}function sm(t,e,n,r){var s=rs();et.flags|=t,s.memoizedState=Cd(1|e,n,void 0,r===void 0?null:r)}function o0(t,e,n,r){var s=Ir();r=r===void 0?null:r;var i=void 0;if(At!==null){var o=At.memoizedState;if(i=o.destroy,r!==null&&$_(r,o.deps)){s.memoizedState=Cd(e,n,i,r);return}}et.flags|=t,s.memoizedState=Cd(1|e,n,i,r)}function mT(t,e){return sm(8390656,8,t,e)}function Q_(t,e){return o0(2048,8,t,e)}function CR(t,e){return o0(4,2,t,e)}function RR(t,e){return o0(4,4,t,e)}function kR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NR(t,e,n){return n=n!=null?n.concat([t]):null,o0(4,4,kR.bind(null,e,t),n)}function q_(){}function OR(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function DR(t,e){var n=Ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LR(t,e,n){return il&21?(Qr(n,e)||(n=UC(),et.lanes|=n,ol|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vn=!0),t.memoizedState=n)}function C8(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Wy.transition;Wy.transition={};try{t(!1),e()}finally{Le=n,Wy.transition=r}}function VR(){return Ir().memoizedState}function R8(t,e,n){var r=xo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MR(t))FR(e,n);else if(n=vR(t,e,n,r),n!==null){var s=In();Wr(n,t,r,s),BR(n,e,r)}}function k8(t,e,n){var r=xo(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MR(t))FR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qr(a,o)){var l=e.interleaved;l===null?(s.next=s,U_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=vR(t,e,s,r),n!==null&&(s=In(),Wr(n,t,r,s),BR(n,e,r))}}function MR(t){var e=t.alternate;return t===et||e!==null&&e===et}function FR(t,e){Qh=Jm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function BR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,I_(t,n)}}var Ym={readContext:br,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},N8={readContext:br,useCallback:function(t,e){return rs().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:mT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,sm(4194308,4,kR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sm(4194308,4,t,e)},useInsertionEffect:function(t,e){return sm(4,2,t,e)},useMemo:function(t,e){var n=rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=rs();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=R8.bind(null,et,t),[r.memoizedState,t]},useRef:function(t){var e=rs();return t={current:t},e.memoizedState=t},useState:pT,useDebugValue:q_,useDeferredValue:function(t){return rs().memoizedState=t},useTransition:function(){var t=pT(!1),e=t[0];return t=C8.bind(null,t[1]),rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=et,s=rs();if(Ke){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Lt===null)throw Error(K(349));il&30||xR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,mT(bR.bind(null,r,i,t),[t]),r.flags|=2048,Cd(9,TR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=rs(),e=Lt.identifierPrefix;if(Ke){var n=ni,r=ti;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},O8={readContext:br,useCallback:OR,useContext:br,useEffect:Q_,useImperativeHandle:NR,useInsertionEffect:CR,useLayoutEffect:RR,useMemo:DR,useReducer:Ky,useRef:PR,useState:function(){return Ky(Pd)},useDebugValue:q_,useDeferredValue:function(t){var e=Ir();return LR(e,At.memoizedState,t)},useTransition:function(){var t=Ky(Pd)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:ER,useSyncExternalStore:AR,useId:VR,unstable_isNewReconciler:!1},D8={readContext:br,useCallback:OR,useContext:br,useEffect:Q_,useImperativeHandle:NR,useInsertionEffect:CR,useLayoutEffect:RR,useMemo:DR,useReducer:Qy,useRef:PR,useState:function(){return Qy(Pd)},useDebugValue:q_,useDeferredValue:function(t){var e=Ir();return At===null?e.memoizedState=t:LR(e,At.memoizedState,t)},useTransition:function(){var t=Qy(Pd)[0],e=Ir().memoizedState;return[t,e]},useMutableSource:ER,useSyncExternalStore:AR,useId:VR,unstable_isNewReconciler:!1};function Or(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Aw(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var a0={isMounted:function(t){return(t=t._reactInternals)?xl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=In(),s=xo(t),i=ai(r,s);i.payload=e,n!=null&&(i.callback=n),e=Eo(t,i,s),e!==null&&(Wr(e,t,s,r),nm(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=In(),s=xo(t),i=ai(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Eo(t,i,s),e!==null&&(Wr(e,t,s,r),nm(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=In(),r=xo(t),s=ai(n,r);s.tag=2,e!=null&&(s.callback=e),e=Eo(t,s,r),e!==null&&(Wr(e,t,r,n),nm(e,t,r))}};function gT(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ed(n,r)||!Ed(s,i):!0}function UR(t,e,n){var r=!1,s=Oo,i=e.contextType;return typeof i=="object"&&i!==null?i=br(i):(s=Bn(e)?rl:un.current,r=e.contextTypes,i=(r=r!=null)?pu(t,s):Oo),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=a0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&a0.enqueueReplaceState(e,e.state,null)}function xw(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},j_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=br(i):(i=Bn(e)?rl:un.current,s.context=pu(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Aw(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&a0.enqueueReplaceState(s,s.state,null),Qm(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function vu(t,e){try{var n="",r=e;do n+=lL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L8=typeof WeakMap=="function"?WeakMap:Map;function jR(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zm||(Zm=!0,Dw=r),Tw(t,e)},n}function zR(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Tw(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Tw(t,e),typeof r!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L8;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=q8.bind(null,t,e,n),e.then(t,t))}function wT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _T(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,Eo(n,e,1))),n.lanes|=1),t)}var V8=bi.ReactCurrentOwner,Vn=!1;function vn(t,e,n,r){e.child=t===null?yR(e,null,n,r):gu(e,t.child,n,r)}function ET(t,e,n,r,s){n=n.render;var i=e.ref;return vc(e,s),r=W_(t,e,n,r,i,s),n=K_(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pi(t,e,s)):(Ke&&n&&D_(e),e.flags|=1,vn(t,e,r,s),e.child)}function AT(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!rE(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,HR(t,e,i,r,s)):(t=lm(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ed,n(o,r)&&t.ref===e.ref)return pi(t,e,s)}return e.flags|=1,t=To(i,r),t.ref=e.ref,t.return=e,e.child=t}function HR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ed(i,r)&&t.ref===e.ref)if(Vn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Vn=!0);else return e.lanes=t.lanes,pi(t,e,s)}return bw(t,e,n,r,s)}function GR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(nc,Yn),Yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(nc,Yn),Yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ue(nc,Yn),Yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ue(nc,Yn),Yn|=r;return vn(t,e,s,n),e.child}function $R(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function bw(t,e,n,r,s){var i=Bn(n)?rl:un.current;return i=pu(e,i),vc(e,s),n=W_(t,e,n,r,i,s),r=K_(),t!==null&&!Vn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pi(t,e,s)):(Ke&&r&&D_(e),e.flags|=1,vn(t,e,n,s),e.child)}function xT(t,e,n,r,s){if(Bn(n)){var i=!0;Hm(e)}else i=!1;if(vc(e,s),e.stateNode===null)im(t,e),UR(e,n,r),xw(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=br(c):(c=Bn(n)?rl:un.current,c=pu(e,c));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&yT(e,o,r,c),zi=!1;var f=e.memoizedState;o.state=f,Qm(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Fn.current||zi?(typeof h=="function"&&(Aw(e,n,h,r),l=e.memoizedState),(a=zi||gT(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Or(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=br(l):(l=Bn(n)?rl:un.current,l=pu(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&yT(e,o,r,l),zi=!1,f=e.memoizedState,o.state=f,Qm(e,r,o,s);var w=e.memoizedState;a!==d||f!==w||Fn.current||zi?(typeof g=="function"&&(Aw(e,n,g,r),w=e.memoizedState),(c=zi||gT(e,n,c,r,f,w,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Iw(t,e,n,r,i,s)}function Iw(t,e,n,r,s,i){$R(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&lT(e,n,!1),pi(t,e,i);r=e.stateNode,V8.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=gu(e,t.child,null,i),e.child=gu(e,null,a,i)):vn(t,e,a,i),e.memoizedState=r.state,s&&lT(e,n,!0),e.child}function WR(t){var e=t.stateNode;e.pendingContext?aT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&aT(t,e.context,!1),z_(t,e.containerInfo)}function TT(t,e,n,r,s){return mu(),V_(s),e.flags|=256,vn(t,e,n,r),e.child}var Sw={dehydrated:null,treeContext:null,retryLane:0};function Pw(t){return{baseLanes:t,cachePool:null,transitions:null}}function KR(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ue(Je,s&1),t===null)return _w(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=u0(o,r,0,null),t=qa(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Pw(n),e.memoizedState=Sw,t):J_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return M8(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=To(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=To(a,i):(i=qa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Pw(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Sw,r}return i=t.child,t=i.sibling,r=To(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function J_(t,e){return e=u0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ip(t,e,n,r){return r!==null&&V_(r),gu(e,t.child,null,n),t=J_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function M8(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qy(Error(K(422))),Ip(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=u0({mode:"visible",children:r.children},s,0,null),i=qa(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&gu(e,t.child,null,o),e.child.memoizedState=Pw(o),e.memoizedState=Sw,i);if(!(e.mode&1))return Ip(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=qy(i,r,void 0),Ip(t,e,o,r)}if(a=(o&t.childLanes)!==0,Vn||a){if(r=Lt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fi(t,s),Wr(r,t,s,-1))}return nE(),r=qy(Error(K(421))),Ip(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=J8.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Zn=_o(s.nextSibling),rr=e,Ke=!0,jr=null,t!==null&&(wr[_r++]=ti,wr[_r++]=ni,wr[_r++]=sl,ti=t.id,ni=t.overflow,sl=e),e=J_(e,r.children),e.flags|=4096,e)}function bT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ew(t.return,e,n)}function Jy(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function QR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(vn(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bT(t,n,e);else if(t.tag===19)bT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qm(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Jy(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qm(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Jy(e,!0,n,null,i);break;case"together":Jy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function im(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ol|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=To(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=To(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function F8(t,e,n){switch(e.tag){case 3:WR(e),mu();break;case 5:_R(e);break;case 1:Bn(e.type)&&Hm(e);break;case 4:z_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ue(Wm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?KR(t,e,n):(Ue(Je,Je.current&1),t=pi(t,e,n),t!==null?t.sibling:null);Ue(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return QR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,GR(t,e,n)}return pi(t,e,n)}var qR,Cw,JR,YR;qR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cw=function(){};JR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_a(Es.current);var i=null;switch(n){case"input":s=Yv(t,s),r=Yv(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=ew(t,s),r=ew(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jm)}nw(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(pd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(pd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ge("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};YR=function(t,e,n,r){n!==r&&(e.flags|=4)};function _h(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B8(t,e,n){var r=e.pendingProps;switch(L_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(e),null;case 1:return Bn(e.type)&&zm(),Zt(e),null;case 3:return r=e.stateNode,yu(),We(Fn),We(un),G_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Tp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jr!==null&&(Mw(jr),jr=null))),Cw(t,e),Zt(e),null;case 5:H_(e);var s=_a(Id.current);if(n=e.type,t!==null&&e.stateNode!=null)JR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return Zt(e),null}if(t=_a(Es.current),Tp(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ms]=e,r[Td]=i,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(s=0;s<Ch.length;s++)Ge(Ch[s],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":Dx(r,i),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ge("invalid",r);break;case"textarea":Vx(r,i),Ge("invalid",r)}nw(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&xp(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&xp(r.textContent,a,t),s=["children",""+a]):pd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":mp(r),Lx(r,i,!0);break;case"textarea":mp(r),Mx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=jm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ms]=e,t[Td]=r,qR(t,e,!1,!1),e.stateNode=t;e:{switch(o=rw(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),s=r;break;case"iframe":case"object":case"embed":Ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ch.length;s++)Ge(Ch[s],t);s=r;break;case"source":Ge("error",t),s=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),s=r;break;case"details":Ge("toggle",t),s=r;break;case"input":Dx(t,r),s=Yv(t,r),Ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":Vx(t,r),s=ew(t,r),Ge("invalid",t);break;default:s=r}nw(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?PC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&md(t,l):typeof l=="number"&&md(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(pd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ge("scroll",t):l!=null&&__(t,i,l,o))}switch(n){case"input":mp(t),Lx(t,r,!1);break;case"textarea":mp(t),Mx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+No(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pc(t,!!r.multiple,i,!1):r.defaultValue!=null&&pc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Zt(e),null;case 6:if(t&&e.stateNode!=null)YR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=_a(Id.current),_a(Es.current),Tp(e)){if(r=e.stateNode,n=e.memoizedProps,r[ms]=e,(i=r.nodeValue!==n)&&(t=rr,t!==null))switch(t.tag){case 3:xp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xp(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ms]=e,e.stateNode=r}return Zt(e),null;case 13:if(We(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&Zn!==null&&e.mode&1&&!(e.flags&128))mR(),mu(),e.flags|=98560,i=!1;else if(i=Tp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[ms]=e}else mu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Zt(e),i=!1}else jr!==null&&(Mw(jr),jr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?xt===0&&(xt=3):nE())),e.updateQueue!==null&&(e.flags|=4),Zt(e),null);case 4:return yu(),Cw(t,e),t===null&&Ad(e.stateNode.containerInfo),Zt(e),null;case 10:return B_(e.type._context),Zt(e),null;case 17:return Bn(e.type)&&zm(),Zt(e),null;case 19:if(We(Je),i=e.memoizedState,i===null)return Zt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_h(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qm(t),o!==null){for(e.flags|=128,_h(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&ft()>wu&&(e.flags|=128,r=!0,_h(i,!1),e.lanes=4194304)}else{if(!r)if(t=qm(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_h(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return Zt(e),null}else 2*ft()-i.renderingStartTime>wu&&n!==1073741824&&(e.flags|=128,r=!0,_h(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ft(),e.sibling=null,n=Je.current,Ue(Je,r?n&1|2:n&1),e):(Zt(e),null);case 22:case 23:return tE(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yn&1073741824&&(Zt(e),e.subtreeFlags&6&&(e.flags|=8192)):Zt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function U8(t,e){switch(L_(e),e.tag){case 1:return Bn(e.type)&&zm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return yu(),We(Fn),We(un),G_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return H_(e),null;case 13:if(We(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));mu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Je),null;case 4:return yu(),null;case 10:return B_(e.type._context),null;case 22:case 23:return tE(),null;case 24:return null;default:return null}}var Sp=!1,on=!1,j8=typeof WeakSet=="function"?WeakSet:Set,se=null;function tc(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Rw(t,e,n){try{n()}catch(r){ot(t,e,r)}}var IT=!1;function z8(t,e){if(fw=Fm,t=nR(),O_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++h===r&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(pw={focusedElem:t,selectionRange:n},Fm=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,T=w.memoizedState,_=e.stateNode,E=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Or(e.type,v),T);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(N){ot(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return w=IT,IT=!1,w}function qh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Rw(e,n,i)}s=s.next}while(s!==r)}}function l0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XR(t){var e=t.alternate;e!==null&&(t.alternate=null,XR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ms],delete e[Td],delete e[yw],delete e[T8],delete e[b8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZR(t){return t.tag===5||t.tag===3||t.tag===4}function ST(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jm));else if(r!==4&&(t=t.child,t!==null))for(Nw(t,e,n),t=t.sibling;t!==null;)Nw(t,e,n),t=t.sibling}function Ow(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ow(t,e,n),t=t.sibling;t!==null;)Ow(t,e,n),t=t.sibling}var Ft=null,Ur=!1;function Oi(t,e,n){for(n=n.child;n!==null;)e4(t,e,n),n=n.sibling}function e4(t,e,n){if(_s&&typeof _s.onCommitFiberUnmount=="function")try{_s.onCommitFiberUnmount(e0,n)}catch{}switch(n.tag){case 5:on||tc(n,e);case 6:var r=Ft,s=Ur;Ft=null,Oi(t,e,n),Ft=r,Ur=s,Ft!==null&&(Ur?(t=Ft,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ft.removeChild(n.stateNode));break;case 18:Ft!==null&&(Ur?(t=Ft,n=n.stateNode,t.nodeType===8?Hy(t.parentNode,n):t.nodeType===1&&Hy(t,n),wd(t)):Hy(Ft,n.stateNode));break;case 4:r=Ft,s=Ur,Ft=n.stateNode.containerInfo,Ur=!0,Oi(t,e,n),Ft=r,Ur=s;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Rw(n,e,o),s=s.next}while(s!==r)}Oi(t,e,n);break;case 1:if(!on&&(tc(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Oi(t,e,n),on=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function PT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new j8),e.forEach(function(r){var s=Y8.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ft=a.stateNode,Ur=!1;break e;case 3:Ft=a.stateNode.containerInfo,Ur=!0;break e;case 4:Ft=a.stateNode.containerInfo,Ur=!0;break e}a=a.return}if(Ft===null)throw Error(K(160));e4(i,o,s),Ft=null,Ur=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ot(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)t4(e,t),e=e.sibling}function t4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rr(e,t),ts(t),r&4){try{qh(3,t,t.return),l0(3,t)}catch(v){ot(t,t.return,v)}try{qh(5,t,t.return)}catch(v){ot(t,t.return,v)}}break;case 1:Rr(e,t),ts(t),r&512&&n!==null&&tc(n,n.return);break;case 5:if(Rr(e,t),ts(t),r&512&&n!==null&&tc(n,n.return),t.flags&32){var s=t.stateNode;try{md(s,"")}catch(v){ot(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&xC(s,i),rw(a,o);var c=rw(a,i);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?PC(s,d):h==="dangerouslySetInnerHTML"?IC(s,d):h==="children"?md(s,d):__(s,h,d,c)}switch(a){case"input":Xv(s,i);break;case"textarea":TC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?pc(s,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?pc(s,!!i.multiple,i.defaultValue,!0):pc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Td]=i}catch(v){ot(t,t.return,v)}}break;case 6:if(Rr(e,t),ts(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){ot(t,t.return,v)}}break;case 3:if(Rr(e,t),ts(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wd(e.containerInfo)}catch(v){ot(t,t.return,v)}break;case 4:Rr(e,t),ts(t);break;case 13:Rr(e,t),ts(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Z_=ft())),r&4&&PT(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(on=(c=on)||h,Rr(e,t),on=c):Rr(e,t),ts(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(se=t,h=t.child;h!==null;){for(d=se=h;se!==null;){switch(f=se,g=f.child,f.tag){case 0:case 11:case 14:case 15:qh(4,f,f.return);break;case 1:tc(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){ot(r,n,v)}}break;case 5:tc(f,f.return);break;case 22:if(f.memoizedState!==null){RT(d);continue}}g!==null?(g.return=f,se=g):RT(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=SC("display",o))}catch(v){ot(t,t.return,v)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){ot(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Rr(e,t),ts(t),r&4&&PT(t);break;case 21:break;default:Rr(e,t),ts(t)}}function ts(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZR(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(md(s,""),r.flags&=-33);var i=ST(t);Ow(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ST(t);Nw(t,a,o);break;default:throw Error(K(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function H8(t,e,n){se=t,n4(t)}function n4(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||on;a=Sp;var c=on;if(Sp=o,(on=l)&&!c)for(se=s;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?kT(s):l!==null?(l.return=o,se=l):kT(s);for(;i!==null;)se=i,n4(i),i=i.sibling;se=s,Sp=a,on=c}CT(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):CT(t)}}function CT(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||l0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Or(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&fT(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&wd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}on||e.flags&512&&kw(e)}catch(f){ot(e,e.return,f)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function RT(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function kT(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{l0(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ot(e,s,l)}}var i=e.return;try{kw(e)}catch(l){ot(e,i,l)}break;case 5:var o=e.return;try{kw(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var G8=Math.ceil,Xm=bi.ReactCurrentDispatcher,Y_=bi.ReactCurrentOwner,xr=bi.ReactCurrentBatchConfig,Ce=0,Lt=null,vt=null,Gt=0,Yn=0,nc=qo(0),xt=0,Rd=null,ol=0,c0=0,X_=0,Jh=null,On=null,Z_=0,wu=1/0,Ms=null,Zm=!1,Dw=null,Ao=null,Pp=!1,po=null,eg=0,Yh=0,Lw=null,om=-1,am=0;function In(){return Ce&6?ft():om!==-1?om:om=ft()}function xo(t){return t.mode&1?Ce&2&&Gt!==0?Gt&-Gt:S8.transition!==null?(am===0&&(am=UC()),am):(t=Le,t!==0||(t=window.event,t=t===void 0?16:KC(t.type)),t):1}function Wr(t,e,n,r){if(50<Yh)throw Yh=0,Lw=null,Error(K(185));Ef(t,n,r),(!(Ce&2)||t!==Lt)&&(t===Lt&&(!(Ce&2)&&(c0|=n),xt===4&&Gi(t,Gt)),Un(t,r),n===1&&Ce===0&&!(e.mode&1)&&(wu=ft()+500,i0&&Jo()))}function Un(t,e){var n=t.callbackNode;SL(t,e);var r=Mm(t,t===Lt?Gt:0);if(r===0)n!==null&&Ux(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ux(n),e===1)t.tag===0?I8(NT.bind(null,t)):dR(NT.bind(null,t)),A8(function(){!(Ce&6)&&Jo()}),n=null;else{switch(jC(r)){case 1:n=b_;break;case 4:n=FC;break;case 16:n=Vm;break;case 536870912:n=BC;break;default:n=Vm}n=u4(n,r4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function r4(t,e){if(om=-1,am=0,Ce&6)throw Error(K(327));var n=t.callbackNode;if(wc()&&t.callbackNode!==n)return null;var r=Mm(t,t===Lt?Gt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tg(t,r);else{e=r;var s=Ce;Ce|=2;var i=i4();(Lt!==t||Gt!==e)&&(Ms=null,wu=ft()+500,Qa(t,e));do try{K8();break}catch(a){s4(t,a)}while(!0);F_(),Xm.current=i,Ce=s,vt!==null?e=0:(Lt=null,Gt=0,e=xt)}if(e!==0){if(e===2&&(s=lw(t),s!==0&&(r=s,e=Vw(t,s))),e===1)throw n=Rd,Qa(t,0),Gi(t,r),Un(t,ft()),n;if(e===6)Gi(t,r);else{if(s=t.current.alternate,!(r&30)&&!$8(s)&&(e=tg(t,r),e===2&&(i=lw(t),i!==0&&(r=i,e=Vw(t,i))),e===1))throw n=Rd,Qa(t,0),Gi(t,r),Un(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:ua(t,On,Ms);break;case 3:if(Gi(t,r),(r&130023424)===r&&(e=Z_+500-ft(),10<e)){if(Mm(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){In(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gw(ua.bind(null,t,On,Ms),e);break}ua(t,On,Ms);break;case 4:if(Gi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-$r(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G8(r/1960))-r,10<r){t.timeoutHandle=gw(ua.bind(null,t,On,Ms),r);break}ua(t,On,Ms);break;case 5:ua(t,On,Ms);break;default:throw Error(K(329))}}}return Un(t,ft()),t.callbackNode===n?r4.bind(null,t):null}function Vw(t,e){var n=Jh;return t.current.memoizedState.isDehydrated&&(Qa(t,e).flags|=256),t=tg(t,e),t!==2&&(e=On,On=n,e!==null&&Mw(e)),t}function Mw(t){On===null?On=t:On.push.apply(On,t)}function $8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Gi(t,e){for(e&=~X_,e&=~c0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$r(e),r=1<<n;t[n]=-1,e&=~r}}function NT(t){if(Ce&6)throw Error(K(327));wc();var e=Mm(t,0);if(!(e&1))return Un(t,ft()),null;var n=tg(t,e);if(t.tag!==0&&n===2){var r=lw(t);r!==0&&(e=r,n=Vw(t,r))}if(n===1)throw n=Rd,Qa(t,0),Gi(t,e),Un(t,ft()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t,On,Ms),Un(t,ft()),null}function eE(t,e){var n=Ce;Ce|=1;try{return t(e)}finally{Ce=n,Ce===0&&(wu=ft()+500,i0&&Jo())}}function al(t){po!==null&&po.tag===0&&!(Ce&6)&&wc();var e=Ce;Ce|=1;var n=xr.transition,r=Le;try{if(xr.transition=null,Le=1,t)return t()}finally{Le=r,xr.transition=n,Ce=e,!(Ce&6)&&Jo()}}function tE(){Yn=nc.current,We(nc)}function Qa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,E8(n)),vt!==null)for(n=vt.return;n!==null;){var r=n;switch(L_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zm();break;case 3:yu(),We(Fn),We(un),G_();break;case 5:H_(r);break;case 4:yu();break;case 13:We(Je);break;case 19:We(Je);break;case 10:B_(r.type._context);break;case 22:case 23:tE()}n=n.return}if(Lt=t,vt=t=To(t.current,null),Gt=Yn=e,xt=0,Rd=null,X_=c0=ol=0,On=Jh=null,wa!==null){for(e=0;e<wa.length;e++)if(n=wa[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}wa=null}return t}function s4(t,e){do{var n=vt;try{if(F_(),rm.current=Ym,Jm){for(var r=et.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Jm=!1}if(il=0,kt=At=et=null,Qh=!1,Sd=0,Y_.current=null,n===null||n.return===null){xt=1,Rd=e,vt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Gt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=wT(o);if(g!==null){g.flags&=-257,_T(g,o,a,i,e),g.mode&1&&vT(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var v=new Set;v.add(l),e.updateQueue=v}else w.add(l);break e}else{if(!(e&1)){vT(i,c,e),nE();break e}l=Error(K(426))}}else if(Ke&&a.mode&1){var T=wT(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),_T(T,o,a,i,e),V_(vu(l,a));break e}}i=l=vu(l,a),xt!==4&&(xt=2),Jh===null?Jh=[i]:Jh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=jR(i,l,e);dT(i,_);break e;case 1:a=l;var E=i.type,A=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ao===null||!Ao.has(A)))){i.flags|=65536,e&=-e,i.lanes|=e;var N=zR(i,a,e);dT(i,N);break e}}i=i.return}while(i!==null)}a4(n)}catch(D){e=D,vt===n&&n!==null&&(vt=n=n.return);continue}break}while(!0)}function i4(){var t=Xm.current;return Xm.current=Ym,t===null?Ym:t}function nE(){(xt===0||xt===3||xt===2)&&(xt=4),Lt===null||!(ol&268435455)&&!(c0&268435455)||Gi(Lt,Gt)}function tg(t,e){var n=Ce;Ce|=2;var r=i4();(Lt!==t||Gt!==e)&&(Ms=null,Qa(t,e));do try{W8();break}catch(s){s4(t,s)}while(!0);if(F_(),Ce=n,Xm.current=r,vt!==null)throw Error(K(261));return Lt=null,Gt=0,xt}function W8(){for(;vt!==null;)o4(vt)}function K8(){for(;vt!==null&&!vL();)o4(vt)}function o4(t){var e=c4(t.alternate,t,Yn);t.memoizedProps=t.pendingProps,e===null?a4(t):vt=e,Y_.current=null}function a4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=U8(n,e),n!==null){n.flags&=32767,vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,vt=null;return}}else if(n=B8(n,e,Yn),n!==null){vt=n;return}if(e=e.sibling,e!==null){vt=e;return}vt=e=t}while(e!==null);xt===0&&(xt=5)}function ua(t,e,n){var r=Le,s=xr.transition;try{xr.transition=null,Le=1,Q8(t,e,n,r)}finally{xr.transition=s,Le=r}return null}function Q8(t,e,n,r){do wc();while(po!==null);if(Ce&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(PL(t,i),t===Lt&&(vt=Lt=null,Gt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pp||(Pp=!0,u4(Vm,function(){return wc(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=xr.transition,xr.transition=null;var o=Le;Le=1;var a=Ce;Ce|=4,Y_.current=null,z8(t,n),t4(n,t),p8(pw),Fm=!!fw,pw=fw=null,t.current=n,H8(n),wL(),Ce=a,Le=o,xr.transition=i}else t.current=n;if(Pp&&(Pp=!1,po=t,eg=s),i=t.pendingLanes,i===0&&(Ao=null),AL(n.stateNode),Un(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zm)throw Zm=!1,t=Dw,Dw=null,t;return eg&1&&t.tag!==0&&wc(),i=t.pendingLanes,i&1?t===Lw?Yh++:(Yh=0,Lw=t):Yh=0,Jo(),null}function wc(){if(po!==null){var t=jC(eg),e=xr.transition,n=Le;try{if(xr.transition=null,Le=16>t?16:t,po===null)var r=!1;else{if(t=po,po=null,eg=0,Ce&6)throw Error(K(331));var s=Ce;for(Ce|=4,se=t.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(se=c;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:qh(8,h,i)}var d=h.child;if(d!==null)d.return=h,se=d;else for(;se!==null;){h=se;var f=h.sibling,g=h.return;if(XR(h),h===c){se=null;break}if(f!==null){f.return=g,se=f;break}se=g}}}var w=i.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qh(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,se=_;break e}se=i.return}}var E=t.current;for(se=E;se!==null;){o=se;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,se=A;else e:for(o=E;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:l0(9,a)}}catch(D){ot(a,a.return,D)}if(a===o){se=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,se=N;break e}se=a.return}}if(Ce=s,Jo(),_s&&typeof _s.onPostCommitFiberRoot=="function")try{_s.onPostCommitFiberRoot(e0,t)}catch{}r=!0}return r}finally{Le=n,xr.transition=e}}return!1}function OT(t,e,n){e=vu(n,e),e=jR(t,e,1),t=Eo(t,e,1),e=In(),t!==null&&(Ef(t,1,e),Un(t,e))}function ot(t,e,n){if(t.tag===3)OT(t,t,n);else for(;e!==null;){if(e.tag===3){OT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ao===null||!Ao.has(r))){t=vu(n,t),t=zR(e,t,1),e=Eo(e,t,1),t=In(),e!==null&&(Ef(e,1,t),Un(e,t));break}}e=e.return}}function q8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=In(),t.pingedLanes|=t.suspendedLanes&n,Lt===t&&(Gt&n)===n&&(xt===4||xt===3&&(Gt&130023424)===Gt&&500>ft()-Z_?Qa(t,0):X_|=n),Un(t,e)}function l4(t,e){e===0&&(t.mode&1?(e=vp,vp<<=1,!(vp&130023424)&&(vp=4194304)):e=1);var n=In();t=fi(t,e),t!==null&&(Ef(t,e,n),Un(t,n))}function J8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l4(t,n)}function Y8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),l4(t,n)}var c4;c4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fn.current)Vn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vn=!1,F8(t,e,n);Vn=!!(t.flags&131072)}else Vn=!1,Ke&&e.flags&1048576&&fR(e,$m,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;im(t,e),t=e.pendingProps;var s=pu(e,un.current);vc(e,n),s=W_(null,e,r,t,s,n);var i=K_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(i=!0,Hm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,j_(e),s.updater=a0,e.stateNode=s,s._reactInternals=e,xw(e,r,t,n),e=Iw(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&D_(e),vn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(im(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Z8(r),t=Or(r,t),s){case 0:e=bw(null,e,r,t,n);break e;case 1:e=xT(null,e,r,t,n);break e;case 11:e=ET(null,e,r,t,n);break e;case 14:e=AT(null,e,r,Or(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),bw(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),xT(t,e,r,s,n);case 3:e:{if(WR(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,wR(t,e),Qm(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=vu(Error(K(423)),e),e=TT(t,e,r,n,s);break e}else if(r!==s){s=vu(Error(K(424)),e),e=TT(t,e,r,n,s);break e}else for(Zn=_o(e.stateNode.containerInfo.firstChild),rr=e,Ke=!0,jr=null,n=yR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mu(),r===s){e=pi(t,e,n);break e}vn(t,e,r,n)}e=e.child}return e;case 5:return _R(e),t===null&&_w(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,mw(r,s)?o=null:i!==null&&mw(r,i)&&(e.flags|=32),$R(t,e),vn(t,e,o,n),e.child;case 6:return t===null&&_w(e),null;case 13:return KR(t,e,n);case 4:return z_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gu(e,null,r,n):vn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),ET(t,e,r,s,n);case 7:return vn(t,e,e.pendingProps,n),e.child;case 8:return vn(t,e,e.pendingProps.children,n),e.child;case 12:return vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ue(Wm,r._currentValue),r._currentValue=o,i!==null)if(Qr(i.value,o)){if(i.children===s.children&&!Fn.current){e=pi(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ai(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ew(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ew(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}vn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,vc(e,n),s=br(s),r=r(s),e.flags|=1,vn(t,e,r,n),e.child;case 14:return r=e.type,s=Or(r,e.pendingProps),s=Or(r.type,s),AT(t,e,r,s,n);case 15:return HR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Or(r,s),im(t,e),e.tag=1,Bn(r)?(t=!0,Hm(e)):t=!1,vc(e,n),UR(e,r,s),xw(e,r,s,n),Iw(null,e,r,!0,t,n);case 19:return QR(t,e,n);case 22:return GR(t,e,n)}throw Error(K(156,e.tag))};function u4(t,e){return MC(t,e)}function X8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Er(t,e,n,r){return new X8(t,e,n,r)}function rE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Z8(t){if(typeof t=="function")return rE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===A_)return 11;if(t===x_)return 14}return 2}function To(t,e){var n=t.alternate;return n===null?(n=Er(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function lm(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")rE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wl:return qa(n.children,s,i,e);case E_:o=8,s|=8;break;case Kv:return t=Er(12,n,e,s|2),t.elementType=Kv,t.lanes=i,t;case Qv:return t=Er(13,n,e,s),t.elementType=Qv,t.lanes=i,t;case qv:return t=Er(19,n,e,s),t.elementType=qv,t.lanes=i,t;case _C:return u0(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vC:o=10;break e;case wC:o=9;break e;case A_:o=11;break e;case x_:o=14;break e;case ji:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Er(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qa(t,e,n,r){return t=Er(7,t,r,e),t.lanes=n,t}function u0(t,e,n,r){return t=Er(22,t,r,e),t.elementType=_C,t.lanes=n,t.stateNode={isHidden:!1},t}function Yy(t,e,n){return t=Er(6,t,null,e),t.lanes=n,t}function Xy(t,e,n){return e=Er(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ny(0),this.expirationTimes=Ny(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ny(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sE(t,e,n,r,s,i,o,a,l){return t=new eV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Er(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j_(i),t}function tV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$l,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h4(t){if(!t)return Oo;t=t._reactInternals;e:{if(xl(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Bn(n))return hR(t,n,e)}return e}function d4(t,e,n,r,s,i,o,a,l){return t=sE(n,r,!0,t,s,i,o,a,l),t.context=h4(null),n=t.current,r=In(),s=xo(n),i=ai(r,s),i.callback=e??null,Eo(n,i,s),t.current.lanes=s,Ef(t,s,r),Un(t,r),t}function h0(t,e,n,r){var s=e.current,i=In(),o=xo(s);return n=h4(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Eo(s,e,o),t!==null&&(Wr(t,s,o,i),nm(t,s,o)),o}function ng(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function DT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function iE(t,e){DT(t,e),(t=t.alternate)&&DT(t,e)}function nV(){return null}var f4=typeof reportError=="function"?reportError:function(t){console.error(t)};function oE(t){this._internalRoot=t}d0.prototype.render=oE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));h0(t,e,null,null)};d0.prototype.unmount=oE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;al(function(){h0(null,t,null,null)}),e[di]=null}};function d0(t){this._internalRoot=t}d0.prototype.unstable_scheduleHydration=function(t){if(t){var e=GC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hi.length&&e!==0&&e<Hi[n].priority;n++);Hi.splice(n,0,t),n===0&&WC(t)}};function aE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LT(){}function rV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ng(o);i.call(c)}}var o=d4(e,r,t,0,null,!1,!1,"",LT);return t._reactRootContainer=o,t[di]=o.current,Ad(t.nodeType===8?t.parentNode:t),al(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ng(l);a.call(c)}}var l=sE(t,0,!1,null,null,!1,!1,"",LT);return t._reactRootContainer=l,t[di]=l.current,Ad(t.nodeType===8?t.parentNode:t),al(function(){h0(e,l,n,r)}),l}function p0(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ng(o);a.call(l)}}h0(e,o,t,s)}else o=rV(n,e,t,s,r);return ng(o)}zC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ph(e.pendingLanes);n!==0&&(I_(e,n|1),Un(e,ft()),!(Ce&6)&&(wu=ft()+500,Jo()))}break;case 13:al(function(){var r=fi(t,1);if(r!==null){var s=In();Wr(r,t,1,s)}}),iE(t,1)}};S_=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var n=In();Wr(e,t,134217728,n)}iE(t,134217728)}};HC=function(t){if(t.tag===13){var e=xo(t),n=fi(t,e);if(n!==null){var r=In();Wr(n,t,e,r)}iE(t,e)}};GC=function(){return Le};$C=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};iw=function(t,e,n){switch(e){case"input":if(Xv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=s0(r);if(!s)throw Error(K(90));AC(r),Xv(r,s)}}}break;case"textarea":TC(t,n);break;case"select":e=n.value,e!=null&&pc(t,!!n.multiple,e,!1)}};kC=eE;NC=al;var sV={usingClientEntryPoint:!1,Events:[xf,Jl,s0,CC,RC,eE]},Eh={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iV={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LC(t),t===null?null:t.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||nV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cp.isDisabled&&Cp.supportsFiber)try{e0=Cp.inject(iV),_s=Cp}catch{}}or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sV;or.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!aE(e))throw Error(K(200));return tV(t,e,null,n)};or.createRoot=function(t,e){if(!aE(t))throw Error(K(299));var n=!1,r="",s=f4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sE(t,1,!1,null,null,n,!1,r,s),t[di]=e.current,Ad(t.nodeType===8?t.parentNode:t),new oE(e)};or.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=LC(e),t=t===null?null:t.stateNode,t};or.flushSync=function(t){return al(t)};or.hydrate=function(t,e,n){if(!f0(e))throw Error(K(200));return p0(null,t,e,!0,n)};or.hydrateRoot=function(t,e,n){if(!aE(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=f4;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=d4(e,null,t,1,n??null,s,!1,i,o),t[di]=e.current,Ad(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new d0(e)};or.render=function(t,e,n){if(!f0(e))throw Error(K(200));return p0(null,t,e,!1,n)};or.unmountComponentAtNode=function(t){if(!f0(t))throw Error(K(40));return t._reactRootContainer?(al(function(){p0(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};or.unstable_batchedUpdates=eE;or.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!f0(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return p0(t,e,n,!1,r)};or.version="18.3.1-next-f1338f8080-20240426";function p4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p4)}catch(t){console.error(t)}}p4(),pC.exports=or;var oV=pC.exports,VT=oV;$v.createRoot=VT.createRoot,$v.hydrateRoot=VT.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kd(){return kd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kd.apply(this,arguments)}var mo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mo||(mo={}));const MT="popstate";function aV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Fw("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:g4(s)}return cV(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function m4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lV(){return Math.random().toString(36).substr(2,8)}function FT(t,e){return{usr:t.state,key:t.key,idx:e}}function Fw(t,e,n,r){return n===void 0&&(n=null),kd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bu(e):e,{state:n,key:e&&e.key||r||lV()})}function g4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=mo.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(kd({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=mo.Pop;let T=h(),_=T==null?null:T-c;c=T,l&&l({action:a,location:v.location,delta:_})}function f(T,_){a=mo.Push;let E=Fw(v.location,T,_);c=h()+1;let A=FT(E,c),N=v.createHref(E);try{o.pushState(A,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(N)}i&&l&&l({action:a,location:v.location,delta:1})}function g(T,_){a=mo.Replace;let E=Fw(v.location,T,_);c=h();let A=FT(E,c),N=v.createHref(E);o.replaceState(A,"",N),i&&l&&l({action:a,location:v.location,delta:0})}function w(T){let _=s.location.origin!=="null"?s.location.origin:s.location.href,E=typeof T=="string"?T:g4(T);return E=E.replace(/ $/,"%20"),bt(_,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,_)}let v={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(MT,d),l=T,()=>{s.removeEventListener(MT,d),l=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let _=w(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:g,go(T){return o.go(T)}};return v}var BT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(BT||(BT={}));function uV(t,e,n){return n===void 0&&(n="/"),hV(t,e,n)}function hV(t,e,n,r){let s=typeof e=="string"?Bu(e):e,i=w4(s.pathname||"/",n);if(i==null)return null;let o=y4(t);dV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=TV(i);a=EV(o[l],c)}return a}function y4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ja([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),y4(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:wV(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of v4(i.path))s(i,o,l)}),e}function v4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=v4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:_V(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const fV=/^:[\w-]+$/,pV=3,mV=2,gV=1,yV=10,vV=-2,UT=t=>t==="*";function wV(t,e){let n=t.split("/"),r=n.length;return n.some(UT)&&(r+=vV),e&&(r+=mV),n.filter(s=>!UT(s)).reduce((s,i)=>s+(fV.test(i)?pV:i===""?gV:yV),r)}function _V(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function EV(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",d=AV({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),f=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Ja([i,d.pathname]),pathnameBase:RV(Ja([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=Ja([i,d.pathnameBase]))}return o}function AV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=xV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let v=a[d]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const w=a[d];return g&&!w?c[f]=void 0:c[f]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function xV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),m4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return m4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function w4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Bu(t):t;return{pathname:n?n.startsWith("/")?n:IV(n,e):e,search:kV(r),hash:NV(s)}}function IV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Zy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PV(t,e){let n=SV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function CV(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Bu(t):(s=kd({},t),bt(!s.pathname||!s.pathname.includes("?"),Zy("?","pathname","search",s)),bt(!s.pathname||!s.pathname.includes("#"),Zy("#","pathname","hash",s)),bt(!s.search||!s.search.includes("#"),Zy("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=bV(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const Ja=t=>t.join("/").replace(/\/\/+/g,"/"),RV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function OV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _4=["post","put","patch","delete"];new Set(_4);const DV=["get",..._4];new Set(DV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}const lE=L.createContext(null),LV=L.createContext(null),m0=L.createContext(null),g0=L.createContext(null),Tl=L.createContext({outlet:null,matches:[],isDataRoute:!1}),E4=L.createContext(null);function y0(){return L.useContext(g0)!=null}function A4(){return y0()||bt(!1),L.useContext(g0).location}function x4(t){L.useContext(m0).static||L.useLayoutEffect(t)}function Yr(){let{isDataRoute:t}=L.useContext(Tl);return t?QV():VV()}function VV(){y0()||bt(!1);let t=L.useContext(lE),{basename:e,future:n,navigator:r}=L.useContext(m0),{matches:s}=L.useContext(Tl),{pathname:i}=A4(),o=JSON.stringify(PV(s,n.v7_relativeSplatPath)),a=L.useRef(!1);return x4(()=>{a.current=!0}),L.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=CV(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ja([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,i,t])}function T4(){let{matches:t}=L.useContext(Tl),e=t[t.length-1];return e?e.params:{}}function MV(t,e){return FV(t,e)}function FV(t,e,n,r){y0()||bt(!1);let{navigator:s}=L.useContext(m0),{matches:i}=L.useContext(Tl),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=A4(),h;if(e){var d;let T=typeof e=="string"?Bu(e):e;l==="/"||(d=T.pathname)!=null&&d.startsWith(l)||bt(!1),h=T}else h=c;let f=h.pathname||"/",g=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=uV(t,{pathname:g}),v=HV(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ja([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ja([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&v?L.createElement(g0.Provider,{value:{location:Nd({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:mo.Pop}},v):v}function BV(){let t=KV(),e=OV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:s},n):null,null)}const UV=L.createElement(BV,null);class jV extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?L.createElement(Tl.Provider,{value:this.props.routeContext},L.createElement(E4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zV(t){let{routeContext:e,match:n,children:r}=t,s=L.useContext(lE);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),L.createElement(Tl.Provider,{value:e},r)}function HV(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||bt(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=h),d.route.id){let{loaderData:f,errors:g}=n,w=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,w=!1,v=null,T=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||UV,l&&(c<0&&f===0?(qV("route-fallback"),w=!0,T=null):c===f&&(w=!0,T=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),E=()=>{let A;return g?A=v:w?A=T:d.route.Component?A=L.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=h,L.createElement(zV,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?L.createElement(jV,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}var b4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(b4||{}),I4=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(I4||{});function GV(t){let e=L.useContext(lE);return e||bt(!1),e}function $V(t){let e=L.useContext(LV);return e||bt(!1),e}function WV(t){let e=L.useContext(Tl);return e||bt(!1),e}function S4(t){let e=WV(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function KV(){var t;let e=L.useContext(E4),n=$V(),r=S4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function QV(){let{router:t}=GV(b4.UseNavigateStable),e=S4(I4.UseNavigateStable),n=L.useRef(!1);return x4(()=>{n.current=!0}),L.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Nd({fromRouteId:e},i)))},[t,e])}const jT={};function qV(t,e,n){jT[t]||(jT[t]=!0)}function JV(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ur(t){bt(!1)}function YV(t){let{basename:e="/",children:n=null,location:r,navigationType:s=mo.Pop,navigator:i,static:o=!1,future:a}=t;y0()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=L.useMemo(()=>({basename:l,navigator:i,static:o,future:Nd({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Bu(r));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:w="default"}=r,v=L.useMemo(()=>{let T=w4(h,l);return T==null?null:{location:{pathname:T,search:d,hash:f,state:g,key:w},navigationType:s}},[l,h,d,f,g,w,s]);return v==null?null:L.createElement(m0.Provider,{value:c},L.createElement(g0.Provider,{children:n,value:v}))}function XV(t){let{children:e,location:n}=t;return MV(Bw(e),n)}new Promise(()=>{});function Bw(t,e){e===void 0&&(e=[]);let n=[];return L.Children.forEach(t,(r,s)=>{if(!L.isValidElement(r))return;let i=[...e,s];if(r.type===L.Fragment){n.push.apply(n,Bw(r.props.children,i));return}r.type!==ur&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bw(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ZV="6";try{window.__reactRouterVersion=ZV}catch{}const e9="startTransition",zT=q5[e9];function t9(t){let{basename:e,children:n,future:r,window:s}=t,i=L.useRef();i.current==null&&(i.current=aV({window:s,v5Compat:!0}));let o=i.current,[a,l]=L.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=L.useCallback(d=>{c&&zT?zT(()=>l(d)):l(d)},[l,c]);return L.useLayoutEffect(()=>o.listen(h),[o,h]),L.useEffect(()=>JV(r),[r]),L.createElement(YV,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var HT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HT||(HT={}));var GT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GT||(GT={}));const cE=L.createContext({});function uE(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const hE=typeof window<"u",P4=hE?L.useLayoutEffect:L.useEffect,v0=L.createContext(null);function dE(t,e){t.indexOf(e)===-1&&t.push(e)}function fE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mi=(t,e,n)=>n>e?e:n<t?t:n;let pE=()=>{};const gi={},C4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function R4(t){return typeof t=="object"&&t!==null}const k4=t=>/^0[^.\s]+$/u.test(t);function mE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Tr=t=>t,n9=(t,e)=>n=>e(t(n)),bf=(...t)=>t.reduce(n9),Od=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class gE{constructor(){this.subscriptions=[]}add(e){return dE(this.subscriptions,e),()=>fE(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const As=t=>t*1e3,Ar=t=>t/1e3;function N4(t,e){return e?t*(1e3/e):0}const O4=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,r9=1e-7,s9=12;function i9(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=O4(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>r9&&++a<s9);return o}function If(t,e,n,r){if(t===e&&n===r)return Tr;const s=i=>i9(i,0,1,t,n);return i=>i===0||i===1?i:O4(s(i),e,r)}const D4=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,L4=t=>e=>1-t(1-e),V4=If(.33,1.53,.69,.99),yE=L4(V4),M4=D4(yE),F4=t=>(t*=2)<1?.5*yE(t):.5*(2-Math.pow(2,-10*(t-1))),vE=t=>1-Math.sin(Math.acos(t)),B4=L4(vE),U4=D4(vE),o9=If(.42,0,1,1),a9=If(0,0,.58,1),j4=If(.42,0,.58,1),l9=t=>Array.isArray(t)&&typeof t[0]!="number",z4=t=>Array.isArray(t)&&typeof t[0]=="number",c9={linear:Tr,easeIn:o9,easeInOut:j4,easeOut:a9,circIn:vE,circInOut:U4,circOut:B4,backIn:yE,backInOut:M4,backOut:V4,anticipate:F4},u9=t=>typeof t=="string",$T=t=>{if(z4(t)){pE(t.length===4);const[e,n,r,s]=t;return If(e,n,r,s)}else if(u9(t))return c9[t];return t},Rp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function h9(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(h){o.has(h)&&(c.schedule(h),t()),h(a)}const c={schedule:(h,d=!1,f=!1)=>{const w=f&&s?n:r;return d&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(a=h,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(l),n.clear(),s=!1,i&&(i=!1,c.process(h))}};return c}const d9=40;function H4(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Rp.reduce((A,N)=>(A[N]=h9(i),A),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:f,render:g,postRender:w}=o,v=()=>{const A=gi.useManualTiming?s.timestamp:performance.now();n=!1,gi.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(A-s.timestamp,d9),1)),s.timestamp=A,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),h.process(s),d.process(s),f.process(s),g.process(s),w.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},T=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:Rp.reduce((A,N)=>{const D=o[N];return A[N]=(V,I=!1,x=!1)=>(n||T(),D.schedule(V,I,x)),A},{}),cancel:A=>{for(let N=0;N<Rp.length;N++)o[Rp[N]].cancel(A)},state:s,steps:o}}const{schedule:Qe,cancel:Do,state:Bt,steps:ev}=H4(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tr,!0);let cm;function f9(){cm=void 0}const Mn={now:()=>(cm===void 0&&Mn.set(Bt.isProcessing||gi.useManualTiming?Bt.timestamp:performance.now()),cm),set:t=>{cm=t,queueMicrotask(f9)}},G4=t=>e=>typeof e=="string"&&e.startsWith(t),wE=G4("--"),p9=G4("var(--"),_E=t=>p9(t)?m9.test(t.split("/*")[0].trim()):!1,m9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dd={...Uu,transform:t=>mi(0,1,t)},kp={...Uu,default:1},Xh=t=>Math.round(t*1e5)/1e5,EE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g9(t){return t==null}const y9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AE=(t,e)=>n=>!!(typeof n=="string"&&y9.test(n)&&n.startsWith(t)||e&&!g9(n)&&Object.prototype.hasOwnProperty.call(n,e)),$4=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(EE);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},v9=t=>mi(0,255,t),tv={...Uu,transform:t=>Math.round(v9(t))},Ea={test:AE("rgb","red"),parse:$4("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tv.transform(t)+", "+tv.transform(e)+", "+tv.transform(n)+", "+Xh(Dd.transform(r))+")"};function w9(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Uw={test:AE("#"),parse:w9,transform:Ea.transform},Sf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bi=Sf("deg"),xs=Sf("%"),de=Sf("px"),_9=Sf("vh"),E9=Sf("vw"),WT={...xs,parse:t=>xs.parse(t)/100,transform:t=>xs.transform(t*100)},rc={test:AE("hsl","hue"),parse:$4("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xs.transform(Xh(e))+", "+xs.transform(Xh(n))+", "+Xh(Dd.transform(r))+")"},yt={test:t=>Ea.test(t)||Uw.test(t)||rc.test(t),parse:t=>Ea.test(t)?Ea.parse(t):rc.test(t)?rc.parse(t):Uw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ea.transform(t):rc.transform(t),getAnimatableNone:t=>{const e=yt.parse(t);return e.alpha=0,yt.transform(e)}},A9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function x9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(EE))==null?void 0:e.length)||0)+(((n=t.match(A9))==null?void 0:n.length)||0)>0}const W4="number",K4="color",T9="var",b9="var(",KT="${}",I9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ld(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(I9,l=>(yt.test(l)?(r.color.push(i),s.push(K4),n.push(yt.parse(l))):l.startsWith(b9)?(r.var.push(i),s.push(T9),n.push(l)):(r.number.push(i),s.push(W4),n.push(parseFloat(l))),++i,KT)).split(KT);return{values:n,split:a,indexes:r,types:s}}function Q4(t){return Ld(t).values}function q4(t){const{split:e,types:n}=Ld(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===W4?i+=Xh(s[o]):a===K4?i+=yt.transform(s[o]):i+=s[o]}return i}}const S9=t=>typeof t=="number"?0:yt.test(t)?yt.getAnimatableNone(t):t;function P9(t){const e=Q4(t);return q4(t)(e.map(S9))}const Lo={test:x9,parse:Q4,createTransformer:q4,getAnimatableNone:P9};function nv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function C9({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=nv(l,a,t+1/3),i=nv(l,a,t),o=nv(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function rg(t,e){return n=>n>0?e:t}const Xe=(t,e,n)=>t+(e-t)*n,rv=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},R9=[Uw,Ea,rc],k9=t=>R9.find(e=>e.test(t));function QT(t){const e=k9(t);if(!e)return!1;let n=e.parse(t);return e===rc&&(n=C9(n)),n}const qT=(t,e)=>{const n=QT(t),r=QT(e);if(!n||!r)return rg(t,e);const s={...n};return i=>(s.red=rv(n.red,r.red,i),s.green=rv(n.green,r.green,i),s.blue=rv(n.blue,r.blue,i),s.alpha=Xe(n.alpha,r.alpha,i),Ea.transform(s))},jw=new Set(["none","hidden"]);function N9(t,e){return jw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function O9(t,e){return n=>Xe(t,e,n)}function xE(t){return typeof t=="number"?O9:typeof t=="string"?_E(t)?rg:yt.test(t)?qT:V9:Array.isArray(t)?J4:typeof t=="object"?yt.test(t)?qT:D9:rg}function J4(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>xE(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function D9(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=xE(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function L9(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const V9=(t,e)=>{const n=Lo.createTransformer(e),r=Ld(t),s=Ld(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?jw.has(t)&&!s.values.length||jw.has(e)&&!r.values.length?N9(t,e):bf(J4(L9(r,s),s.values),n):rg(t,e)};function Y4(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xe(t,e,n):xE(t)(t,e)}const M9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Qe.update(e,n),stop:()=>Do(e),now:()=>Bt.isProcessing?Bt.timestamp:Mn.now()}},X4=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},sg=2e4;function TE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sg;)e+=n,r=t.next(e);return e>=sg?1/0:e}function F9(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(TE(r),sg);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Ar(s)}}const B9=5;function Z4(t,e,n){const r=Math.max(e-B9,0);return N4(n-t(r),e-r)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sv=.001;function U9({duration:t=st.duration,bounce:e=st.bounce,velocity:n=st.velocity,mass:r=st.mass}){let s,i,o=1-e;o=mi(st.minDamping,st.maxDamping,o),t=mi(st.minDuration,st.maxDuration,Ar(t)),o<1?(s=c=>{const h=c*o,d=h*t,f=h-n,g=zw(c,o),w=Math.exp(-d);return sv-f/g*w},i=c=>{const d=c*o*t,f=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-d),v=zw(Math.pow(c,2),o);return(-s(c)+sv>0?-1:1)*((f-g)*w)/v}):(s=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-sv+h*d},i=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const a=5/t,l=z9(s,i,a);if(t=As(t),isNaN(l))return{stiffness:st.stiffness,damping:st.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const j9=12;function z9(t,e,n){let r=n;for(let s=1;s<j9;s++)r=r-t(r)/e(r);return r}function zw(t,e){return t*Math.sqrt(1-e*e)}const H9=["duration","bounce"],G9=["stiffness","damping","mass"];function JT(t,e){return e.some(n=>t[n]!==void 0)}function $9(t){let e={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...t};if(!JT(t,G9)&&JT(t,H9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*mi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:st.mass,stiffness:s,damping:i}}else{const n=U9(t);e={...e,...n,mass:st.mass},e.isResolvedFromDuration=!0}return e}function ig(t=st.visualDuration,e=st.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:h,duration:d,velocity:f,isResolvedFromDuration:g}=$9({...n,velocity:-Ar(n.velocity||0)}),w=f||0,v=c/(2*Math.sqrt(l*h)),T=o-i,_=Ar(Math.sqrt(l/h)),E=Math.abs(T)<5;r||(r=E?st.restSpeed.granular:st.restSpeed.default),s||(s=E?st.restDelta.granular:st.restDelta.default);let A;if(v<1){const D=zw(_,v);A=V=>{const I=Math.exp(-v*_*V);return o-I*((w+v*_*T)/D*Math.sin(D*V)+T*Math.cos(D*V))}}else if(v===1)A=D=>o-Math.exp(-_*D)*(T+(w+_*T)*D);else{const D=_*Math.sqrt(v*v-1);A=V=>{const I=Math.exp(-v*_*V),x=Math.min(D*V,300);return o-I*((w+v*_*T)*Math.sinh(x)+D*T*Math.cosh(x))/D}}const N={calculatedDuration:g&&d||null,next:D=>{const V=A(D);if(g)a.done=D>=d;else{let I=D===0?w:0;v<1&&(I=D===0?As(w):Z4(A,D,V));const x=Math.abs(I)<=r,P=Math.abs(o-V)<=s;a.done=x&&P}return a.value=a.done?o:V,a},toString:()=>{const D=Math.min(TE(N),sg),V=X4(I=>N.next(D*I).value,D,30);return D+"ms "+V},toTransition:()=>{}};return N}ig.applyToOptions=t=>{const e=F9(t,100,ig);return t.ease=e.ease,t.duration=As(e.duration),t.type="keyframes",t};function Hw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],f={done:!1,value:d},g=x=>a!==void 0&&x<a||l!==void 0&&x>l,w=x=>a===void 0?l:l===void 0||Math.abs(a-x)<Math.abs(l-x)?a:l;let v=n*e;const T=d+v,_=o===void 0?T:o(T);_!==T&&(v=_-d);const E=x=>-v*Math.exp(-x/r),A=x=>_+E(x),N=x=>{const P=E(x),C=A(x);f.done=Math.abs(P)<=c,f.value=f.done?_:C};let D,V;const I=x=>{g(f.value)&&(D=x,V=ig({keyframes:[f.value,w(f.value)],velocity:Z4(A,x,f.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return I(0),{calculatedDuration:null,next:x=>{let P=!1;return!V&&D===void 0&&(P=!0,N(x),I(x)),D!==void 0&&x>=D?V.next(x-D):(!P&&N(x),f)}}}function W9(t,e,n){const r=[],s=n||gi.mix||Y4,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Tr:e;a=bf(l,a)}r.push(a)}return r}function K9(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(pE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=W9(e,r,s),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const f=Od(t[d],t[d+1],h);return a[d](f)};return n?h=>c(mi(t[0],t[i-1],h)):c}function Q9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Od(0,e,r);t.push(Xe(n,1,s))}}function q9(t){const e=[0];return Q9(e,t.length-1),e}function J9(t,e){return t.map(n=>n*e)}function Y9(t,e){return t.map(()=>e||j4).splice(0,t.length-1)}function Zh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=l9(r)?r.map($T):$T(r),i={done:!1,value:e[0]},o=J9(n&&n.length===e.length?n:q9(e),t),a=K9(o,e,{ease:Array.isArray(s)?s:Y9(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const X9=t=>t!==null;function bE(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(X9),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Z9={decay:Hw,inertia:Hw,tween:Zh,keyframes:Zh,spring:ig};function ek(t){typeof t.type=="string"&&(t.type=Z9[t.type])}class IE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const eM=t=>t/100;class SE extends IE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Mn.now()&&this.tick(Mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;ek(e);const{type:n=Zh,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Zh;l!==Zh&&typeof a[0]!="number"&&(this.mixKeyframes=bf(eM,Y4(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=TE(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:f,repeatDelay:g,type:w,onUpdate:v,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let A=this.currentTime,N=r;if(d){const x=Math.min(this.currentTime,s)/a;let P=Math.floor(x),C=x%1;!C&&x>=1&&(C=1),C===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(f==="reverse"?(C=1-C,g&&(C-=g/a)):f==="mirror"&&(N=o)),A=mi(0,1,C)*a}const D=E?{done:!1,value:h[0]}:N.next(A);i&&(D.value=i(D.value));let{done:V}=D;!E&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return I&&w!==Hw&&(D.value=bE(h,this.options,T,this.speed)),v&&v(D.value),I&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Ar(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ar(e)}get time(){return Ar(this.currentTime)}set time(e){var n;e=As(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ar(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=M9,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function tM(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Aa=t=>t*180/Math.PI,Gw=t=>{const e=Aa(Math.atan2(t[1],t[0]));return $w(e)},nM={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gw,rotateZ:Gw,skewX:t=>Aa(Math.atan(t[1])),skewY:t=>Aa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$w=t=>(t=t%360,t<0&&(t+=360),t),YT=Gw,XT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ZT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rM={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XT,scaleY:ZT,scale:t=>(XT(t)+ZT(t))/2,rotateX:t=>$w(Aa(Math.atan2(t[6],t[5]))),rotateY:t=>$w(Aa(Math.atan2(-t[2],t[0]))),rotateZ:YT,rotate:YT,skewX:t=>Aa(Math.atan(t[4])),skewY:t=>Aa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ww(t){return t.includes("scale")?1:0}function Kw(t,e){if(!t||t==="none")return Ww(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=rM,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nM,s=a}if(!s)return Ww(e);const i=r[e],o=s[1].split(",").map(iM);return typeof i=="function"?i(o):o[i]}const sM=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Kw(n,e)};function iM(t){return parseFloat(t.trim())}const ju=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zu=new Set(ju),eb=t=>t===Uu||t===de,oM=new Set(["x","y","z"]),aM=ju.filter(t=>!oM.has(t));function lM(t){const e=[];return aM.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ya={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Kw(e,"x"),y:(t,{transform:e})=>Kw(e,"y")};Ya.translateX=Ya.x;Ya.translateY=Ya.y;const Xa=new Set;let Qw=!1,qw=!1,Jw=!1;function tk(){if(qw){const t=Array.from(Xa).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=lM(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qw=!1,Qw=!1,Xa.forEach(t=>t.complete(Jw)),Xa.clear()}function nk(){Xa.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qw=!0)})}function cM(){Jw=!0,nk(),tk(),Jw=!1}class PE{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Xa.add(this),Qw||(Qw=!0,Qe.read(nk),Qe.resolveKeyframes(tk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}tM(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Xa.delete(this)}cancel(){this.state==="scheduled"&&(Xa.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uM=t=>t.startsWith("--");function hM(t,e,n){uM(e)?t.style.setProperty(e,n):t.style[e]=n}const dM=mE(()=>window.ScrollTimeline!==void 0),fM={};function pM(t,e){const n=mE(t);return()=>fM[e]??n()}const rk=pM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rh=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,tb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rh([0,.65,.55,1]),circOut:Rh([.55,0,1,.45]),backIn:Rh([.31,.01,.66,-.59]),backOut:Rh([.33,1.53,.69,.99])};function sk(t,e){if(t)return typeof t=="function"?rk()?X4(t,e):"ease-out":z4(t)?Rh(t):Array.isArray(t)?t.map(n=>sk(n,e)||tb.easeOut):tb[t]}function mM(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const d=sk(a,s);Array.isArray(d)&&(h.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(h,f)}function ik(t){return typeof t=="function"&&"applyToOptions"in t}function gM({type:t,...e}){return ik(t)&&rk()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yM extends IE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,pE(typeof e.type!="string");const c=gM(e);this.animation=mM(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=bE(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):hM(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ar(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ar(e)}get time(){return Ar(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=As(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&dM()?(this.animation.timeline=e,Tr):n(this)}}const ok={anticipate:F4,backInOut:M4,circInOut:U4};function vM(t){return t in ok}function wM(t){typeof t.ease=="string"&&vM(t.ease)&&(t.ease=ok[t.ease])}const nb=10;class _M extends yM{constructor(e){wM(e),ek(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new SE({...o,autoplay:!1}),l=As(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-nb).value,a.sample(l).value,nb),a.stop()}}const rb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Lo.test(t)||t==="0")&&!t.startsWith("url("));function EM(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function AM(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=rb(s,e),a=rb(i,e);return!o||!a?!1:EM(t)||(n==="spring"||ik(n))&&r}function Yw(t){t.duration=0,t.type="keyframes"}const xM=new Set(["opacity","clipPath","filter","transform"]),TM=mE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bM(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return TM()&&n&&xM.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const IM=40;class SM extends IE{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...d}){var w;super(),this.stop=()=>{var v,T;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Mn.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:h,...d},g=(h==null?void 0:h.KeyframeResolver)||PE;this.keyframeResolver=new g(a,(v,T,_)=>this.onKeyframesResolved(v,T,f,!_),l,c,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Mn.now(),AM(e,i,o,a)||((gi.instantAnimations||!l)&&(h==null||h(bE(e,r,n))),e[0]=e[e.length-1],Yw(r),r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>IM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&bM(f)?new _M({...f,element:f.motionValue.owner.current}):new SE(f);g.finished.then(()=>this.notifyFinished()).catch(Tr),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),cM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const PM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function CM(t){const e=PM.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function ak(t,e,n=1){const[r,s]=CM(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return C4(o)?parseFloat(o):o}return _E(s)?ak(s,e,n+1):s}function CE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const lk=new Set(["width","height","top","left","right","bottom",...ju]),RM={test:t=>t==="auto",parse:t=>t},ck=t=>e=>e.test(t),uk=[Uu,de,xs,Bi,E9,_9,RM],sb=t=>uk.find(ck(t));function kM(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||k4(t):!0}const NM=new Set(["brightness","contrast","saturate","opacity"]);function OM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(EE)||[];if(!r)return t;const s=n.replace(r,"");let i=NM.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const DM=/\b([a-z-]*)\(.*?\)/gu,Xw={...Lo,getAnimatableNone:t=>{const e=t.match(DM);return e?e.map(OM).join(" "):t}},ib={...Uu,transform:Math.round},LM={rotate:Bi,rotateX:Bi,rotateY:Bi,rotateZ:Bi,scale:kp,scaleX:kp,scaleY:kp,scaleZ:kp,skew:Bi,skewX:Bi,skewY:Bi,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Dd,originX:WT,originY:WT,originZ:de},RE={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...LM,zIndex:ib,fillOpacity:Dd,strokeOpacity:Dd,numOctaves:ib},VM={...RE,color:yt,backgroundColor:yt,outlineColor:yt,fill:yt,stroke:yt,borderColor:yt,borderTopColor:yt,borderRightColor:yt,borderBottomColor:yt,borderLeftColor:yt,filter:Xw,WebkitFilter:Xw},hk=t=>VM[t];function dk(t,e){let n=hk(t);return n!==Xw&&(n=Lo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MM=new Set(["auto","none","0"]);function FM(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!MM.has(i)&&Ld(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=dk(n,s)}class BM extends PE{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),_E(c))){const h=ak(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!lk.has(r)||e.length!==2)return;const[s,i]=e,o=sb(s),a=sb(i);if(o!==a)if(eb(o)&&eb(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Ya[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||kM(e[s]))&&r.push(s);r.length&&FM(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ya[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ya[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function UM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const fk=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function pk(t){return R4(t)&&"offsetHeight"in t}const ob=30,jM=t=>!isNaN(parseFloat(t));class zM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Mn.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gE);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ob)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ob);return N4(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _u(t,e){return new zM(t,e)}const{schedule:kE}=H4(queueMicrotask,!1),kr={x:!1,y:!1};function mk(){return kr.x||kr.y}function HM(t){return t==="x"||t==="y"?kr[t]?null:(kr[t]=!0,()=>{kr[t]=!1}):kr.x||kr.y?null:(kr.x=kr.y=!0,()=>{kr.x=kr.y=!1})}function gk(t,e){const n=UM(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function ab(t){return!(t.pointerType==="touch"||mk())}function GM(t,e,n={}){const[r,s,i]=gk(t,n),o=a=>{if(!ab(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=d=>{ab(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const yk=(t,e)=>e?t===e?!0:yk(t,e.parentElement):!1,NE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,$M=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function WM(t){return $M.has(t.tagName)||t.tabIndex!==-1}const um=new WeakSet;function lb(t){return e=>{e.key==="Enter"&&t(e)}}function iv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KM=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=lb(()=>{if(um.has(n))return;iv(n,"down");const s=lb(()=>{iv(n,"up")}),i=()=>iv(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function cb(t){return NE(t)&&!mk()}function QM(t,e,n={}){const[r,s,i]=gk(t,n),o=a=>{const l=a.currentTarget;if(!cb(a))return;um.add(l);const c=e(l,a),h=(g,w)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),um.has(l)&&um.delete(l),cb(g)&&typeof c=="function"&&c(g,{success:w})},d=g=>{h(g,l===window||l===document||n.useGlobalTarget||yk(l,g.target))},f=g=>{h(g,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),pk(a)&&(a.addEventListener("focus",c=>KM(c,s)),!WM(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function vk(t){return R4(t)&&"ownerSVGElement"in t}function qM(t){return vk(t)&&t.tagName==="svg"}const ln=t=>!!(t&&t.getVelocity),JM=[...uk,yt,Lo],YM=t=>JM.find(ck(t)),OE=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function ub(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function XM(...t){return e=>{let n=!1;const r=t.map(s=>{const i=ub(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():ub(t[s],null)}}}}function ZM(...t){return L.useCallback(XM(...t),t)}class eF extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=pk(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function tF({children:t,isPresent:e,anchorX:n,root:r}){const s=L.useId(),i=L.useRef(null),o=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=L.useContext(OE),l=ZM(i,t==null?void 0:t.ref);return L.useInsertionEffect(()=>{const{width:c,height:h,top:d,left:f,right:g}=o.current;if(e||!i.current||!c||!h)return;const w=n==="left"?`left: ${f}`:`right: ${g}`;i.current.dataset.motionPopId=s;const v=document.createElement("style");a&&(v.nonce=a);const T=r??document.head;return T.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${d}px !important;
          }
        `),()=>{T.contains(v)&&T.removeChild(v)}},[e]),m.jsx(eF,{isPresent:e,childRef:i,sizeRef:o,children:L.cloneElement(t,{ref:l})})}const nF=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,root:l})=>{const c=uE(rF),h=L.useId();let d=!0,f=L.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:s,onExitComplete:g=>{c.set(g,!0);for(const w of c.values())if(!w)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return i&&d&&(f={...f}),L.useMemo(()=>{c.forEach((g,w)=>c.set(w,!1))},[n]),L.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),o==="popLayout"&&(t=m.jsx(tF,{isPresent:n,anchorX:a,root:l,children:t})),m.jsx(v0.Provider,{value:f,children:t})};function rF(){return new Map}function wk(t=!0){const e=L.useContext(v0);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=L.useId();L.useEffect(()=>{if(t)return s(i)},[t]);const o=L.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Np=t=>t.key||"";function hb(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const Pf=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,h]=wk(o),d=L.useMemo(()=>hb(t),[t]),f=o&&!c?[]:d.map(Np),g=L.useRef(!0),w=L.useRef(d),v=uE(()=>new Map),[T,_]=L.useState(d),[E,A]=L.useState(d);P4(()=>{g.current=!1,w.current=d;for(let V=0;V<E.length;V++){const I=Np(E[V]);f.includes(I)?v.delete(I):v.get(I)!==!0&&v.set(I,!1)}},[E,f.length,f.join("-")]);const N=[];if(d!==T){let V=[...d];for(let I=0;I<E.length;I++){const x=E[I],P=Np(x);f.includes(P)||(V.splice(I,0,x),N.push(x))}return i==="wait"&&N.length&&(V=N),A(hb(V)),_(d),null}const{forceRender:D}=L.useContext(cE);return m.jsx(m.Fragment,{children:E.map(V=>{const I=Np(V),x=o&&!c?!1:d===E||f.includes(I),P=()=>{if(v.has(I))v.set(I,!0);else return;let C=!0;v.forEach(O=>{O||(C=!1)}),C&&(D==null||D(),A(w.current),o&&(h==null||h()),r&&r())};return m.jsx(nF,{isPresent:x,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:l,onExitComplete:x?void 0:P,anchorX:a,children:V},I)})})},_k=L.createContext({strict:!1}),db={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Eu={};for(const t in db)Eu[t]={isEnabled:e=>db[t].some(n=>!!e[n])};function sF(t){for(const e in t)Eu[e]={...Eu[e],...t[e]}}const iF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function og(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||iF.has(t)}let Ek=t=>!og(t);function oF(t){typeof t=="function"&&(Ek=e=>e.startsWith("on")?!og(e):t(e))}try{oF(require("@emotion/is-prop-valid").default)}catch{}function aF(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Ek(s)||n===!0&&og(s)||!e&&!og(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const w0=L.createContext({});function _0(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Vd(t){return typeof t=="string"||Array.isArray(t)}const DE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LE=["initial",...DE];function E0(t){return _0(t.animate)||LE.some(e=>Vd(t[e]))}function Ak(t){return!!(E0(t)||t.variants)}function lF(t,e){if(E0(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Vd(n)?n:void 0,animate:Vd(r)?r:void 0}}return t.inherit!==!1?e:{}}function cF(t){const{initial:e,animate:n}=lF(t,L.useContext(w0));return L.useMemo(()=>({initial:e,animate:n}),[fb(e),fb(n)])}function fb(t){return Array.isArray(t)?t.join(" "):t}const Md={};function uF(t){for(const e in t)Md[e]=t[e],wE(e)&&(Md[e].isCSSVariable=!0)}function xk(t,{layout:e,layoutId:n}){return zu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Md[t]||t==="opacity")}const hF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dF=ju.length;function fF(t,e,n){let r="",s=!0;for(let i=0;i<dF;i++){const o=ju[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=fk(a,RE[o]);if(!l){s=!1;const h=hF[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function VE(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(zu.has(l)){o=!0;continue}else if(wE(l)){s[l]=c;continue}else{const h=fk(c,RE[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=fF(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${c} ${h}`}}const ME=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tk(t,e,n){for(const r in e)!ln(e[r])&&!xk(r,n)&&(t[r]=e[r])}function pF({transformTemplate:t},e){return L.useMemo(()=>{const n=ME();return VE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function mF(t,e){const n=t.style||{},r={};return Tk(r,n,t),Object.assign(r,pF(t,e)),r}function gF(t,e){const n={},r=mF(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const yF={offset:"stroke-dashoffset",array:"stroke-dasharray"},vF={offset:"strokeDashoffset",array:"strokeDasharray"};function wF(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?yF:vF;t[i.offset]=de.transform(-r);const o=de.transform(e),a=de.transform(n);t[i.array]=`${o} ${a}`}function bk(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,h){if(VE(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&wF(d,s,i,o,!1)}const Ik=()=>({...ME(),attrs:{}}),Sk=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _F(t,e,n,r){const s=L.useMemo(()=>{const i=Ik();return bk(i,e,Sk(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};Tk(i,t.style,t),s.style={...i,...s.style}}return s}const EF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FE(t){return typeof t!="string"||t.includes("-")?!1:!!(EF.indexOf(t)>-1||/[A-Z]/u.test(t))}function AF(t,e,n,{latestValues:r},s,i=!1){const a=(FE(t)?_F:gF)(e,r,s,t),l=aF(e,typeof t=="string",i),c=t!==L.Fragment?{...l,...a,ref:n}:{},{children:h}=e,d=L.useMemo(()=>ln(h)?h.get():h,[h]);return L.createElement(t,{...c,children:d})}function pb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function BE(t,e,n,r){if(typeof e=="function"){const[s,i]=pb(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=pb(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function hm(t){return ln(t)?t.get():t}function xF({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:TF(n,r,s,t),renderState:e()}}function TF(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=hm(i[f]);let{initial:o,animate:a}=t;const l=E0(t),c=Ak(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const d=h?a:o;if(d&&typeof d!="boolean"&&!_0(d)){const f=Array.isArray(d)?d:[d];for(let g=0;g<f.length;g++){const w=BE(t,f[g]);if(w){const{transitionEnd:v,transition:T,..._}=w;for(const E in _){let A=_[E];if(Array.isArray(A)){const N=h?A.length-1:0;A=A[N]}A!==null&&(s[E]=A)}for(const E in v)s[E]=v[E]}}}return s}const Pk=t=>(e,n)=>{const r=L.useContext(w0),s=L.useContext(v0),i=()=>xF(t,e,r,s);return n?i():uE(i)};function UE(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(ln(r[o])||e.style&&ln(e.style[o])||xk(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const bF=Pk({scrapeMotionValuesFromProps:UE,createRenderState:ME});function Ck(t,e,n){const r=UE(t,e,n);for(const s in t)if(ln(t[s])||ln(e[s])){const i=ju.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const IF=Pk({scrapeMotionValuesFromProps:Ck,createRenderState:Ik}),SF=Symbol.for("motionComponentSymbol");function sc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PF(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sc(n)&&(n.current=r))},[e])}const jE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),CF="framerAppearId",Rk="data-"+jE(CF),kk=L.createContext({});function RF(t,e,n,r,s){var v,T;const{visualElement:i}=L.useContext(w0),o=L.useContext(_k),a=L.useContext(v0),l=L.useContext(OE).reducedMotion,c=L.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=L.useContext(kk);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&kF(c.current,n,s,d);const f=L.useRef(!1);L.useInsertionEffect(()=>{h&&f.current&&h.update(n,a)});const g=n[Rk],w=L.useRef(!!g&&!((v=window.MotionHandoffIsComplete)!=null&&v.call(window,g))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,g)));return P4(()=>{h&&(f.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),L.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,g)}),w.current=!1),h.enteringChildren=void 0)}),h}function kF(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Nk(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&sc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function Nk(t){if(t)return t.options.allowProjection!==!1?t.projection:Nk(t.parent)}function ov(t,{forwardMotionProps:e=!1}={},n,r){n&&sF(n);const s=FE(t)?IF:bF;function i(a,l){let c;const h={...L.useContext(OE),...a,layoutId:NF(a)},{isStatic:d}=h,f=cF(a),g=s(a,d);if(!d&&hE){OF();const w=DF(h);c=w.MeasureLayout,f.visualElement=RF(t,g,h,r,w.ProjectionNode)}return m.jsxs(w0.Provider,{value:f,children:[c&&f.visualElement?m.jsx(c,{visualElement:f.visualElement,...h}):null,AF(t,a,PF(g,f.visualElement,l),g,d,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=L.forwardRef(i);return o[SF]=t,o}function NF({layoutId:t}){const e=L.useContext(cE).id;return e&&t!==void 0?e+"-"+t:t}function OF(t,e){L.useContext(_k).strict}function DF(t){const{drag:e,layout:n}=Eu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function LF(t,e){if(typeof Proxy>"u")return ov;const n=new Map,r=(i,o)=>ov(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,ov(o,void 0,t,e)),n.get(o))})}function Ok({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function VF({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MF(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function av(t){return t===void 0||t===1}function Zw({scale:t,scaleX:e,scaleY:n}){return!av(t)||!av(e)||!av(n)}function ha(t){return Zw(t)||Dk(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Dk(t){return mb(t.x)||mb(t.y)}function mb(t){return t&&t!=="0%"}function ag(t,e,n){const r=t-n,s=e*r;return n+s}function gb(t,e,n,r,s){return s!==void 0&&(t=ag(t,s,r)),ag(t,n,r)+e}function e1(t,e=0,n=1,r,s){t.min=gb(t.min,e,n,r,s),t.max=gb(t.max,e,n,r,s)}function Lk(t,{x:e,y:n}){e1(t.x,e.translate,e.scale,e.originPoint),e1(t.y,n.translate,n.scale,n.originPoint)}const yb=.999999999999,vb=1.0000000000001;function FF(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&oc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,Lk(t,o)),r&&ha(i.latestValues)&&oc(t,i.latestValues))}e.x<vb&&e.x>yb&&(e.x=1),e.y<vb&&e.y>yb&&(e.y=1)}function ic(t,e){t.min=t.min+e,t.max=t.max+e}function wb(t,e,n,r,s=.5){const i=Xe(t.min,t.max,s);e1(t,e,n,i,r)}function oc(t,e){wb(t.x,e.x,e.scaleX,e.scale,e.originX),wb(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vk(t,e){return Ok(MF(t.getBoundingClientRect(),e))}function BF(t,e,n){const r=Vk(t,n),{scroll:s}=e;return s&&(ic(r.x,s.offset.x),ic(r.y,s.offset.y)),r}const _b=()=>({translate:0,scale:1,origin:0,originPoint:0}),ac=()=>({x:_b(),y:_b()}),Eb=()=>({min:0,max:0}),ut=()=>({x:Eb(),y:Eb()}),t1={current:null},Mk={current:!1};function UF(){if(Mk.current=!0,!!hE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>t1.current=t.matches;t.addEventListener("change",e),e()}else t1.current=!1}const jF=new WeakMap;function zF(t,e,n){for(const r in e){const s=e[r],i=n[r];if(ln(s))t.addValue(r,s);else if(ln(i))t.addValue(r,_u(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,_u(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Ab=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class HF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=PE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Mn.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Qe.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=E0(n),this.isVariantNode=Ak(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const g=d[f];l[f]!==void 0&&ln(g)&&g.set(l[f])}}mount(e){var n;this.current=e,jF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),Mk.current||UF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:t1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Do(this.notifyUpdate),Do(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zu.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Eu){const n=Eu[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ut()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Ab.length;r++){const s=Ab[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=zF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_u(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(C4(r)||k4(r))?r=parseFloat(r):!YM(r)&&Lo.test(n)&&(r=dk(e,n)),this.setBaseTarget(e,ln(r)?r.get():r)),ln(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=BE(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ln(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){kE.render(this.render)}}class Fk extends HF{constructor(){super(...arguments),this.KeyframeResolver=BM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ln(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Bk(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function GF(t){return window.getComputedStyle(t)}class $F extends Fk{constructor(){super(...arguments),this.type="html",this.renderInstance=Bk}readValueFromInstance(e,n){var r;if(zu.has(n))return(r=this.projection)!=null&&r.isProjecting?Ww(n):sM(e,n);{const s=GF(e),i=(wE(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Vk(e,n)}build(e,n,r){VE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return UE(e,n,r)}}const Uk=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WF(t,e,n,r){Bk(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Uk.has(s)?s:jE(s),e.attrs[s])}class KF extends Fk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ut}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zu.has(n)){const r=hk(n);return r&&r.default||0}return n=Uk.has(n)?n:jE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Ck(e,n,r)}build(e,n,r){bk(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){WF(e,n,r,s)}mount(e){this.isSVGTag=Sk(e.tagName),super.mount(e)}}const QF=(t,e)=>FE(t)?new KF(e):new $F(e,{allowProjection:t!==L.Fragment});function _c(t,e,n){const r=t.getProps();return BE(r,e,n!==void 0?n:r.custom,t)}const n1=t=>Array.isArray(t);function qF(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_u(n))}function JF(t){return n1(t)?t[t.length-1]||0:t}function YF(t,e){const n=_c(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=JF(i[o]);qF(t,o,a)}}function XF(t){return!!(ln(t)&&t.add)}function r1(t,e){const n=t.getValue("willChange");if(XF(n))return n.add(e);if(!n&&gi.WillChange){const r=new gi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function jk(t){return t.props[Rk]}const ZF=t=>t!==null;function eB(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(ZF),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const tB={type:"spring",stiffness:500,damping:25,restSpeed:10},nB=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),rB={type:"keyframes",duration:.8},sB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iB=(t,{keyframes:e})=>e.length>2?rB:zu.has(t)?t.startsWith("scale")?nB(e[1]):tB:sB;function oB({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const zE=(t,e,n,r={},s,i)=>o=>{const a=CE(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-As(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};oB(a)||Object.assign(h,iB(t,h)),h.duration&&(h.duration=As(h.duration)),h.repeatDelay&&(h.repeatDelay=As(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Yw(h),h.delay===0&&(d=!0)),(gi.instantAnimations||gi.skipAnimations)&&(d=!0,Yw(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const f=eB(h.keyframes,a);if(f!==void 0){Qe.update(()=>{h.onUpdate(f),h.onComplete()});return}}return a.isSync?new SE(h):new SM(h)};function aB({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function zk(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const l=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const h in a){const d=t.getValue(h,t.latestValues[h]??null),f=a[h];if(f===void 0||c&&aB(c,h))continue;const g={delay:n,...CE(i||{},h)},w=d.get();if(w!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===w&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const _=jk(t);if(_){const E=window.MotionHandoffAnimation(_,h,Qe);E!==null&&(g.startTime=E,v=!0)}}r1(t,h),d.start(zE(h,d,f,t.shouldReduceMotion&&lk.has(h)?{type:!1}:g,t,v));const T=d.animation;T&&l.push(T)}return o&&Promise.all(l).then(()=>{Qe.update(()=>{o&&YF(t,o)})}),l}function Hk(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}function s1(t,e,n={}){var l;const r=_c(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(zk(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:d,staggerDirection:f}=s;return lB(t,e,c,h,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,h]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function lB(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(s1(l,e,{...o,delay:n+(typeof r=="function"?0:r)+Hk(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function cB(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>s1(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=s1(t,e,n);else{const s=typeof e=="function"?_c(t,e,n.custom):e;r=Promise.all(zk(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Gk(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const uB=LE.length;function $k(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$k(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<uB;n++){const r=LE[n],s=t.props[r];(Vd(s)||s===!1)&&(e[r]=s)}return e}const hB=[...DE].reverse(),dB=DE.length;function fB(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cB(t,n,r)))}function pB(t){let e=fB(t),n=xb(),r=!0;const s=l=>(c,h)=>{var f;const d=_c(t,h,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:g,transitionEnd:w,...v}=d;c={...c,...v,...w}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,h=$k(t.parent)||{},d=[],f=new Set;let g={},w=1/0;for(let T=0;T<dB;T++){const _=hB[T],E=n[_],A=c[_]!==void 0?c[_]:h[_],N=Vd(A),D=_===l?E.isActive:null;D===!1&&(w=T);let V=A===h[_]&&A!==c[_]&&N;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),E.protectedKeys={...g},!E.isActive&&D===null||!A&&!E.prevProp||_0(A)||typeof A=="boolean")continue;const I=mB(E.prevProp,A);let x=I||_===l&&E.isActive&&!V&&N||T>w&&N,P=!1;const C=Array.isArray(A)?A:[A];let O=C.reduce(s(_),{});D===!1&&(O={});const{prevResolvedValues:M={}}=E,k={...M,...O},Be=ie=>{x=!0,f.has(ie)&&(P=!0,f.delete(ie)),E.needsAnimating[ie]=!0;const $=t.getValue(ie);$&&($.liveStyle=!1)};for(const ie in k){const $=O[ie],q=M[ie];if(g.hasOwnProperty(ie))continue;let ne=!1;n1($)&&n1(q)?ne=!Gk($,q):ne=$!==q,ne?$!=null?Be(ie):f.add(ie):$!==void 0&&f.has(ie)?Be(ie):E.protectedKeys[ie]=!0}E.prevProp=A,E.prevResolvedValues=O,E.isActive&&(g={...g,...O}),r&&t.blockInitialAnimation&&(x=!1);const Q=V&&I;x&&(!Q||P)&&d.push(...C.map(ie=>{const $={type:_};if(typeof ie=="string"&&r&&!Q&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,ne=_c(q,ie);if(q.enteringChildren&&ne){const{delayChildren:ge}=ne.transition||{};$.delay=Hk(q.enteringChildren,t,ge)}}return{animation:ie,options:$}}))}if(f.size){const T={};if(typeof c.initial!="boolean"){const _=_c(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(T.transition=_.transition)}f.forEach(_=>{const E=t.getBaseTarget(_),A=t.getValue(_);A&&(A.liveStyle=!0),T[_]=E??null}),d.push({animation:T})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var g;return(g=f.animationState)==null?void 0:g.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=xb()}}}function mB(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Gk(e,t):!1}function aa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function xb(){return{animate:aa(!0),whileInView:aa(),whileHover:aa(),whileTap:aa(),whileDrag:aa(),whileFocus:aa(),exit:aa()}}class Yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gB extends Yo{constructor(e){super(e),e.animationState||(e.animationState=pB(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_0(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let yB=0;class vB extends Yo{constructor(){super(...arguments),this.id=yB++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wB={animation:{Feature:gB},exit:{Feature:vB}};function Fd(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Cf(t){return{point:{x:t.pageX,y:t.pageY}}}const _B=t=>e=>NE(e)&&t(e,Cf(e));function ed(t,e,n,r){return Fd(t,e,_B(n),r)}const Wk=1e-4,EB=1-Wk,AB=1+Wk,Kk=.01,xB=0-Kk,TB=0+Kk;function An(t){return t.max-t.min}function bB(t,e,n){return Math.abs(t-e)<=n}function Tb(t,e,n,r=.5){t.origin=r,t.originPoint=Xe(e.min,e.max,t.origin),t.scale=An(n)/An(e),t.translate=Xe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=EB&&t.scale<=AB||isNaN(t.scale))&&(t.scale=1),(t.translate>=xB&&t.translate<=TB||isNaN(t.translate))&&(t.translate=0)}function td(t,e,n,r){Tb(t.x,e.x,n.x,r?r.originX:void 0),Tb(t.y,e.y,n.y,r?r.originY:void 0)}function bb(t,e,n){t.min=n.min+e.min,t.max=t.min+An(e)}function IB(t,e,n){bb(t.x,e.x,n.x),bb(t.y,e.y,n.y)}function Ib(t,e,n){t.min=e.min-n.min,t.max=t.min+An(e)}function nd(t,e,n){Ib(t.x,e.x,n.x),Ib(t.y,e.y,n.y)}function hr(t){return[t("x"),t("y")]}const Qk=({current:t})=>t?t.ownerDocument.defaultView:null,Sb=(t,e)=>Math.abs(t-e);function SB(t,e){const n=Sb(t.x,e.x),r=Sb(t.y,e.y);return Math.sqrt(n**2+r**2)}class qk{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cv(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,w=SB(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!w)return;const{point:v}=f,{timestamp:T}=Bt;this.history.push({...v,timestamp:T});const{onStart:_,onMove:E}=this.handlers;g||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lv(g,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:w,onSessionEnd:v,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=cv(f.type==="pointercancel"?this.lastMoveEventInfo:lv(g,this.transformPagePoint),this.history);this.startEvent&&w&&w(f,_),v&&v(f,_)},!NE(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const a=Cf(e),l=lv(a,this.transformPagePoint),{point:c}=l,{timestamp:h}=Bt;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,cv(l,this.history)),this.removeListeners=bf(ed(this.contextWindow,"pointermove",this.handlePointerMove),ed(this.contextWindow,"pointerup",this.handlePointerUp),ed(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Do(this.updatePoint)}}function lv(t,e){return e?{point:e(t.point)}:t}function Pb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cv({point:t},e){return{point:t,delta:Pb(t,Jk(e)),offset:Pb(t,PB(e)),velocity:CB(e,.1)}}function PB(t){return t[0]}function Jk(t){return t[t.length-1]}function CB(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=Jk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>As(e)));)n--;if(!r)return{x:0,y:0};const i=Ar(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function RB(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Xe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Xe(n,t,r.max):Math.min(t,n)),t}function Cb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kB(t,{top:e,left:n,bottom:r,right:s}){return{x:Cb(t.x,n,s),y:Cb(t.y,e,r)}}function Rb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function NB(t,e){return{x:Rb(t.x,e.x),y:Rb(t.y,e.y)}}function OB(t,e){let n=.5;const r=An(t),s=An(e);return s>r?n=Od(e.min,e.max-r,t.min):r>s&&(n=Od(t.min,t.max-s,e.min)),mi(0,1,n)}function DB(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const i1=.35;function LB(t=i1){return t===!1?t=0:t===!0&&(t=i1),{x:kb(t,"left","right"),y:kb(t,"top","bottom")}}function kb(t,e,n){return{min:Nb(t,e),max:Nb(t,n)}}function Nb(t,e){return typeof t=="number"?t:t[e]||0}const VB=new WeakMap;class MB{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Cf(d).point)},o=(d,f)=>{const{drag:g,dragPropagation:w,onDragStart:v}=this.getProps();if(g&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HM(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hr(_=>{let E=this.getAxisMotionValue(_).get()||0;if(xs.test(E)){const{projection:A}=this.visualElement;if(A&&A.layout){const N=A.layout.layoutBox[_];N&&(E=An(N)*(parseFloat(E)/100))}}this.originPoint[_]=E}),v&&Qe.postRender(()=>v(d,f)),r1(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:g,dragDirectionLock:w,onDirectionLock:v,onDrag:T}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=f;if(w&&this.currentDirection===null){this.currentDirection=FB(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),T&&T(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>hr(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new qk(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:Qk(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!Op(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=RB(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&sc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=kB(r.layoutBox,e):this.constraints=!1,this.elastic=LB(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=DB(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sc(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=BF(r,s.root,this.visualElement.getTransformPagePoint());let o=NB(s.layout.layoutBox,i);if(n){const a=n(VF(o));this.hasMutatedConstraints=!!a,a&&(o=Ok(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hr(h=>{if(!Op(h,n,this.currentDirection))return;let d=l&&l[h]||{};o&&(d={min:0,max:0});const f=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[h]:0,bounceStiffness:f,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(h,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r1(this.visualElement,e),r.start(zE(e,r,0,n,this.visualElement,!1))}stopAnimation(){hr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hr(n=>{const{drag:r}=this.getProps();if(!Op(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Xe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};hr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=OB({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hr(o=>{if(!Op(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Xe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;VB.set(this.visualElement,this);const e=this.visualElement.current,n=ed(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Qe.read(r);const o=Fd(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hr(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=i1,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Op(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function FB(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class BB extends Yo{constructor(e){super(e),this.removeGroupControls=Tr,this.removeListeners=Tr,this.controls=new MB(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Tr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ob=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class UB extends Yo{constructor(){super(...arguments),this.removePointerDownListener=Tr}onPointerDown(e){this.session=new qk(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Qk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ob(e),onStart:Ob(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Qe.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ed(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Db(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ah={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=Db(t,e.target.x),r=Db(t,e.target.y);return`${n}% ${r}%`}},jB={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Lo.parse(t);if(s.length>5)return r;const i=Lo.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Xe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};let uv=!1;class zB extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;uF(HB),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),uv&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,uv=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Qe.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),kE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;uv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Yk(t){const[e,n]=wk(),r=L.useContext(cE);return m.jsx(zB,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(kk),isPresent:e,safeToRemove:n})}const HB={borderRadius:{...Ah,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ah,borderTopRightRadius:Ah,borderBottomLeftRadius:Ah,borderBottomRightRadius:Ah,boxShadow:jB};function GB(t,e,n){const r=ln(t)?t:_u(t);return r.start(zE("",r,e,n)),r.animation}const $B=(t,e)=>t.depth-e.depth;class WB{constructor(){this.children=[],this.isDirty=!1}add(e){dE(this.children,e),this.isDirty=!0}remove(e){fE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($B),this.isDirty=!1,this.children.forEach(e)}}function KB(t,e){const n=Mn.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Do(r),t(i-e))};return Qe.setup(r,!0),()=>Do(r)}const Xk=["TopLeft","TopRight","BottomLeft","BottomRight"],QB=Xk.length,Lb=t=>typeof t=="string"?parseFloat(t):t,Vb=t=>typeof t=="number"||de.test(t);function qB(t,e,n,r,s,i){s?(t.opacity=Xe(0,n.opacity??1,JB(r)),t.opacityExit=Xe(e.opacity??1,0,YB(r))):i&&(t.opacity=Xe(e.opacity??1,n.opacity??1,r));for(let o=0;o<QB;o++){const a=`border${Xk[o]}Radius`;let l=Mb(e,a),c=Mb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||Vb(l)===Vb(c)?(t[a]=Math.max(Xe(Lb(l),Lb(c),r),0),(xs.test(c)||xs.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Xe(e.rotate||0,n.rotate||0,r))}function Mb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const JB=Zk(0,.5,B4),YB=Zk(.5,.95,Tr);function Zk(t,e,n){return r=>r<t?0:r>e?1:n(Od(t,e,r))}function Fb(t,e){t.min=e.min,t.max=e.max}function lr(t,e){Fb(t.x,e.x),Fb(t.y,e.y)}function Bb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ub(t,e,n,r,s){return t-=e,t=ag(t,1/n,r),s!==void 0&&(t=ag(t,1/s,r)),t}function XB(t,e=0,n=1,r=.5,s,i=t,o=t){if(xs.test(e)&&(e=parseFloat(e),e=Xe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Xe(i.min,i.max,r);t===i&&(a-=e),t.min=Ub(t.min,e,n,a,s),t.max=Ub(t.max,e,n,a,s)}function jb(t,e,[n,r,s],i,o){XB(t,e[n],e[r],e[s],e.scale,i,o)}const ZB=["x","scaleX","originX"],eU=["y","scaleY","originY"];function zb(t,e,n,r){jb(t.x,e,ZB,n?n.x:void 0,r?r.x:void 0),jb(t.y,e,eU,n?n.y:void 0,r?r.y:void 0)}function Hb(t){return t.translate===0&&t.scale===1}function eN(t){return Hb(t.x)&&Hb(t.y)}function Gb(t,e){return t.min===e.min&&t.max===e.max}function tU(t,e){return Gb(t.x,e.x)&&Gb(t.y,e.y)}function $b(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tN(t,e){return $b(t.x,e.x)&&$b(t.y,e.y)}function Wb(t){return An(t.x)/An(t.y)}function Kb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class nU{constructor(){this.members=[]}add(e){dE(this.members,e),e.scheduleRender()}remove(e){if(fE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function rU(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:f,skewX:g,skewY:w}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),g&&(r+=`skewX(${g}deg) `),w&&(r+=`skewY(${w}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const hv=["","X","Y","Z"],sU=1e3;let iU=0;function dv(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=jk(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nN(r)}function rN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=iU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lU),this.nodes.forEach(dU),this.nodes.forEach(fU),this.nodes.forEach(cU)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new WB)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=vk(o)&&!qM(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,d=0;const f=()=>this.root.updateBlockedByResize=!1;Qe.read(()=>{d=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,h&&h(),h=KB(f,250),dm.hasAnimatedSinceResize&&(dm.hasAnimatedSinceResize=!1,this.nodes.forEach(Jb)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||c.getDefaultTransition()||vU,{onLayoutAnimationStart:v,onLayoutAnimationComplete:T}=c.getProps(),_=!this.targetLayout||!tN(this.targetLayout,g),E=!d&&f;if(this.options.layoutRoot||this.resumeFrom||E||d&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...CE(w,"layout"),onPlay:v,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,E)}else d||Jb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Do(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Qb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(qb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hU),this.nodes.forEach(oU),this.nodes.forEach(aU)):this.nodes.forEach(qb),this.clearAllSnapshots();const a=Mn.now();Bt.delta=mi(0,1e3/60,a-Bt.timestamp),Bt.timestamp=a,Bt.isProcessing=!0,ev.update.process(Bt),ev.preRender.process(Bt),ev.render.process(Bt),Bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,kE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uU),this.sharedNodes.forEach(mU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!eN(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ha(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),wU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ut();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(_U))){const{scroll:h}=this.root;h&&(ic(a.x,h.offset.x),ic(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=ut();if(lr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:d,options:f}=h;h!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&lr(a,o),ic(a.x,d.offset.x),ic(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=ut();lr(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&oc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ha(h.latestValues)&&oc(l,h.latestValues)}return ha(this.latestValues)&&oc(l,this.latestValues),l}removeTransform(o){const a=ut();lr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ha(c.latestValues))continue;Zw(c.latestValues)&&c.updateSnapshot();const h=ut(),d=c.measurePageBox();lr(h,d),zb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return ha(this.latestValues)&&zb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Bt.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),nd(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ut(),this.targetWithTransforms=ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),IB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):lr(this.target,this.layout.layoutBox),Lk(this.target,this.targetDelta)):lr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ut(),this.relativeTargetOrigin=ut(),nd(this.relativeTargetOrigin,this.target,g.target),lr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Zw(this.parent.latestValues)||Dk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Bt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;lr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;FF(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ut());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Bb(this.prevProjectionDelta.x,this.projectionDelta.x),Bb(this.prevProjectionDelta.y,this.projectionDelta.y)),td(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!Kb(this.projectionDelta.x,this.prevProjectionDelta.x)||!Kb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ac(),this.projectionDelta=ac(),this.projectionDeltaWithTransform=ac()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=ac();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ut(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,v=g!==w,T=this.getStack(),_=!T||T.members.length<=1,E=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(yU));this.animationProgress=0;let A;this.mixTargetDelta=N=>{const D=N/1e3;Yb(d.x,o.x,D),Yb(d.y,o.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nd(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gU(this.relativeTarget,this.relativeTargetOrigin,f,D),A&&tU(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ut()),lr(A,this.relativeTarget)),v&&(this.animationValues=h,qB(h,c,this.latestValues,D,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Do(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{dm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_u(0)),this.currentAnimation=GB(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&sN(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ut();const d=An(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=An(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}lr(a,l),oc(a,h),td(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new nU),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&dv("z",o,c,this.animationValues);for(let h=0;h<hv.length;h++)dv(`rotate${hv[h]}`,o,c,this.animationValues),dv(`skew${hv[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=hm(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=hm(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ha(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=rU(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),o.transform=d;const{x:f,y:g}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Md){if(h[w]===void 0)continue;const{correct:v,applyTo:T,isCSSVariable:_}=Md[w],E=d==="none"?h[w]:v(h[w],c);if(T){const A=T.length;for(let N=0;N<A;N++)o[T[N]]=E}else _?this.options.visualElement.renderState.vars[w]=E:o[w]=E}this.options.layoutId&&(o.pointerEvents=c===this?hm(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(Qb),this.root.sharedNodes.clear()}}}function oU(t){t.updateLayout()}function aU(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?hr(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],g=An(f);f.min=r[d].min,f.max=f.min+g}):sN(i,e.layoutBox,r)&&hr(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],g=An(r[d]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=ac();td(a,r,e.layoutBox);const l=ac();o?td(l,t.applyTransform(s,!0),e.measuredBox):td(l,r,e.layoutBox);const c=!eN(a);let h=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:g}=d;if(f&&g){const w=ut();nd(w,e.layoutBox,f.layoutBox);const v=ut();nd(v,r,g.layoutBox),tN(w,v)||(h=!0),d.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=w,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function lU(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uU(t){t.clearSnapshot()}function Qb(t){t.clearMeasurements()}function qb(t){t.isLayoutDirty=!1}function hU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Jb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function dU(t){t.resolveTargetDelta()}function fU(t){t.calcProjection()}function pU(t){t.resetSkewAndRotation()}function mU(t){t.removeLeadSnapshot()}function Yb(t,e,n){t.translate=Xe(e.translate,0,n),t.scale=Xe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Xb(t,e,n,r){t.min=Xe(e.min,n.min,r),t.max=Xe(e.max,n.max,r)}function gU(t,e,n,r){Xb(t.x,e.x,n.x,r),Xb(t.y,e.y,n.y,r)}function yU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vU={duration:.45,ease:[.4,0,.1,1]},Zb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eI=Zb("applewebkit/")&&!Zb("chrome/")?Math.round:Tr;function tI(t){t.min=eI(t.min),t.max=eI(t.max)}function wU(t){tI(t.x),tI(t.y)}function sN(t,e,n){return t==="position"||t==="preserve-aspect"&&!bB(Wb(e),Wb(n),.2)}function _U(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const EU=rN({attachResizeListener:(t,e)=>Fd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),fv={current:void 0},iN=rN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!fv.current){const t=new EU({});t.mount(window),t.setOptions({layoutScroll:!0}),fv.current=t}return fv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),AU={pan:{Feature:UB},drag:{Feature:BB,ProjectionNode:iN,MeasureLayout:Yk}};function nI(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Qe.postRender(()=>i(e,Cf(e)))}class xU extends Yo{mount(){const{current:e}=this.node;e&&(this.unmount=GM(e,(n,r)=>(nI(this.node,r,"Start"),s=>nI(this.node,s,"End"))))}unmount(){}}class TU extends Yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bf(Fd(this.node.current,"focus",()=>this.onFocus()),Fd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rI(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Qe.postRender(()=>i(e,Cf(e)))}class bU extends Yo{mount(){const{current:e}=this.node;e&&(this.unmount=QM(e,(n,r)=>(rI(this.node,r,"Start"),(s,{success:i})=>rI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const o1=new WeakMap,pv=new WeakMap,IU=t=>{const e=o1.get(t.target);e&&e(t)},SU=t=>{t.forEach(IU)};function PU({root:t,...e}){const n=t||document;pv.has(n)||pv.set(n,{});const r=pv.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(SU,{root:t,...e})),r[s]}function CU(t,e,n){const r=PU(e);return o1.set(t,n),r.observe(t),()=>{o1.delete(t),r.unobserve(t)}}const RU={some:0,all:1};class kU extends Yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:RU[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),f=c?h:d;f&&f(l)};return CU(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(NU(e,n))&&this.startObserver()}unmount(){}}function NU({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const OU={inView:{Feature:kU},tap:{Feature:bU},focus:{Feature:TU},hover:{Feature:xU}},DU={layout:{ProjectionNode:iN,MeasureLayout:Yk}},LU={...wB,...OU,...AU,...DU},xe=LF(LU,QF);var oN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},sI=oi.createContext&&oi.createContext(oN),VU=["attr","size","title"];function MU(t,e){if(t==null)return{};var n=FU(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FU(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(this,arguments)}function iI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function cg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iI(Object(n),!0).forEach(function(r){BU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BU(t,e,n){return e=UU(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UU(t){var e=jU(t,"string");return typeof e=="symbol"?e:e+""}function jU(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aN(t){return t&&t.map((e,n)=>oi.createElement(e.tag,cg({key:n},e.attr),aN(e.child)))}function Re(t){return e=>oi.createElement(zU,lg({attr:cg({},t.attr)},e),aN(t.child))}function zU(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=MU(t,VU),a=s||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),oi.createElement("svg",lg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:cg(cg({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&oi.createElement("title",null,i),t.children)};return sI!==void 0?oi.createElement(sI.Consumer,null,n=>e(n)):e(oN)}function HU(t){return Re({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function lN(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(t)}function A0(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function cN(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function GU(t){return Re({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"},child:[]}]})(t)}function $U(t){return Re({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z"},child:[]}]})(t)}function WU(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function uN(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function KU(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function QU(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"},child:[]}]})(t)}function HE(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"},child:[]}]})(t)}function oI(t){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function a1(t){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(t)}function l1(t){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function qU(t){return Re({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M216 23.86c0-23.8-30.65-32.77-44.15-13.04C48 191.85 224 200 224 288c0 35.63-29.11 64.46-64.85 63.99-35.17-.45-63.15-29.77-63.15-64.94v-85.51c0-21.7-26.47-32.23-41.43-16.5C27.8 213.16 0 261.33 0 320c0 105.87 86.13 192 192 192s192-86.13 192-192c0-170.29-168-193-168-296.14z"},child:[]}]})(t)}function c1(t){return Re({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function JU(t){return Re({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function mv(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function GE(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(t)}function hN(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function YU(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function XU(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function dN(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function ZU(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"},child:[]}]})(t)}function $E(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function WE(t){return Re({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function ej(t){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h274.9c-2.4-6.8-3.4-14-2.6-21.3l6.8-60.9 1.2-11.1 7.9-7.9 77.3-77.3c-24.5-27.7-60-45.5-99.9-45.5zm45.3 145.3l-6.8 61c-1.1 10.2 7.5 18.8 17.6 17.6l60.9-6.8 137.9-137.9-71.7-71.7-137.9 137.8zM633 268.9L595.1 231c-9.3-9.3-24.5-9.3-33.8 0l-37.8 37.8-4.1 4.1 71.8 71.7 41.8-41.8c9.3-9.4 9.3-24.5 0-33.9z"},child:[]}]})(t)}function tj(t){return Re({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function nj(t){return Re({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function rj(){const t=Yr(),[e,n]=L.useState(!1),r=()=>t("/signup"),s=()=>{const o=document.getElementById("features");o==null||o.scrollIntoView({behavior:"smooth"})},i=[{title:"Community Verification",desc:"Posts are upvoted and verified by real users before being anchored on-chain.",icon:nj},{title:"Blockchain Anchoring",desc:"Once a report hits 10+ upvotes, its stored immutably on the blockchain.",icon:$E},{title:"User Profiles & Badges",desc:"Earn recognition for accurate reports with unique badge milestones.",icon:GU},{title:"Real-Time Feed",desc:"Stay updated with trending phishing reports as soon as theyre posted.",icon:$U},{title:"Secure Storage",desc:"All data is handled with strong Firebase and blockchain-backed security.",icon:hN},{title:"Open Source",desc:"Fully transparent  contribute and verify everything on GitHub.",icon:HU}];return m.jsxs("div",{className:"min-h-screen flex flex-col font-sans bg-gradient-to-b from-[#0a0a0a] via-[#0f0f1a] to-[#080808] text-white relative overflow-hidden",children:[m.jsxs("nav",{className:"flex items-center justify-between px-6 md:px-10 py-6 border-b border-gray-800 bg-[#0a0a0a]/70 backdrop-blur-md sticky top-0 z-50",children:[m.jsx("h1",{onClick:()=>t("/"),className:"text-2xl font-bold tracking-wide text-white hover:text-indigo-400 transition cursor-pointer",children:"PhishBlock"}),m.jsx("div",{className:"md:hidden",children:m.jsx("button",{onClick:()=>n(!e),className:"focus:outline-none text-gray-300 hover:text-indigo-400 transition",children:e?m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-6 h-6",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})}),m.jsxs("ul",{className:"hidden md:flex space-x-8 text-gray-300",children:[m.jsx("li",{className:"hover:text-indigo-400 cursor-pointer transition",children:"Home"}),m.jsx("li",{className:"hover:text-indigo-400 cursor-pointer transition",onClick:s,children:"Features"}),m.jsx("li",{className:"hover:text-indigo-400 cursor-pointer transition",children:m.jsx("a",{href:"#about",children:"About"})})]}),m.jsxs("div",{className:"hidden md:flex space-x-4",children:[m.jsx("button",{onClick:()=>t("/login"),className:"px-4 py-2 border border-gray-700 rounded-lg hover:bg-gray-900 hover:shadow-[0_0_10px_rgba(255,255,255,0.3)] transition-all duration-300",children:"Login"}),m.jsx("button",{onClick:()=>t("/signup"),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-700 rounded-lg font-semibold hover:shadow-[0_0_25px_rgba(99,102,241,0.8)] transition-all duration-300",children:"Sign Up"})]})]}),e&&m.jsxs("div",{className:"md:hidden flex flex-col items-center space-y-4 py-4 bg-[#0a0a0a]/90 border-b border-gray-800",children:[m.jsx("button",{onClick:s,className:"hover:text-indigo-400 transition",children:"Features"}),m.jsx("a",{href:"#about",className:"hover:text-indigo-400 transition",children:"About"}),m.jsx("button",{onClick:()=>t("/login"),className:"px-6 py-2 border border-gray-700 rounded-lg hover:bg-gray-900 transition",children:"Login"}),m.jsx("button",{onClick:()=>t("/signup"),className:"px-6 py-2 bg-gradient-to-r from-indigo-500 to-indigo-700 rounded-lg font-semibold hover:shadow-[0_0_25px_rgba(99,102,241,0.8)] transition",children:"Sign Up"})]}),m.jsxs(xe.section,{className:"flex flex-col items-center justify-center flex-grow text-center py-12 md:py-16 px-6 md:px-16",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,ease:"easeOut"},children:[m.jsxs(xe.h2,{className:"text-4xl sm:text-5xl md:text-6xl font-extrabold mb-4 leading-tight bg-gradient-to-r from-white via-indigo-400 to-indigo-600 bg-clip-text text-transparent drop-shadow-[0_2px_10px_rgba(99,102,241,0.3)]",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},children:["Spot. Report. Block. ",m.jsx("br",{}),m.jsx("span",{className:"text-indigo-400 drop-shadow-[0_0_15px_rgba(99,102,241,0.6)]",children:"Together."})]}),m.jsx(xe.p,{className:"max-w-2xl text-gray-300 mb-8 text-base sm:text-lg tracking-wide drop-shadow-[0_1px_6px_rgba(255,255,255,0.1)]",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6,duration:.8},children:"Join the community-powered platform that detects and verifies phishing threats through collective intelligence  where every upvote secures the web."}),m.jsxs(xe.div,{className:"flex flex-col sm:flex-row gap-4",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.9,duration:.6},children:[m.jsx("button",{onClick:r,className:"px-8 py-3 bg-gradient-to-r from-indigo-500 to-indigo-700 text-white rounded-lg font-semibold shadow-[0_0_15px_rgba(99,102,241,0.6)] hover:shadow-[0_0_25px_rgba(99,102,241,0.8)] transition-all duration-300",children:"Explore"}),m.jsx("button",{onClick:s,className:"px-8 py-3 border border-gray-700 hover:bg-gray-900 rounded-lg font-semibold transition-all duration-300 hover:shadow-[0_0_10px_rgba(255,255,255,0.3)]",children:"Know More"})]})]}),m.jsxs(xe.section,{id:"features",className:"py-12 px-6 sm:px-10 bg-gradient-to-b from-[#0b0b0b]/70 to-[#050505]/90 border-t border-gray-800 relative",initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1},viewport:{once:!0},children:[m.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_center,rgba(99,102,241,0.15),transparent)] pointer-events-none"}),m.jsx("h3",{className:"text-3xl font-bold text-center mb-4 bg-gradient-to-r from-indigo-400 to-indigo-600 bg-clip-text text-transparent",children:"Features"}),m.jsx("div",{className:"h-1 w-24 mx-auto bg-gradient-to-r from-indigo-500 via-purple-500 to-blue-500 rounded-full mb-12"}),m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:i.map((o,a)=>{const l=o.icon;return m.jsx(xe.div,{className:"relative bg-[#0b0b0c]/80 border border-transparent rounded-2xl p-[1px] hover:-translate-y-1 transition-all duration-500 hover:shadow-[0_0_25px_rgba(99,102,241,0.4)] before:absolute before:inset-0 before:rounded-2xl before:p-[1px] before:bg-gradient-to-r before:from-indigo-500 before:via-purple-500 before:to-blue-600 before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-500 animate-[float_4s_ease-in-out_infinite]",initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:a*.1},viewport:{once:!0},children:m.jsxs("div",{className:"relative z-10 bg-[#121212]/90 rounded-2xl p-6 text-center",children:[m.jsx(l,{className:"text-indigo-400 text-3xl mb-3 mx-auto"}),m.jsx("h4",{className:"text-xl font-semibold mb-3 text-white",children:o.title}),m.jsx("p",{className:"text-gray-400 text-sm",children:o.desc})]})},a)})})]}),m.jsxs("footer",{id:"about",className:"bg-gradient-to-t from-[#0b0b0b] to-[#0f0f1a] border-t border-indigo-900/50 text-gray-400 text-center py-10 px-6",children:[m.jsxs("p",{className:"mb-2 text-sm sm:text-base",children:[m.jsx("span",{className:"text-white font-semibold",children:"PhishBlock"}),"  a community initiative to fight phishing using blockchain."]}),m.jsxs("p",{className:"mb-1 text-sm sm:text-base",children:["Built by"," ",m.jsx("a",{href:"https://github.com/tung-programming",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-400 hover:underline",children:"@tung-programming"})]}),m.jsxs("p",{className:"text-sm sm:text-base",children:["Contact:"," ",m.jsx("a",{href:"mailto:tusharpradeep24@gmail.com",className:"text-indigo-400 hover:underline",children:"tusharpradeep24@gmail.com"})]})]})]})}function sj(t){return Re({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"},child:[]}]})(t)}function ij(t){return Re({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(t)}function oj(t){return Re({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M427.68 351.43C402 320 383.87 304 383.87 217.35 383.87 138 343.35 109.73 310 96c-4.43-1.82-8.6-6-9.95-10.55C294.2 65.54 277.8 48 256 48s-38.21 17.55-44 37.47c-1.35 4.6-5.52 8.71-9.95 10.53-33.39 13.75-73.87 41.92-73.87 121.35C128.13 304 110 320 84.32 351.43 73.68 364.45 83 384 101.61 384h308.88c18.51 0 27.77-19.61 17.19-32.57zM320 384v16a64 64 0 0 1-128 0v-16"},child:[]}]})(t)}const aj=()=>{};var aI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},pN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(f=64)),r.push(n[h],n[d],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new cj;const f=i<<2|a>>4;if(r.push(f),c!==64){const g=a<<4&240|c>>2;if(r.push(g),d!==64){const w=c<<6&192|d;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uj=function(t){const e=fN(t);return pN.encodeByteArray(e,!0)},ug=function(t){return uj(t).replace(/\./g,"")},mN=function(t){try{return pN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=()=>hj().__FIREBASE_DEFAULTS__,fj=()=>{if(typeof process>"u"||typeof aI>"u")return;const t=aI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mN(t[1]);return e&&JSON.parse(e)},x0=()=>{try{return aj()||dj()||fj()||pj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gN=t=>{var e,n;return(n=(e=x0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},yN=t=>{const e=gN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vN=()=>{var t;return(t=x0())===null||t===void 0?void 0:t.config},wN=t=>{var e;return(e=x0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function KE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ug(JSON.stringify(n)),ug(JSON.stringify(o)),""].join(".")}const rd={};function gj(){const t={prod:[],emulator:[]};for(const e of Object.keys(rd))rd[e]?t.emulator.push(e):t.prod.push(e);return t}function yj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lI=!1;function QE(t,e){if(typeof window>"u"||typeof document>"u"||!Xo(window.location.host)||rd[t]===e||rd[t]||lI)return;rd[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",i=gj().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,g){f.setAttribute("width","24"),f.setAttribute("id",g),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{lI=!0,o()},f}function h(f,g){f.setAttribute("id",g),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function d(){const f=yj(r),g=n("text"),w=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),T=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),E=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const A=f.element;a(A),h(T,v);const N=c();l(E,_),A.append(E,w,T,N),document.body.appendChild(A)}i?(w.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function wj(){var t;const e=(t=x0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _j(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ej(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Aj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xj(){const t=hn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Tj(){return!wj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bj(){try{return typeof indexedDB=="object"}catch{return!1}}function Ij(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj="FirebaseError";class Ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Sj,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rf.prototype.create)}}class Rf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Pj(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ns(s,a,r)}}function Pj(t,e){return t.replace(Cj,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Cj=/\{\$([^}]+)}/g;function Rj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(cI(i)&&cI(o)){if(!ll(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function cI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Nh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function kj(t,e){const n=new Nj(t,e);return n.subscribe.bind(n)}class Nj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Oj(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gv),s.error===void 0&&(s.error=gv),s.complete===void 0&&(s.complete=gv);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Oj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return t&&t._delegate?t._delegate:t}class Vo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new mj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Vj(e))try{this.getOrInitializeService({instanceIdentifier:da})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=da){return this.instances.has(e)}getOptions(e=da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=da){return this.component?this.component.multipleInstances?e:da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lj(t){return t===da?void 0:t}function Vj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Dj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ae||(Ae={}));const Fj={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},Bj=Ae.INFO,Uj={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},jj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Uj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qE{constructor(e){this.name=e,this._logLevel=Bj,this._logHandler=jj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const zj=(t,e)=>e.some(n=>t instanceof n);let uI,hI;function Hj(){return uI||(uI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Gj(){return hI||(hI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EN=new WeakMap,u1=new WeakMap,AN=new WeakMap,yv=new WeakMap,JE=new WeakMap;function $j(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(bo(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&EN.set(n,t)}).catch(()=>{}),JE.set(e,t),e}function Wj(t){if(u1.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});u1.set(t,e)}let h1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return u1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Kj(t){h1=t(h1)}function Qj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vv(this),e,...n);return AN.set(r,e.sort?e.sort():[e]),bo(r)}:Gj().includes(t)?function(...e){return t.apply(vv(this),e),bo(EN.get(this))}:function(...e){return bo(t.apply(vv(this),e))}}function qj(t){return typeof t=="function"?Qj(t):(t instanceof IDBTransaction&&Wj(t),zj(t,Hj())?new Proxy(t,h1):t)}function bo(t){if(t instanceof IDBRequest)return $j(t);if(yv.has(t))return yv.get(t);const e=qj(t);return e!==t&&(yv.set(t,e),JE.set(e,t)),e}const vv=t=>JE.get(t);function Jj(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=bo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bo(o.result),l.oldVersion,l.newVersion,bo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Yj=["get","getKey","getAll","getAllKeys","count"],Xj=["put","add","delete","clear"],wv=new Map;function dI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wv.get(e))return wv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Xj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Yj.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return wv.set(e,i),i}Kj(t=>({...t,get:(e,n,r)=>dI(e,n)||t.get(e,n,r),has:(e,n)=>!!dI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function e7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d1="@firebase/app",fI="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new qE("@firebase/app"),t7="@firebase/app-compat",n7="@firebase/analytics-compat",r7="@firebase/analytics",s7="@firebase/app-check-compat",i7="@firebase/app-check",o7="@firebase/auth",a7="@firebase/auth-compat",l7="@firebase/database",c7="@firebase/data-connect",u7="@firebase/database-compat",h7="@firebase/functions",d7="@firebase/functions-compat",f7="@firebase/installations",p7="@firebase/installations-compat",m7="@firebase/messaging",g7="@firebase/messaging-compat",y7="@firebase/performance",v7="@firebase/performance-compat",w7="@firebase/remote-config",_7="@firebase/remote-config-compat",E7="@firebase/storage",A7="@firebase/storage-compat",x7="@firebase/firestore",T7="@firebase/ai",b7="@firebase/firestore-compat",I7="firebase",S7="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="[DEFAULT]",P7={[d1]:"fire-core",[t7]:"fire-core-compat",[r7]:"fire-analytics",[n7]:"fire-analytics-compat",[i7]:"fire-app-check",[s7]:"fire-app-check-compat",[o7]:"fire-auth",[a7]:"fire-auth-compat",[l7]:"fire-rtdb",[c7]:"fire-data-connect",[u7]:"fire-rtdb-compat",[h7]:"fire-fn",[d7]:"fire-fn-compat",[f7]:"fire-iid",[p7]:"fire-iid-compat",[m7]:"fire-fcm",[g7]:"fire-fcm-compat",[y7]:"fire-perf",[v7]:"fire-perf-compat",[w7]:"fire-rc",[_7]:"fire-rc-compat",[E7]:"fire-gcs",[A7]:"fire-gcs-compat",[x7]:"fire-fst",[b7]:"fire-fst-compat",[T7]:"fire-vertex","fire-js":"fire-js",[I7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map,C7=new Map,p1=new Map;function pI(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function cl(t){const e=t.name;if(p1.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;p1.set(e,t);for(const n of hg.values())pI(n,t);for(const n of C7.values())pI(n,t);return!0}function T0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Io=new Rf("app","Firebase",R7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Io.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=S7;function xN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:f1,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Io.create("bad-app-name",{appName:String(s)});if(n||(n=vN()),!n)throw Io.create("no-options");const i=hg.get(s);if(i){if(ll(n,i.options)&&ll(r,i.config))return i;throw Io.create("duplicate-app",{appName:s})}const o=new Mj(s);for(const l of p1.values())o.addComponent(l);const a=new k7(n,r,o);return hg.set(s,a),a}function YE(t=f1){const e=hg.get(t);if(!e&&t===f1&&vN())return xN();if(!e)throw Io.create("no-app",{appName:t});return e}function Ts(t,e,n){var r;let s=(r=P7[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(a.join(" "));return}cl(new Vo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="firebase-heartbeat-database",O7=1,Bd="firebase-heartbeat-store";let _v=null;function TN(){return _v||(_v=Jj(N7,O7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Io.create("idb-open",{originalErrorMessage:t.message})})),_v}async function D7(t){try{const n=(await TN()).transaction(Bd),r=await n.objectStore(Bd).get(bN(t));return await n.done,r}catch(e){if(e instanceof Ns)yi.warn(e.message);else{const n=Io.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function mI(t,e){try{const r=(await TN()).transaction(Bd,"readwrite");await r.objectStore(Bd).put(e,bN(t)),await r.done}catch(n){if(n instanceof Ns)yi.warn(n.message);else{const r=Io.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function bN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=1024,V7=30;class M7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=gI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>V7){const o=U7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gI(),{heartbeatsToSend:r,unsentEntries:s}=F7(this._heartbeatsCache.heartbeats),i=ug(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return yi.warn(n),""}}}function gI(){return new Date().toISOString().substring(0,10)}function F7(t,e=L7){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),yI(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),yI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class B7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bj()?Ij().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await D7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return mI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function yI(t){return ug(JSON.stringify({version:2,heartbeats:t})).length}function U7(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t){cl(new Vo("platform-logger",e=>new Zj(e),"PRIVATE")),cl(new Vo("heartbeat",e=>new M7(e),"PRIVATE")),Ts(d1,fI,t),Ts(d1,fI,"esm2017"),Ts("fire-js","")}j7("");function XE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function IN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const z7=IN,SN=new Rf("auth","Firebase",IN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=new qE("@firebase/auth");function H7(t,...e){dg.logLevel<=Ae.WARN&&dg.warn(`Auth (${bl}): ${t}`,...e)}function fm(t,...e){dg.logLevel<=Ae.ERROR&&dg.error(`Auth (${bl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,...e){throw eA(t,...e)}function Kr(t,...e){return eA(t,...e)}function ZE(t,e,n){const r=Object.assign(Object.assign({},z7()),{[e]:n});return new Rf("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return ZE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G7(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sr(t,"argument-error"),ZE(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SN.create(t,...e)}function he(t,e,...n){if(!t)throw eA(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fm(e),new Error(e)}function vi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $7(){return vI()==="http:"||vI()==="https:"}function vI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($7()||Ej()||"connection"in navigator)?navigator.onLine:!0}function K7(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=vj()||Aj()}get(){return W7()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],J7=new Nf(3e4,6e4);function Ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Os(t,e,n,r,s={}){return CN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=kf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return _j()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(c.credentials="include"),PN.fetch()(await RN(t,t.config.apiHost,n,a),c)})}async function CN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Q7),e);try{const s=new X7(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dp(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dp(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dp(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dp(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZE(t,h,c);Sr(t,h)}}catch(s){if(s instanceof Ns)throw s;Sr(t,"network-request-failed",{message:String(s)})}}async function Of(t,e,n,r,s={}){const i=await Os(t,e,n,r,s);return"mfaPendingCredential"in i&&Sr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function RN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?tA(t.config,s):`${t.config.apiScheme}://${s}`;return q7.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function Y7(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X7{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Kr(this.auth,"network-request-failed")),J7.get())})}}function Dp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Kr(t,e,r);return s.customData._tokenResponse=n,s}function wI(t){return t!==void 0&&t.enterprise!==void 0}class Z7{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Y7(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ez(t,e){return Os(t,"GET","/v2/recaptchaConfig",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(t,e){return Os(t,"POST","/v1/accounts:delete",e)}async function fg(t,e){return Os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nz(t,e=!1){const n=ze(t),r=await n.getIdToken(e),s=nA(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:sd(Ev(s.auth_time)),issuedAtTime:sd(Ev(s.iat)),expirationTime:sd(Ev(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ev(t){return Number(t)*1e3}function nA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return fm("JWT malformed, contained fewer than 3 sections"),null;try{const s=mN(n);return s?JSON.parse(s):(fm("Failed to decode base64 JWT payload"),null)}catch(s){return fm("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function _I(t){const e=nA(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ns&&rz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function rz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sz{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=sd(this.lastLoginAt),this.creationTime=sd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pg(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Au(t,fg(n,{idToken:r}));he(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?kN(i.providerUserInfo):[],a=oz(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new g1(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function iz(t){const e=ze(t);await pg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oz(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function kN(t){return t.map(e=>{var{providerId:n}=e,r=XE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e){const n=await CN(t,{},async()=>{const r=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await RN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&Xo(t.emulatorConfig.host)&&(l.credentials="include"),PN.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function lz(t,e){return Os(t,"POST","/v2/accounts:revokeToken",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_I(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=_I(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await az(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ec;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Gr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=XE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sz(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new g1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Au(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return nz(this,e)}reload(){return iz(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await pg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await Au(this,tz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:A,emailVerified:N,isAnonymous:D,providerData:V,stsTokenManager:I}=n;he(A&&I,e,"internal-error");const x=Ec.fromJSON(this.name,I);he(typeof A=="string",e,"internal-error"),Di(d,e.name),Di(f,e.name),he(typeof N=="boolean",e,"internal-error"),he(typeof D=="boolean",e,"internal-error"),Di(g,e.name),Di(w,e.name),Di(v,e.name),Di(T,e.name),Di(_,e.name),Di(E,e.name);const P=new Gr({uid:A,auth:e,email:f,emailVerified:N,displayName:d,isAnonymous:D,photoURL:w,phoneNumber:g,tenantId:v,stsTokenManager:x,createdAt:_,lastLoginAt:E});return V&&Array.isArray(V)&&(P.providerData=V.map(C=>Object.assign({},C))),T&&(P._redirectEventId=T),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ec;s.updateFromServerResponse(n);const i=new Gr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await pg(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?kN(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ec;a.updateFromIdToken(r);const l=new Gr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new g1(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=new Map;function si(t){vi(t instanceof Function,"Expected a class definition");let e=EI.get(t);return e?(vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,EI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NN.type="NONE";const AI=NN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(t,e,n){return`firebase:${t}:${e}:${n}`}class Ac{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=pm(this.userKey,s.apiKey,i),this.fullPersistenceKey=pm("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fg(this.auth,{idToken:e}).catch(()=>{});return n?Gr._fromGetAccountInfoResponse(this.auth,n,e):null}return Gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ac(si(AI),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||si(AI);const o=pm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let d;if(typeof h=="string"){const f=await fg(e,{idToken:h}).catch(()=>{});if(!f)break;d=await Gr._fromGetAccountInfoResponse(e,f,h)}else d=Gr._fromJSON(e,h);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ac(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ac(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ON(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FN(e))return"Blackberry";if(BN(e))return"Webos";if(DN(e))return"Safari";if((e.includes("chrome/")||LN(e))&&!e.includes("edge/"))return"Chrome";if(MN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ON(t=hn()){return/firefox\//i.test(t)}function DN(t=hn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LN(t=hn()){return/crios\//i.test(t)}function VN(t=hn()){return/iemobile/i.test(t)}function MN(t=hn()){return/android/i.test(t)}function FN(t=hn()){return/blackberry/i.test(t)}function BN(t=hn()){return/webos/i.test(t)}function rA(t=hn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cz(t=hn()){var e;return rA(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function uz(){return xj()&&document.documentMode===10}function UN(t=hn()){return rA(t)||MN(t)||BN(t)||FN(t)||/windows phone/i.test(t)||VN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e=[]){let n;switch(t){case"Browser":n=xI(hn());break;case"Worker":n=`${xI(hn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hz{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e={}){return Os(t,"GET","/v2/passwordPolicy",Ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fz=6;class pz{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:fz,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mz{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TI(this),this.idTokenSubscription=new TI(this),this.beforeStateQueue=new hz(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fg(this,{idToken:e}),r=await Gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await pg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K7()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ln(this.app))return Promise.reject(li(this));const n=e?ze(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ln(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dz(this),n=new pz(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Rf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await lz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&H7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Si(t){return ze(t)}class TI{constructor(e){this.auth=e,this.observer=null,this.addObserver=kj(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gz(t){b0=t}function zN(t){return b0.loadJS(t)}function yz(){return b0.recaptchaEnterpriseScript}function vz(){return b0.gapiScript}function wz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class _z{constructor(){this.enterprise=new Ez}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Ez{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Az="recaptcha-enterprise",HN="NO_RECAPTCHA";class xz{constructor(e){this.type=Az,this.auth=Si(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ez(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Z7(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;wI(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(HN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _z().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&wI(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=yz();l.length!==0&&(l+=a),zN(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function bI(t,e,n,r=!1,s=!1){const i=new xz(t);let o;if(s)o=HN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function mg(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await bI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await bI(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t,e){const n=T0(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ll(i,e??{}))return s;Sr(s,"already-initialized")}return n.initialize({options:e})}function bz(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Iz(t,e,n){const r=Si(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=GN(e),{host:o,port:a}=Sz(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(ll(c,r.config.emulator)&&ll(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Xo(o)?(KE(`${i}//${o}${l}`),QE("Auth",!0)):Pz()}function GN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sz(t){const e=GN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:II(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:II(o)}}}function II(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Pz(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function Cz(t,e){return Os(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rz(t,e){return Of(t,"POST","/v1/accounts:signInWithPassword",Ii(t,e))}async function kz(t,e){return Os(t,"POST","/v1/accounts:sendOobCode",Ii(t,e))}async function Nz(t,e){return kz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}async function Dz(t,e){return Of(t,"POST","/v1/accounts:signInWithEmailLink",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends sA{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ud(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ud(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,n,"signInWithPassword",Rz);case"emailLink":return Oz(e,{email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return mg(e,r,"signUpPassword",Cz);case"emailLink":return Dz(e,{idToken:n,email:this._email,oobCode:this._password});default:Sr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t,e){return Of(t,"POST","/v1/accounts:signInWithIdp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="http://localhost";class ul extends sA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=XE(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ul(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xc(e,n)}buildRequest(){const e={requestUri:Lz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=kf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mz(t){const e=kh(Nh(t)).link,n=e?kh(Nh(e)).deep_link_id:null,r=kh(Nh(t)).deep_link_id;return(r?kh(Nh(r)).link:null)||r||n||e||t}class iA{constructor(e){var n,r,s,i,o,a;const l=kh(Nh(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Vz((s=l.mode)!==null&&s!==void 0?s:null);he(c&&h&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Mz(e);try{return new iA(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(){this.providerId=Hu.PROVIDER_ID}static credential(e,n){return Ud._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=iA.parseLink(n);return he(r,"argument-error"),Ud._fromEmailAndCode(e,r.code,r.tenantId)}}Hu.PROVIDER_ID="password";Hu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Df{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Df{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Zs.credential(n,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Df{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Df{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ki.credential(n,r)}catch{return null}}}Ki.TWITTER_SIGN_IN_METHOD="twitter.com";Ki.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fz(t,e){return Of(t,"POST","/v1/accounts:signUp",Ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Gr._fromIdTokenResponse(e,r,s),o=SI(r);return new hl({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=SI(r);return new hl({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function SI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends Ns{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,gg.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new gg(e,n,r,s)}}function $N(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?gg._fromErrorAndOperation(t,i,e,r):i})}async function Bz(t,e,n=!1){const r=await Au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uz(t,e,n=!1){const{auth:r}=t;if(Ln(r.app))return Promise.reject(li(r));const s="reauthenticate";try{const i=await Au(t,$N(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=nA(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),hl._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Sr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(t,e,n=!1){if(Ln(t.app))return Promise.reject(li(t));const r="signIn",s=await $N(t,r,e),i=await hl._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function jz(t,e){return WN(Si(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(t){const e=Si(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zz(t,e,n){const r=Si(t);await mg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Nz)}async function Hz(t,e,n){if(Ln(t.app))return Promise.reject(li(t));const r=Si(t),o=await mg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&KN(t),l}),a=await hl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Gz(t,e,n){return Ln(t.app)?Promise.reject(li(t)):jz(ze(t),Hu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $z(t,e){return Os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ze(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Au(r,$z(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Wz(t,e,n,r){return ze(t).onIdTokenChanged(e,n,r)}function Kz(t,e,n){return ze(t).beforeAuthStateChanged(e,n)}function Qz(t,e,n,r){return ze(t).onAuthStateChanged(e,n,r)}function qz(t){return ze(t).signOut()}const yg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yg,"1"),this.storage.removeItem(yg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jz=1e3,Yz=10;class JN extends qN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);uz()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Yz):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Jz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JN.type="LOCAL";const Xz=JN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN extends qN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YN.type="SESSION";const XN=YN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new I0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Zz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}I0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=aA("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return window}function tH(t){bs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(){return typeof bs().WorkerGlobalScope<"u"&&typeof bs().importScripts=="function"}async function nH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sH(){return ZN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="firebaseLocalStorageDb",iH=1,vg="firebaseLocalStorage",t3="fbase_key";class Lf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function S0(t,e){return t.transaction([vg],e?"readwrite":"readonly").objectStore(vg)}function oH(){const t=indexedDB.deleteDatabase(e3);return new Lf(t).toPromise()}function y1(){const t=indexedDB.open(e3,iH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(vg,{keyPath:t3})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(vg)?e(r):(r.close(),await oH(),e(await y1()))})})}async function PI(t,e,n){const r=S0(t,!0).put({[t3]:e,value:n});return new Lf(r).toPromise()}async function aH(t,e){const n=S0(t,!1).get(e),r=await new Lf(n).toPromise();return r===void 0?null:r.value}function CI(t,e){const n=S0(t,!0).delete(e);return new Lf(n).toPromise()}const lH=800,cH=3;class n3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>cH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=I0._getInstance(sH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await nH(),!this.activeServiceWorker)return;this.sender=new eH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y1();return await PI(e,yg,"1"),await CI(e,yg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>aH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>CI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=S0(s,!1).getAll();return new Lf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),lH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n3.type="LOCAL";const uH=n3;new Nf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t,e){return e?si(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA extends sA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hH(t){return WN(t.auth,new lA(t),t.bypassAuthState)}function dH(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Uz(n,new lA(t),t.bypassAuthState)}async function fH(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),Bz(n,new lA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hH;case"linkViaPopup":case"linkViaRedirect":return fH;case"reauthViaPopup":case"reauthViaRedirect":return dH;default:Sr(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=new Nf(2e3,1e4);async function i3(t,e,n){if(Ln(t.app))return Promise.reject(Kr(t,"operation-not-supported-in-this-environment"));const r=Si(t);G7(t,e,oA);const s=r3(r,n);return new xa(r,"signInViaPopup",e,s).executeNotNull()}class xa extends s3{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=aA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,pH.get())};e()}}xa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH="pendingRedirect",mm=new Map;class gH extends s3{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=mm.get(this.auth._key());if(!e){try{const r=await yH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mm.set(this.auth._key(),e)}return this.bypassAuthState||mm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function yH(t,e){const n=_H(e),r=wH(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function vH(t,e){mm.set(t._key(),e)}function wH(t){return si(t._redirectPersistence)}function _H(t){return pm(mH,t.config.apiKey,t.name)}async function EH(t,e,n=!1){if(Ln(t.app))return Promise.reject(li(t));const r=Si(t),s=r3(r,e),o=await new gH(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AH=10*60*1e3;class xH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o3(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AH&&this.cachedEventUids.clear(),this.cachedEventUids.has(RI(e))}saveEventToCache(e){this.cachedEventUids.add(RI(e)),this.lastProcessedEventTime=Date.now()}}function RI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o3({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o3(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bH(t,e={}){return Os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SH=/^https?/;async function PH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bH(t);for(const n of e)try{if(CH(n))return}catch{}Sr(t,"unauthorized-domain")}function CH(t){const e=m1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SH.test(n))return!1;if(IH.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new Nf(3e4,6e4);function kI(){const t=bs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kH(t){return new Promise((e,n)=>{var r,s,i;function o(){kI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kI(),n(Kr(t,"network-request-failed"))},timeout:RH.get()})}if(!((s=(r=bs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=bs().gapi)===null||i===void 0)&&i.load)o();else{const a=wz("iframefcb");return bs()[a]=()=>{gapi.load?o():n(Kr(t,"network-request-failed"))},zN(`${vz()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw gm=null,e})}let gm=null;function NH(t){return gm=gm||kH(t),gm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=new Nf(5e3,15e3),DH="__/auth/iframe",LH="emulator/auth/iframe",VH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FH(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?tA(e,LH):`https://${t.config.authDomain}/${DH}`,r={apiKey:e.apiKey,appName:t.name,v:bl},s=MH.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${kf(r).slice(1)}`}async function BH(t){const e=await NH(t),n=bs().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:FH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VH,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Kr(t,"network-request-failed"),a=bs().setTimeout(()=>{i(o)},OH.get());function l(){bs().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jH=500,zH=600,HH="_blank",GH="http://localhost";class NI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $H(t,e,n,r=jH,s=zH){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},UH),{width:r.toString(),height:s.toString(),top:i,left:o}),c=hn().toLowerCase();n&&(a=LN(c)?HH:n),ON(c)&&(e=e||GH,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,w])=>`${f}${g}=${w},`,"");if(cz(c)&&a!=="_self")return WH(e||"",a),new NI(null);const d=window.open(e||"",a,h);he(d,t,"popup-blocked");try{d.focus()}catch{}return new NI(d)}function WH(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KH="__/auth/handler",QH="emulator/auth/handler",qH=encodeURIComponent("fac");async function OI(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bl,eventId:s};if(e instanceof oA){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Df){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${qH}=${encodeURIComponent(l)}`:"";return`${JH(t)}?${kf(a).slice(1)}${c}`}function JH({config:t}){return t.emulator?tA(t,QH):`https://${t.authDomain}/${KH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="webStorageSupport";class YH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XN,this._completeRedirectFn=EH,this._overrideRedirectResult=vH}async _openPopup(e,n,r,s){var i;vi((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await OI(e,n,r,m1(),s);return $H(e,o,aA())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await OI(e,n,r,m1(),s);return tH(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(vi(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await BH(e),r=new xH(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Av,{type:Av},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Av];o!==void 0&&n(!!o),Sr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return UN()||DN()||rA()}}const XH=YH;var DI="@firebase/auth",LI="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tG(t){cl(new Vo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jN(t)},c=new mz(r,s,i,l);return bz(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),cl(new Vo("auth-internal",e=>{const n=Si(e.getProvider("auth").getImmediate());return(r=>new ZH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ts(DI,LI,eG(t)),Ts(DI,LI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nG=5*60,rG=wN("authIdTokenMaxAge")||nG;let VI=null;const sG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rG)return;const s=n==null?void 0:n.token;VI!==s&&(VI=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function iG(t=YE()){const e=T0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Tz(t,{popupRedirectResolver:XH,persistence:[uH,Xz,XN]}),r=wN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=sG(i.toString());Kz(n,o,()=>o(n.currentUser)),Wz(n,a=>o(a))}}const s=gN("auth");return s&&Iz(n,`http://${s}`),n}function oG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}gz({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Kr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",oG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tG("Browser");var aG="firebase",lG="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(aG,lG,"app");var MI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var So,a3;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,x){function P(){}P.prototype=x.prototype,I.D=x.prototype,I.prototype=new P,I.prototype.constructor=I,I.C=function(C,O,M){for(var k=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)k[Be-2]=arguments[Be];return x.prototype[O].apply(C,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,x,P){P||(P=0);var C=Array(16);if(typeof x=="string")for(var O=0;16>O;++O)C[O]=x.charCodeAt(P++)|x.charCodeAt(P++)<<8|x.charCodeAt(P++)<<16|x.charCodeAt(P++)<<24;else for(O=0;16>O;++O)C[O]=x[P++]|x[P++]<<8|x[P++]<<16|x[P++]<<24;x=I.g[0],P=I.g[1],O=I.g[2];var M=I.g[3],k=x+(M^P&(O^M))+C[0]+3614090360&4294967295;x=P+(k<<7&4294967295|k>>>25),k=M+(O^x&(P^O))+C[1]+3905402710&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(P^M&(x^P))+C[2]+606105819&4294967295,O=M+(k<<17&4294967295|k>>>15),k=P+(x^O&(M^x))+C[3]+3250441966&4294967295,P=O+(k<<22&4294967295|k>>>10),k=x+(M^P&(O^M))+C[4]+4118548399&4294967295,x=P+(k<<7&4294967295|k>>>25),k=M+(O^x&(P^O))+C[5]+1200080426&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(P^M&(x^P))+C[6]+2821735955&4294967295,O=M+(k<<17&4294967295|k>>>15),k=P+(x^O&(M^x))+C[7]+4249261313&4294967295,P=O+(k<<22&4294967295|k>>>10),k=x+(M^P&(O^M))+C[8]+1770035416&4294967295,x=P+(k<<7&4294967295|k>>>25),k=M+(O^x&(P^O))+C[9]+2336552879&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(P^M&(x^P))+C[10]+4294925233&4294967295,O=M+(k<<17&4294967295|k>>>15),k=P+(x^O&(M^x))+C[11]+2304563134&4294967295,P=O+(k<<22&4294967295|k>>>10),k=x+(M^P&(O^M))+C[12]+1804603682&4294967295,x=P+(k<<7&4294967295|k>>>25),k=M+(O^x&(P^O))+C[13]+4254626195&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(P^M&(x^P))+C[14]+2792965006&4294967295,O=M+(k<<17&4294967295|k>>>15),k=P+(x^O&(M^x))+C[15]+1236535329&4294967295,P=O+(k<<22&4294967295|k>>>10),k=x+(O^M&(P^O))+C[1]+4129170786&4294967295,x=P+(k<<5&4294967295|k>>>27),k=M+(P^O&(x^P))+C[6]+3225465664&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^P&(M^x))+C[11]+643717713&4294967295,O=M+(k<<14&4294967295|k>>>18),k=P+(M^x&(O^M))+C[0]+3921069994&4294967295,P=O+(k<<20&4294967295|k>>>12),k=x+(O^M&(P^O))+C[5]+3593408605&4294967295,x=P+(k<<5&4294967295|k>>>27),k=M+(P^O&(x^P))+C[10]+38016083&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^P&(M^x))+C[15]+3634488961&4294967295,O=M+(k<<14&4294967295|k>>>18),k=P+(M^x&(O^M))+C[4]+3889429448&4294967295,P=O+(k<<20&4294967295|k>>>12),k=x+(O^M&(P^O))+C[9]+568446438&4294967295,x=P+(k<<5&4294967295|k>>>27),k=M+(P^O&(x^P))+C[14]+3275163606&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^P&(M^x))+C[3]+4107603335&4294967295,O=M+(k<<14&4294967295|k>>>18),k=P+(M^x&(O^M))+C[8]+1163531501&4294967295,P=O+(k<<20&4294967295|k>>>12),k=x+(O^M&(P^O))+C[13]+2850285829&4294967295,x=P+(k<<5&4294967295|k>>>27),k=M+(P^O&(x^P))+C[2]+4243563512&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^P&(M^x))+C[7]+1735328473&4294967295,O=M+(k<<14&4294967295|k>>>18),k=P+(M^x&(O^M))+C[12]+2368359562&4294967295,P=O+(k<<20&4294967295|k>>>12),k=x+(P^O^M)+C[5]+4294588738&4294967295,x=P+(k<<4&4294967295|k>>>28),k=M+(x^P^O)+C[8]+2272392833&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^P)+C[11]+1839030562&4294967295,O=M+(k<<16&4294967295|k>>>16),k=P+(O^M^x)+C[14]+4259657740&4294967295,P=O+(k<<23&4294967295|k>>>9),k=x+(P^O^M)+C[1]+2763975236&4294967295,x=P+(k<<4&4294967295|k>>>28),k=M+(x^P^O)+C[4]+1272893353&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^P)+C[7]+4139469664&4294967295,O=M+(k<<16&4294967295|k>>>16),k=P+(O^M^x)+C[10]+3200236656&4294967295,P=O+(k<<23&4294967295|k>>>9),k=x+(P^O^M)+C[13]+681279174&4294967295,x=P+(k<<4&4294967295|k>>>28),k=M+(x^P^O)+C[0]+3936430074&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^P)+C[3]+3572445317&4294967295,O=M+(k<<16&4294967295|k>>>16),k=P+(O^M^x)+C[6]+76029189&4294967295,P=O+(k<<23&4294967295|k>>>9),k=x+(P^O^M)+C[9]+3654602809&4294967295,x=P+(k<<4&4294967295|k>>>28),k=M+(x^P^O)+C[12]+3873151461&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^P)+C[15]+530742520&4294967295,O=M+(k<<16&4294967295|k>>>16),k=P+(O^M^x)+C[2]+3299628645&4294967295,P=O+(k<<23&4294967295|k>>>9),k=x+(O^(P|~M))+C[0]+4096336452&4294967295,x=P+(k<<6&4294967295|k>>>26),k=M+(P^(x|~O))+C[7]+1126891415&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~P))+C[14]+2878612391&4294967295,O=M+(k<<15&4294967295|k>>>17),k=P+(M^(O|~x))+C[5]+4237533241&4294967295,P=O+(k<<21&4294967295|k>>>11),k=x+(O^(P|~M))+C[12]+1700485571&4294967295,x=P+(k<<6&4294967295|k>>>26),k=M+(P^(x|~O))+C[3]+2399980690&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~P))+C[10]+4293915773&4294967295,O=M+(k<<15&4294967295|k>>>17),k=P+(M^(O|~x))+C[1]+2240044497&4294967295,P=O+(k<<21&4294967295|k>>>11),k=x+(O^(P|~M))+C[8]+1873313359&4294967295,x=P+(k<<6&4294967295|k>>>26),k=M+(P^(x|~O))+C[15]+4264355552&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~P))+C[6]+2734768916&4294967295,O=M+(k<<15&4294967295|k>>>17),k=P+(M^(O|~x))+C[13]+1309151649&4294967295,P=O+(k<<21&4294967295|k>>>11),k=x+(O^(P|~M))+C[4]+4149444226&4294967295,x=P+(k<<6&4294967295|k>>>26),k=M+(P^(x|~O))+C[11]+3174756917&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~P))+C[2]+718787259&4294967295,O=M+(k<<15&4294967295|k>>>17),k=P+(M^(O|~x))+C[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+O&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.u=function(I,x){x===void 0&&(x=I.length);for(var P=x-this.blockSize,C=this.B,O=this.h,M=0;M<x;){if(O==0)for(;M<=P;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<x;)if(C[O++]=I.charCodeAt(M++),O==this.blockSize){s(this,C),O=0;break}}else for(;M<x;)if(C[O++]=I[M++],O==this.blockSize){s(this,C),O=0;break}}this.h=O,this.o+=x},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;var P=8*this.o;for(x=I.length-8;x<I.length;++x)I[x]=P&255,P/=256;for(this.u(I),I=Array(16),x=P=0;4>x;++x)for(var C=0;32>C;C+=8)I[P++]=this.g[x]>>>C&255;return I};function i(I,x){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=x(I)}function o(I,x){this.h=x;for(var P=[],C=!0,O=I.length-1;0<=O;O--){var M=I[O]|0;C&&M==x||(P[O]=M,C=!1)}this.g=P}var a={};function l(I){return-128<=I&&128>I?i(I,function(x){return new o([x|0],0>x?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return T(c(-I));for(var x=[],P=1,C=0;I>=P;C++)x[C]=I/P|0,P*=4294967296;return new o(x,0)}function h(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return T(h(I.substring(1),x));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(x,8)),C=d,O=0;O<I.length;O+=8){var M=Math.min(8,I.length-O),k=parseInt(I.substring(O,O+M),x);8>M?(M=c(Math.pow(x,M)),C=C.j(M).add(c(k))):(C=C.j(P),C=C.add(c(k)))}return C}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();for(var I=0,x=1,P=0;P<this.g.length;P++){var C=this.i(P);I+=(0<=C?C:4294967296+C)*x,x*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(v(this))return"-"+T(this).toString(I);for(var x=c(Math.pow(I,6)),P=this,C="";;){var O=N(P,x).g;P=_(P,O.j(x));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(I);if(P=O,w(P))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=_(this,I),v(I)?-1:w(I)?0:1};function T(I){for(var x=I.g.length,P=[],C=0;C<x;C++)P[C]=~I.g[C];return new o(P,~I.h).add(f)}t.abs=function(){return v(this)?T(this):this},t.add=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0,O=0;O<=x;O++){var M=C+(this.i(O)&65535)+(I.i(O)&65535),k=(M>>>16)+(this.i(O)>>>16)+(I.i(O)>>>16);C=k>>>16,M&=65535,k&=65535,P[O]=k<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(I,x){return I.add(T(x))}t.j=function(I){if(w(this)||w(I))return d;if(v(this))return v(I)?T(this).j(T(I)):T(T(this).j(I));if(v(I))return T(this.j(T(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var x=this.g.length+I.g.length,P=[],C=0;C<2*x;C++)P[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<I.g.length;O++){var M=this.i(C)>>>16,k=this.i(C)&65535,Be=I.i(O)>>>16,Q=I.i(O)&65535;P[2*C+2*O]+=k*Q,E(P,2*C+2*O),P[2*C+2*O+1]+=M*Q,E(P,2*C+2*O+1),P[2*C+2*O+1]+=k*Be,E(P,2*C+2*O+1),P[2*C+2*O+2]+=M*Be,E(P,2*C+2*O+2)}for(C=0;C<x;C++)P[C]=P[2*C+1]<<16|P[2*C];for(C=x;C<2*x;C++)P[C]=0;return new o(P,0)};function E(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function A(I,x){this.g=I,this.h=x}function N(I,x){if(w(x))throw Error("division by zero");if(w(I))return new A(d,d);if(v(I))return x=N(T(I),x),new A(T(x.g),T(x.h));if(v(x))return x=N(I,T(x)),new A(T(x.g),x.h);if(30<I.g.length){if(v(I)||v(x))throw Error("slowDivide_ only works with positive integers.");for(var P=f,C=x;0>=C.l(I);)P=D(P),C=D(C);var O=V(P,1),M=V(C,1);for(C=V(C,2),P=V(P,2);!w(C);){var k=M.add(C);0>=k.l(I)&&(O=O.add(P),M=k),C=V(C,1),P=V(P,1)}return x=_(I,O.j(x)),new A(O,x)}for(O=d;0<=I.l(x);){for(P=Math.max(1,Math.floor(I.m()/x.m())),C=Math.ceil(Math.log(P)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=c(P),k=M.j(x);v(k)||0<k.l(I);)P-=C,M=c(P),k=M.j(x);w(M)&&(M=f),O=O.add(M),I=_(I,k)}return new A(O,I)}t.A=function(I){return N(this,I).h},t.and=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0;C<x;C++)P[C]=this.i(C)&I.i(C);return new o(P,this.h&I.h)},t.or=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0;C<x;C++)P[C]=this.i(C)|I.i(C);return new o(P,this.h|I.h)},t.xor=function(I){for(var x=Math.max(this.g.length,I.g.length),P=[],C=0;C<x;C++)P[C]=this.i(C)^I.i(C);return new o(P,this.h^I.h)};function D(I){for(var x=I.g.length+1,P=[],C=0;C<x;C++)P[C]=I.i(C)<<1|I.i(C-1)>>>31;return new o(P,I.h)}function V(I,x){var P=x>>5;x%=32;for(var C=I.g.length-P,O=[],M=0;M<C;M++)O[M]=0<x?I.i(M+P)>>>x|I.i(M+P+1)<<32-x:I.i(M+P);return new o(O,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a3=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,So=o}).apply(typeof MI<"u"?MI:typeof self<"u"?self:typeof window<"u"?window:{});var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var l3,Oh,c3,ym,v1,u3,h3,d3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,y){return u==Array.prototype||u==Object.prototype||(u[p]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lp=="object"&&Lp];for(var p=0;p<u.length;++p){var y=u[p];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var y=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in y))break e;y=y[B]}u=u[u.length-1],S=y[u],p=p(S),p!=S&&p!=null&&e(y,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var y=0,S=!1,B={next:function(){if(!S&&y<u.length){var z=y++;return{value:p(z,u[z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,y){return u.call.apply(u.bind,arguments)}function d(u,p,y){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(p,B)}}return function(){return u.apply(p,arguments)}}function f(u,p,y){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(u,p){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function w(u,p){function y(){}y.prototype=p.prototype,u.aa=p.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(S,B,z){for(var J=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)J[Fe-2]=arguments[Fe];return p.prototype[B].apply(S,J)}}function v(u){const p=u.length;if(0<p){const y=Array(p);for(let S=0;S<p;S++)y[S]=u[S];return y}return[]}function T(u,p){for(let y=1;y<arguments.length;y++){const S=arguments[y];if(l(S)){const B=u.length||0,z=S.length||0;u.length=B+z;for(let J=0;J<z;J++)u[B+J]=S[J]}else u.push(S)}}class _{constructor(p,y){this.i=p,this.j=y,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(u){return/^[\s\xa0]*$/.test(u)}function A(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var D=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function V(u,p,y){for(const S in u)p.call(y,u[S],S,u)}function I(u,p){for(const y in u)p.call(void 0,u[y],y,u)}function x(u){const p={};for(const y in u)p[y]=u[y];return p}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,p){let y,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(y in S)u[y]=S[y];for(let z=0;z<P.length;z++)y=P[z],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function O(u){var p=1;u=u.split(":");const y=[];for(;0<p&&u.length;)y.push(u.shift()),p--;return u.length&&y.push(u.join(":")),y}function M(u){a.setTimeout(()=>{throw u},0)}function k(){var u=q;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class Be{constructor(){this.h=this.g=null}add(p,y){const S=Q.get();S.set(p,y),this.h?this.h.next=S:this.g=S,this.h=S}}var Q=new _(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(p,y){this.h=p,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,$=!1,q=new Be,ne=()=>{const u=a.Promise.resolve(void 0);ie=()=>{u.then(ge)}};var ge=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){M(y)}var p=Q;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Oe(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};a.addEventListener("test",y,p),a.removeEventListener("test",y,p)}catch{}return u}();function Qt(u,p){if(Oe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{N(p.nodeName);var B=!0;break e}catch{}B=!1}B||(p=null)}}else y=="mouseover"?p=u.fromElement:y=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:dn[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Qt.aa.h.call(this)}}w(Qt,Oe);var dn={2:"touch",3:"pen",4:"mouse"};Qt.prototype.h=function(){Qt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Xu=0;function Ds(u,p,y,S,B){this.listener=u,this.proxy=null,this.src=p,this.type=y,this.capture=!!S,this.ha=B,this.key=++Xu,this.da=this.fa=!1}function Pr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function na(u){this.src=u,this.g={},this.h=0}na.prototype.add=function(u,p,y,S,B){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var J=fn(u,p,S,B);return-1<J?(p=u[J],y||(p.fa=!1)):(p=new Ds(p,this.src,z,!!S,B),p.fa=y,u.push(p)),p};function Zr(u,p){var y=p.type;if(y in u.g){var S=u.g[y],B=Array.prototype.indexOf.call(S,p,void 0),z;(z=0<=B)&&Array.prototype.splice.call(S,B,1),z&&(Pr(p),u.g[y].length==0&&(delete u.g[y],u.h--))}}function fn(u,p,y,S){for(var B=0;B<u.length;++B){var z=u[B];if(!z.da&&z.listener==p&&z.capture==!!y&&z.ha==S)return B}return-1}var es="closure_lm_"+(1e6*Math.random()|0),Rl={};function Zu(u,p,y,S,B){if(Array.isArray(p)){for(var z=0;z<p.length;z++)Zu(u,p[z],y,S,B);return null}return y=k2(y),u&&u[Pt]?u.K(p,y,c(S)?!!S.capture:!1,B):t5(u,p,y,!1,S,B)}function t5(u,p,y,S,B,z){if(!p)throw Error("Invalid event type");var J=c(B)?!!B.capture:!!B,Fe=ly(u);if(Fe||(u[es]=Fe=new na(u)),y=Fe.add(p,y,S,J,z),y.proxy)return y;if(S=n5(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)St||(B=J),B===void 0&&(B=!1),u.addEventListener(p.toString(),S,B);else if(u.attachEvent)u.attachEvent(R2(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function n5(){function u(y){return p.call(u.src,u.listener,y)}const p=r5;return u}function C2(u,p,y,S,B){if(Array.isArray(p))for(var z=0;z<p.length;z++)C2(u,p[z],y,S,B);else S=c(S)?!!S.capture:!!S,y=k2(y),u&&u[Pt]?(u=u.i,p=String(p).toString(),p in u.g&&(z=u.g[p],y=fn(z,y,S,B),-1<y&&(Pr(z[y]),Array.prototype.splice.call(z,y,1),z.length==0&&(delete u.g[p],u.h--)))):u&&(u=ly(u))&&(p=u.g[p.toString()],u=-1,p&&(u=fn(p,y,S,B)),(y=-1<u?p[u]:null)&&ay(y))}function ay(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Pt])Zr(p.i,u);else{var y=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(y,S,u.capture):p.detachEvent?p.detachEvent(R2(y),S):p.addListener&&p.removeListener&&p.removeListener(S),(y=ly(p))?(Zr(y,u),y.h==0&&(y.src=null,p[es]=null)):Pr(u)}}}function R2(u){return u in Rl?Rl[u]:Rl[u]="on"+u}function r5(u,p){if(u.da)u=!0;else{p=new Qt(p,this);var y=u.listener,S=u.ha||u.src;u.fa&&ay(u),u=y.call(S,p)}return u}function ly(u){return u=u[es],u instanceof na?u:null}var cy="__closure_events_fn_"+(1e9*Math.random()>>>0);function k2(u){return typeof u=="function"?u:(u[cy]||(u[cy]=function(p){return u.handleEvent(p)}),u[cy])}function qt(){pe.call(this),this.i=new na(this),this.M=this,this.F=null}w(qt,pe),qt.prototype[Pt]=!0,qt.prototype.removeEventListener=function(u,p,y,S){C2(this,u,p,y,S)};function pn(u,p){var y,S=u.F;if(S)for(y=[];S;S=S.F)y.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new Oe(p,u);else if(p instanceof Oe)p.target=p.target||u;else{var B=p;p=new Oe(S,u),C(p,B)}if(B=!0,y)for(var z=y.length-1;0<=z;z--){var J=p.g=y[z];B=Yf(J,S,!0,p)&&B}if(J=p.g=u,B=Yf(J,S,!0,p)&&B,B=Yf(J,S,!1,p)&&B,y)for(z=0;z<y.length;z++)J=p.g=y[z],B=Yf(J,S,!1,p)&&B}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var y=u.g[p],S=0;S<y.length;S++)Pr(y[S]);delete u.g[p],u.h--}}this.F=null},qt.prototype.K=function(u,p,y,S){return this.i.add(String(u),p,!1,y,S)},qt.prototype.L=function(u,p,y,S){return this.i.add(String(u),p,!0,y,S)};function Yf(u,p,y,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var B=!0,z=0;z<p.length;++z){var J=p[z];if(J&&!J.da&&J.capture==y){var Fe=J.listener,Vt=J.ha||J.src;J.fa&&Zr(u.i,J),B=Fe.call(Vt,S)!==!1&&B}}return B&&!S.defaultPrevented}function N2(u,p,y){if(typeof u=="function")y&&(u=f(u,y));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function O2(u){u.g=N2(()=>{u.g=null,u.i&&(u.i=!1,O2(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class s5 extends pe{constructor(p,y){super(),this.m=p,this.l=y,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:O2(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eh(u){pe.call(this),this.h=u,this.g={}}w(eh,pe);var D2=[];function L2(u){V(u.g,function(p,y){this.g.hasOwnProperty(y)&&ay(p)},u),u.g={}}eh.prototype.N=function(){eh.aa.N.call(this),L2(this)},eh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uy=a.JSON.stringify,i5=a.JSON.parse,o5=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function hy(){}hy.prototype.h=null;function V2(u){return u.h||(u.h=u.i())}function M2(){}var th={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dy(){Oe.call(this,"d")}w(dy,Oe);function fy(){Oe.call(this,"c")}w(fy,Oe);var ra={},F2=null;function Xf(){return F2=F2||new qt}ra.La="serverreachability";function B2(u){Oe.call(this,ra.La,u)}w(B2,Oe);function nh(u){const p=Xf();pn(p,new B2(p))}ra.STAT_EVENT="statevent";function U2(u,p){Oe.call(this,ra.STAT_EVENT,u),this.stat=p}w(U2,Oe);function mn(u){const p=Xf();pn(p,new U2(p,u))}ra.Ma="timingevent";function j2(u,p){Oe.call(this,ra.Ma,u),this.size=p}w(j2,Oe);function rh(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function sh(){this.g=!0}sh.prototype.xa=function(){this.g=!1};function a5(u,p,y,S,B,z){u.info(function(){if(u.g)if(z)for(var J="",Fe=z.split("&"),Vt=0;Vt<Fe.length;Vt++){var ke=Fe[Vt].split("=");if(1<ke.length){var Jt=ke[0];ke=ke[1];var Yt=Jt.split("_");J=2<=Yt.length&&Yt[1]=="type"?J+(Jt+"="+ke+"&"):J+(Jt+"=redacted&")}}else J=null;else J=z;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+p+`
`+y+`
`+J})}function l5(u,p,y,S,B,z,J){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+p+`
`+y+`
`+z+" "+J})}function kl(u,p,y,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+u5(u,y)+(S?" "+S:"")})}function c5(u,p){u.info(function(){return"TIMEOUT: "+p})}sh.prototype.info=function(){};function u5(u,p){if(!u.g)return p;if(!p)return null;try{var y=JSON.parse(p);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var S=y[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var z=B[0];if(z!="noop"&&z!="stop"&&z!="close")for(var J=1;J<B.length;J++)B[J]=""}}}}return uy(y)}catch{return p}}var Zf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},z2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},py;function ep(){}w(ep,hy),ep.prototype.g=function(){return new XMLHttpRequest},ep.prototype.i=function(){return{}},py=new ep;function Ri(u,p,y,S){this.j=u,this.i=p,this.l=y,this.R=S||1,this.U=new eh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new H2}function H2(){this.i=null,this.g="",this.h=!1}var G2={},my={};function gy(u,p,y){u.L=1,u.v=sp(Ls(p)),u.m=y,u.P=!0,$2(u,null)}function $2(u,p){u.F=Date.now(),tp(u),u.A=Ls(u.v);var y=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ix(y.i,"t",S),u.C=0,y=u.j.J,u.h=new H2,u.g=xx(u.j,y?p:null,!u.m),0<u.O&&(u.M=new s5(f(u.Y,u,u.g),u.O)),p=u.U,y=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(D2[0]=B.toString()),B=D2);for(var z=0;z<B.length;z++){var J=Zu(y,B[z],S||p.handleEvent,!1,p.h||p);if(!J)break;p.g[J.key]=J}p=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),nh(),a5(u.i,u.u,u.A,u.l,u.R,u.m)}Ri.prototype.ca=function(u){u=u.target;const p=this.M;p&&Vs(u)==3?p.j():this.Y(u)},Ri.prototype.Y=function(u){try{if(u==this.g)e:{const Yt=Vs(this.g);var p=this.g.Ba();const Dl=this.g.Z();if(!(3>Yt)&&(Yt!=3||this.g&&(this.h.h||this.g.oa()||dx(this.g)))){this.J||Yt!=4||p==7||(p==8||0>=Dl?nh(3):nh(2)),yy(this);var y=this.g.Z();this.X=y;t:if(W2(this)){var S=dx(this.g);u="";var B=S.length,z=Vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sa(this),ih(this);var J="";break t}this.h.i=new a.TextDecoder}for(p=0;p<B;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(z&&p==B-1)});S.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,l5(this.i,this.u,this.A,this.l,this.R,Yt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,Vt=this.g;if((Fe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Fe)){var ke=Fe;break t}}ke=null}if(y=ke)kl(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vy(this,y);else{this.o=!1,this.s=3,mn(12),sa(this),ih(this);break e}}if(this.P){y=!0;let Cr;for(;!this.J&&this.C<J.length;)if(Cr=h5(this,J),Cr==my){Yt==4&&(this.s=4,mn(14),y=!1),kl(this.i,this.l,null,"[Incomplete Response]");break}else if(Cr==G2){this.s=4,mn(15),kl(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else kl(this.i,this.l,Cr,null),vy(this,Cr);if(W2(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Yt!=4||J.length!=0||this.h.h||(this.s=1,mn(16),y=!1),this.o=this.o&&y,!y)kl(this.i,this.l,J,"[Invalid Chunked Response]"),sa(this),ih(this);else if(0<J.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Ty(Jt),Jt.M=!0,mn(11))}}else kl(this.i,this.l,J,null),vy(this,J);Yt==4&&sa(this),this.o&&!this.J&&(Yt==4?wx(this.j,this):(this.o=!1,tp(this)))}else P5(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),sa(this),ih(this)}}}catch{}finally{}};function W2(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function h5(u,p){var y=u.C,S=p.indexOf(`
`,y);return S==-1?my:(y=Number(p.substring(y,S)),isNaN(y)?G2:(S+=1,S+y>p.length?my:(p=p.slice(S,S+y),u.C=S+y,p)))}Ri.prototype.cancel=function(){this.J=!0,sa(this)};function tp(u){u.S=Date.now()+u.I,K2(u,u.I)}function K2(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=rh(f(u.ba,u),p)}function yy(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Ri.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(c5(this.i,this.A),this.L!=2&&(nh(),mn(17)),sa(this),this.s=2,ih(this)):K2(this,this.S-u)};function ih(u){u.j.G==0||u.J||wx(u.j,u)}function sa(u){yy(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,L2(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function vy(u,p){try{var y=u.j;if(y.G!=0&&(y.g==u||wy(y.h,u))){if(!u.K&&wy(y.h,u)&&y.G==3){try{var S=y.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)up(y),lp(y);else break e;xy(y),mn(18)}}else y.za=B[1],0<y.za-y.T&&37500>B[2]&&y.F&&y.v==0&&!y.C&&(y.C=rh(f(y.Za,y),6e3));if(1>=J2(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else oa(y,11)}else if((u.K||y.g==u)&&up(y),!E(p))for(B=y.Da.g.parse(p),p=0;p<B.length;p++){let ke=B[p];if(y.T=ke[0],ke=ke[1],y.G==2)if(ke[0]=="c"){y.K=ke[1],y.ia=ke[2];const Jt=ke[3];Jt!=null&&(y.la=Jt,y.j.info("VER="+y.la));const Yt=ke[4];Yt!=null&&(y.Aa=Yt,y.j.info("SVER="+y.Aa));const Dl=ke[5];Dl!=null&&typeof Dl=="number"&&0<Dl&&(S=1.5*Dl,y.L=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const Cr=u.g;if(Cr){const dp=Cr.g?Cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dp){var z=S.h;z.g||dp.indexOf("spdy")==-1&&dp.indexOf("quic")==-1&&dp.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(_y(z,z.h),z.h=null))}if(S.D){const by=Cr.g?Cr.g.getResponseHeader("X-HTTP-Session-Id"):null;by&&(S.ya=by,He(S.I,S.D,by))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),S=y;var J=u;if(S.qa=Ax(S,S.J?S.ia:null,S.W),J.K){Y2(S.h,J);var Fe=J,Vt=S.L;Vt&&(Fe.I=Vt),Fe.B&&(yy(Fe),tp(Fe)),S.g=J}else yx(S);0<y.i.length&&cp(y)}else ke[0]!="stop"&&ke[0]!="close"||oa(y,7);else y.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?oa(y,7):Ay(y):ke[0]!="noop"&&y.l&&y.l.ta(ke),y.v=0)}}nh(4)}catch{}}var d5=class{constructor(u,p){this.g=u,this.map=p}};function Q2(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function q2(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function J2(u){return u.h?1:u.g?u.g.size:0}function wy(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function _y(u,p){u.g?u.g.add(p):u.h=p}function Y2(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Q2.prototype.cancel=function(){if(this.i=X2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function X2(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const y of u.g.values())p=p.concat(y.D);return p}return v(u.i)}function f5(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],y=u.length,S=0;S<y;S++)p.push(u[S]);return p}p=[],y=0;for(S in u)p[y++]=u[S];return p}function p5(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var y=0;y<u;y++)p.push(y);return p}p=[],y=0;for(const S in u)p[y++]=S;return p}}}function Z2(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var y=p5(u),S=f5(u),B=S.length,z=0;z<B;z++)p.call(void 0,S[z],y&&y[z],u)}var ex=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m5(u,p){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var S=u[y].indexOf("="),B=null;if(0<=S){var z=u[y].substring(0,S);B=u[y].substring(S+1)}else z=u[y];p(z,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function ia(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ia){this.h=u.h,np(this,u.j),this.o=u.o,this.g=u.g,rp(this,u.s),this.l=u.l;var p=u.i,y=new lh;y.i=p.i,p.g&&(y.g=new Map(p.g),y.h=p.h),tx(this,y),this.m=u.m}else u&&(p=String(u).match(ex))?(this.h=!1,np(this,p[1]||"",!0),this.o=oh(p[2]||""),this.g=oh(p[3]||"",!0),rp(this,p[4]),this.l=oh(p[5]||"",!0),tx(this,p[6]||"",!0),this.m=oh(p[7]||"")):(this.h=!1,this.i=new lh(null,this.h))}ia.prototype.toString=function(){var u=[],p=this.j;p&&u.push(ah(p,nx,!0),":");var y=this.g;return(y||p=="file")&&(u.push("//"),(p=this.o)&&u.push(ah(p,nx,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ah(y,y.charAt(0)=="/"?v5:y5,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ah(y,_5)),u.join("")};function Ls(u){return new ia(u)}function np(u,p,y){u.j=y?oh(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function rp(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function tx(u,p,y){p instanceof lh?(u.i=p,E5(u.i,u.h)):(y||(p=ah(p,w5)),u.i=new lh(p,u.h))}function He(u,p,y){u.i.set(p,y)}function sp(u){return He(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function oh(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ah(u,p,y){return typeof u=="string"?(u=encodeURI(u).replace(p,g5),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function g5(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var nx=/[#\/\?@]/g,y5=/[#\?:]/g,v5=/[#\?]/g,w5=/[#\?@]/g,_5=/#/g;function lh(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ki(u){u.g||(u.g=new Map,u.h=0,u.i&&m5(u.i,function(p,y){u.add(decodeURIComponent(p.replace(/\+/g," ")),y)}))}t=lh.prototype,t.add=function(u,p){ki(this),this.i=null,u=Nl(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(p),this.h+=1,this};function rx(u,p){ki(u),p=Nl(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function sx(u,p){return ki(u),p=Nl(u,p),u.g.has(p)}t.forEach=function(u,p){ki(this),this.g.forEach(function(y,S){y.forEach(function(B){u.call(p,B,S,this)},this)},this)},t.na=function(){ki(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),y=[];for(let S=0;S<p.length;S++){const B=u[S];for(let z=0;z<B.length;z++)y.push(p[S])}return y},t.V=function(u){ki(this);let p=[];if(typeof u=="string")sx(this,u)&&(p=p.concat(this.g.get(Nl(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)p=p.concat(u[y])}return p},t.set=function(u,p){return ki(this),this.i=null,u=Nl(this,u),sx(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function ix(u,p,y){rx(u,p),0<y.length&&(u.i=null,u.g.set(Nl(u,p),v(y)),u.h+=y.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var y=0;y<p.length;y++){var S=p[y];const z=encodeURIComponent(String(S)),J=this.V(S);for(S=0;S<J.length;S++){var B=z;J[S]!==""&&(B+="="+encodeURIComponent(String(J[S]))),u.push(B)}}return this.i=u.join("&")};function Nl(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function E5(u,p){p&&!u.j&&(ki(u),u.i=null,u.g.forEach(function(y,S){var B=S.toLowerCase();S!=B&&(rx(this,S),ix(this,B,y))},u)),u.j=p}function A5(u,p){const y=new sh;if(a.Image){const S=new Image;S.onload=g(Ni,y,"TestLoadImage: loaded",!0,p,S),S.onerror=g(Ni,y,"TestLoadImage: error",!1,p,S),S.onabort=g(Ni,y,"TestLoadImage: abort",!1,p,S),S.ontimeout=g(Ni,y,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function x5(u,p){const y=new sh,S=new AbortController,B=setTimeout(()=>{S.abort(),Ni(y,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(z=>{clearTimeout(B),z.ok?Ni(y,"TestPingServer: ok",!0,p):Ni(y,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(B),Ni(y,"TestPingServer: error",!1,p)})}function Ni(u,p,y,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(y)}catch{}}function T5(){this.g=new o5}function b5(u,p,y){const S=y||"";try{Z2(u,function(B,z){let J=B;c(B)&&(J=uy(B)),p.push(S+z+"="+encodeURIComponent(J))})}catch(B){throw p.push(S+"type="+encodeURIComponent("_badmap")),B}}function ip(u){this.l=u.Ub||null,this.j=u.eb||!1}w(ip,hy),ip.prototype.g=function(){return new op(this.l,this.j)},ip.prototype.i=function(u){return function(){return u}}({});function op(u,p){qt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(op,qt),t=op.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,uh(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ch(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,uh(this)),this.g&&(this.readyState=3,uh(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ox(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ox(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ch(this):uh(this),this.readyState==3&&ox(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ch(this))},t.Qa=function(u){this.g&&(this.response=u,ch(this))},t.ga=function(){this.g&&ch(this)};function ch(u){u.readyState=4,u.l=null,u.j=null,u.v=null,uh(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var y=p.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=p.next();return u.join(`\r
`)};function uh(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(op.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ax(u){let p="";return V(u,function(y,S){p+=S,p+=":",p+=y,p+=`\r
`}),p}function Ey(u,p,y){e:{for(S in y){var S=!1;break e}S=!0}S||(y=ax(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):He(u,p,y))}function rt(u){qt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(rt,qt);var I5=/^https?$/i,S5=["POST","PUT"];t=rt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():py.g(),this.v=this.o?V2(this.o):V2(py),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(z){lx(this,z);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)y.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const z of S.keys())y.set(z,S.get(z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(z=>z.toLowerCase()=="content-type"),B=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(S5,p,void 0))||S||B||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,J]of y)this.g.setRequestHeader(z,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hx(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){lx(this,z)}};function lx(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,cx(u),ap(u)}function cx(u){u.A||(u.A=!0,pn(u,"complete"),pn(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pn(this,"complete"),pn(this,"abort"),ap(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ap(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ux(this):this.bb())},t.bb=function(){ux(this)};function ux(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Vs(u)!=4||u.Z()!=2)){if(u.u&&Vs(u)==4)N2(u.Ea,0,u);else if(pn(u,"readystatechange"),Vs(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var y;if(!(y=p)){var S;if(S=J===0){var B=String(u.D).match(ex)[1]||null;!B&&a.self&&a.self.location&&(B=a.self.location.protocol.slice(0,-1)),S=!I5.test(B?B.toLowerCase():"")}y=S}if(y)pn(u,"complete"),pn(u,"success");else{u.m=6;try{var z=2<Vs(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",cx(u)}}finally{ap(u)}}}}function ap(u,p){if(u.g){hx(u);const y=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||pn(u,"ready");try{y.onreadystatechange=S}catch{}}}function hx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Vs(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),i5(p)}};function dx(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function P5(u){const p={};u=(u.g&&2<=Vs(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(E(u[S]))continue;var y=O(u[S]);const B=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const z=p[B]||[];p[B]=z,z.push(y)}I(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hh(u,p,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||p}function fx(u){this.Aa=0,this.i=[],this.j=new sh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hh("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hh("baseRetryDelayMs",5e3,u),this.cb=hh("retryDelaySeedMs",1e4,u),this.Wa=hh("forwardChannelMaxRetries",2,u),this.wa=hh("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Q2(u&&u.concurrentRequestLimit),this.Da=new T5,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=fx.prototype,t.la=8,t.G=1,t.connect=function(u,p,y,S){mn(0),this.W=u,this.H=p||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.I=Ax(this,null,this.W),cp(this)};function Ay(u){if(px(u),u.G==3){var p=u.U++,y=Ls(u.I);if(He(y,"SID",u.K),He(y,"RID",p),He(y,"TYPE","terminate"),dh(u,y),p=new Ri(u,u.j,p),p.L=2,p.v=sp(Ls(y)),y=!1,a.navigator&&a.navigator.sendBeacon)try{y=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!y&&a.Image&&(new Image().src=p.v,y=!0),y||(p.g=xx(p.j,null),p.g.ea(p.v)),p.F=Date.now(),tp(p)}Ex(u)}function lp(u){u.g&&(Ty(u),u.g.cancel(),u.g=null)}function px(u){lp(u),u.u&&(a.clearTimeout(u.u),u.u=null),up(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function cp(u){if(!q2(u.h)&&!u.s){u.s=!0;var p=u.Ga;ie||ne(),$||(ie(),$=!0),q.add(p,u),u.B=0}}function C5(u,p){return J2(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=rh(f(u.Ga,u,p),_x(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Ri(this,this.j,u);let z=this.o;if(this.S&&(z?(z=x(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(B.H=z,z=null),this.P)e:{for(var p=0,y=0;y<this.i.length;y++){t:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=y;break e}if(p===4096||y===this.i.length-1){p=y+1;break e}}p=1e3}else p=1e3;p=gx(this,B,p),y=Ls(this.I),He(y,"RID",u),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),dh(this,y),z&&(this.O?p="headers="+encodeURIComponent(String(ax(z)))+"&"+p:this.m&&Ey(y,this.m,z)),_y(this.h,B),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",p),He(y,"SID","null"),B.T=!0,gy(B,y,null)):gy(B,y,p),this.G=2}}else this.G==3&&(u?mx(this,u):this.i.length==0||q2(this.h)||mx(this))};function mx(u,p){var y;p?y=p.l:y=u.U++;const S=Ls(u.I);He(S,"SID",u.K),He(S,"RID",y),He(S,"AID",u.T),dh(u,S),u.m&&u.o&&Ey(S,u.m,u.o),y=new Ri(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),p&&(u.i=p.D.concat(u.i)),p=gx(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_y(u.h,y),gy(y,S,p)}function dh(u,p){u.H&&V(u.H,function(y,S){He(p,S,y)}),u.l&&Z2({},function(y,S){He(p,S,y)})}function gx(u,p,y){y=Math.min(u.i.length,y);var S=u.l?f(u.l.Na,u.l,u):null;e:{var B=u.i;let z=-1;for(;;){const J=["count="+y];z==-1?0<y?(z=B[0].g,J.push("ofs="+z)):z=0:J.push("ofs="+z);let Fe=!0;for(let Vt=0;Vt<y;Vt++){let ke=B[Vt].g;const Jt=B[Vt].map;if(ke-=z,0>ke)z=Math.max(0,B[Vt].g-100),Fe=!1;else try{b5(Jt,J,"req"+ke+"_")}catch{S&&S(Jt)}}if(Fe){S=J.join("&");break e}}}return u=u.i.splice(0,y),p.D=u,S}function yx(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;ie||ne(),$||(ie(),$=!0),q.add(p,u),u.v=0}}function xy(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=rh(f(u.Fa,u),_x(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,vx(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=rh(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),lp(this),vx(this))};function Ty(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function vx(u){u.g=new Ri(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ls(u.qa);He(p,"RID","rpc"),He(p,"SID",u.K),He(p,"AID",u.T),He(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&He(p,"TO",u.ja),He(p,"TYPE","xmlhttp"),dh(u,p),u.m&&u.o&&Ey(p,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=sp(Ls(p)),y.m=null,y.P=!0,$2(y,u)}t.Za=function(){this.C!=null&&(this.C=null,lp(this),xy(this),mn(19))};function up(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function wx(u,p){var y=null;if(u.g==p){up(u),Ty(u),u.g=null;var S=2}else if(wy(u.h,p))y=p.D,Y2(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){y=p.m?p.m.length:0,p=Date.now()-p.F;var B=u.B;S=Xf(),pn(S,new j2(S,y)),cp(u)}else yx(u);else if(B=p.s,B==3||B==0&&0<p.X||!(S==1&&C5(u,p)||S==2&&xy(u)))switch(y&&0<y.length&&(p=u.h,p.i=p.i.concat(y)),B){case 1:oa(u,5);break;case 4:oa(u,10);break;case 3:oa(u,6);break;default:oa(u,2)}}}function _x(u,p){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*p}function oa(u,p){if(u.j.info("Error code "+p),p==2){var y=f(u.fb,u),S=u.Xa;const B=!S;S=new ia(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||np(S,"https"),sp(S),B?A5(S.toString(),y):x5(S.toString(),y)}else mn(2);u.G=0,u.l&&u.l.sa(p),Ex(u),px(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function Ex(u){if(u.G=0,u.ka=[],u.l){const p=X2(u.h);(p.length!=0||u.i.length!=0)&&(T(u.ka,p),T(u.ka,u.i),u.h.i.length=0,v(u.i),u.i.length=0),u.l.ra()}}function Ax(u,p,y){var S=y instanceof ia?Ls(y):new ia(y);if(S.g!="")p&&(S.g=p+"."+S.g),rp(S,S.s);else{var B=a.location;S=B.protocol,p=p?p+"."+B.hostname:B.hostname,B=+B.port;var z=new ia(null);S&&np(z,S),p&&(z.g=p),B&&rp(z,B),y&&(z.l=y),S=z}return y=u.D,p=u.ya,y&&p&&He(S,y,p),He(S,"VER",u.la),dh(u,S),S}function xx(u,p,y){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new rt(new ip({eb:y})):new rt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tx(){}t=Tx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hp(){}hp.prototype.g=function(u,p){return new Gn(u,p)};function Gn(u,p){qt.call(this),this.g=new fx(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!E(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Ol(this)}w(Gn,qt),Gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){Ay(this.g)},Gn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=uy(u),u=y);p.i.push(new d5(p.Ya++,u)),p.G==3&&cp(p)},Gn.prototype.N=function(){this.g.l=null,delete this.j,Ay(this.g),delete this.g,Gn.aa.N.call(this)};function bx(u){dy.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const y in p){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(bx,dy);function Ix(){fy.call(this),this.status=1}w(Ix,fy);function Ol(u){this.g=u}w(Ol,Tx),Ol.prototype.ua=function(){pn(this.g,"a")},Ol.prototype.ta=function(u){pn(this.g,new bx(u))},Ol.prototype.sa=function(u){pn(this.g,new Ix)},Ol.prototype.ra=function(){pn(this.g,"b")},hp.prototype.createWebChannel=hp.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,d3=function(){return new hp},h3=function(){return Xf()},u3=ra,v1={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zf.NO_ERROR=0,Zf.TIMEOUT=8,Zf.HTTP_ERROR=6,ym=Zf,z2.COMPLETE="complete",c3=z2,M2.EventType=th,th.OPEN="a",th.CLOSE="b",th.ERROR="c",th.MESSAGE="d",qt.prototype.listen=qt.prototype.K,Oh=M2,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,l3=rt}).apply(typeof Lp<"u"?Lp:typeof self<"u"?self:typeof window<"u"?window:{});const FI="@firebase/firestore",BI="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new qE("@firebase/firestore");function Fl(){return dl.logLevel}function ee(t,...e){if(dl.logLevel<=Ae.DEBUG){const n=e.map(cA);dl.debug(`Firestore (${Gu}): ${t}`,...n)}}function wi(t,...e){if(dl.logLevel<=Ae.ERROR){const n=e.map(cA);dl.error(`Firestore (${Gu}): ${t}`,...n)}}function Mo(t,...e){if(dl.logLevel<=Ae.WARN){const n=e.map(cA);dl.warn(`Firestore (${Gu}): ${t}`,...n)}}function cA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,f3(t,r,n)}function f3(t,e,n){let r=`FIRESTORE (${Gu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wi(r),new Error(r)}function Pe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||f3(e,s,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class uG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hG{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Pe(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Is,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pe(typeof r.accessToken=="string",31837,{l:r}),new p3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Pe(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class dG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class fG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new dG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Pe(this.o===void 0,3512);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new UI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new UI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=mG(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ye(t,e){return t<e?-1:t>e?1:0}function w1(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ye(r,s);{const i=m3(),o=gG(i.encode(jI(t,n)),i.encode(jI(e,n)));return o!==0?o:ye(r,s)}}n+=r>65535?2:1}return ye(t.length,e.length)}function jI(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function gG(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ye(t[n],e[n]);return ye(t.length,e.length)}function xu(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="__name__";class is{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=is.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ye(e.length,n.length)}static compareSegments(e,n){const r=is.isNumericId(e),s=is.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?is.extractNumericId(e).compare(is.extractNumericId(n)):w1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return So.fromString(e.substring(4,e.length-2))}}class Ve extends is{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const yG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends is{construct(e,n,r){return new zt(e,n,r)}static isValidIdentifier(e){return yG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zI}static keyField(){return new zt([zI])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(n)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ve.fromString(e))}static fromName(e){return new ae(Ve.fromString(e).popFirst(5))}static empty(){return new ae(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ve(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t,e,n){if(!n)throw new Y(H.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vG(t,e,n,r){if(e===!0&&r===!0)throw new Y(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HI(t){if(!ae.isDocumentKey(t))throw new Y(H.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GI(t){if(ae.isDocumentKey(t))throw new Y(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function y3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function P0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=P0(t);throw new Y(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function wG(t,e){if(e<=0)throw new Y(H.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(t,e){const n={typeString:t};return e&&(n.value=e),n}function Vf(t,e){if(!y3(t))throw new Y(H.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new Y(H.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=-62135596800,WI=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WI);return new $e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$I)throw new Y(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WI}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vf(e,$e._jsonSchema))return new $e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$I;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:Et("string",$e._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new $e(0,0))}static max(){return new ue(new $e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=-1;function _G(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new Fo(s,ae.empty(),e)}function EG(t){return new Fo(t.readTime,t.key,jd)}class Fo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fo(ue.min(),ae.empty(),jd)}static max(){return new Fo(ue.max(),ae.empty(),jd)}}function AG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $u(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==xG)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new G((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof G?n:G.resolve(n)}catch(n){return G.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):G.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):G.reject(n)}static resolve(e){return new G((n,r)=>{n(e)})}static reject(e){return new G((n,r)=>{r(e)})}static waitFor(e){return new G((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=G.resolve(!1);for(const r of e)n=n.next(s=>s?G.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new G((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new G((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function bG(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}C0.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=-1;function Mf(t){return t==null}function wg(t){return t===0&&1/t==-1/0}function IG(t){return typeof t=="number"&&Number.isInteger(t)&&!wg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="";function SG(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KI(e)),e=PG(t.get(n),e);return KI(e)}function PG(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case v3:n+="";break;default:n+=i}}return n}function KI(t){return t+v3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function w3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Ut.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vp(this.root,e,this.comparator,!0)}}class Vp{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ut.RED,this.left=s??Ut.EMPTY,this.right=i??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ut(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ut.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ut(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qI(this.data.getIterator())}getIteratorFrom(e){return new qI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class qI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new er([])}unionWith(e){let n=new It(zt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _3("Invalid base64 string: "+i):i}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const CG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bo(t){if(Pe(!!t,39018),typeof t=="string"){let e=0;const n=CG.exec(t);if(Pe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Uo(t){return typeof t=="string"?Kt.fromBase64String(t):Kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="server_timestamp",A3="__type__",x3="__previous_value__",T3="__local_write_time__";function dA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[A3])===null||n===void 0?void 0:n.stringValue)===E3}function R0(t){const e=t.mapValue.fields[x3];return dA(e)?R0(e):e}function zd(t){const e=Bo(t.mapValue.fields[T3].timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RG{constructor(e,n,r,s,i,o,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h}}const _g="(default)";class Hd{constructor(e,n){this.projectId=e,this.database=n||_g}static empty(){return new Hd("","")}get isDefaultDatabase(){return this.database===_g}isEqual(e){return e instanceof Hd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__type__",kG="__max__",Mp={mapValue:{}},I3="__vector__",Eg="value";function jo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dA(t)?4:OG(t)?9007199254740991:NG(t)?10:11:le(28295,{value:t})}function ks(t,e){if(t===e)return!0;const n=jo(t);if(n!==jo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return zd(t).isEqual(zd(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Bo(s.timestampValue),a=Bo(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Uo(s.bytesValue).isEqual(Uo(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?wg(o)===wg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xu(t.arrayValue.values||[],e.arrayValue.values||[],ks);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(QI(o)!==QI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ks(o[l],a[l])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function Gd(t,e){return(t.values||[]).find(n=>ks(n,e))!==void 0}function Tu(t,e){if(t===e)return 0;const n=jo(t),r=jo(e);if(n!==r)return ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),l=ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return JI(t.timestampValue,e.timestampValue);case 4:return JI(zd(t),zd(e));case 5:return w1(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Uo(i),l=Uo(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=ye(a[c],l[c]);if(h!==0)return h}return ye(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ye(ht(i.latitude),ht(o.latitude));return a!==0?a:ye(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YI(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,h;const d=i.fields||{},f=o.fields||{},g=(a=d[Eg])===null||a===void 0?void 0:a.arrayValue,w=(l=f[Eg])===null||l===void 0?void 0:l.arrayValue,v=ye(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return v!==0?v:YI(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Mp.mapValue&&o===Mp.mapValue)return 0;if(i===Mp.mapValue)return 1;if(o===Mp.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=w1(l[d],h[d]);if(f!==0)return f;const g=Tu(a[l[d]],c[h[d]]);if(g!==0)return g}return ye(l.length,h.length)}(t.mapValue,e.mapValue);default:throw le(23264,{le:n})}}function JI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Bo(t),r=Bo(e),s=ye(n.seconds,r.seconds);return s!==0?s:ye(n.nanos,r.nanos)}function YI(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Tu(n[s],r[s]);if(i)return i}return ye(n.length,r.length)}function bu(t){return _1(t)}function _1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Uo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=_1(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${_1(n.fields[o])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function vm(t){switch(jo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=R0(t);return e?16+vm(e):16;case 5:return 2*t.stringValue.length;case 6:return Uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+vm(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Zo(r.fields,(i,o)=>{s+=i.length+vm(o)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function XI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E1(t){return!!t&&"integerValue"in t}function fA(t){return!!t&&"arrayValue"in t}function ZI(t){return!!t&&"nullValue"in t}function eS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wm(t){return!!t&&"mapValue"in t}function NG(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[b3])===null||n===void 0?void 0:n.stringValue)===I3}function id(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=id(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=id(t.arrayValue.values[n]);return e}return Object.assign({},t)}function OG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===kG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=id(n)}setAll(e){let n=zt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=id(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ks(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Zo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _n(id(this.value))}}function S3(t){const e=[];return Zo(t.fields,(n,r)=>{const s=new zt([n]);if(wm(r)){const i=S3(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new er(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ot(e,0,ue.min(),ue.min(),ue.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new Ot(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Ot(e,2,n,ue.min(),ue.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Ot(e,3,n,ue.min(),ue.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ot&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ot(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.position=e,this.inclusive=n}}function tS(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Tu(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function nS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ks(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n="asc"){this.field=e,this.dir=n}}function DG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{}class wt extends P3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VG(e,n,r):n==="array-contains"?new BG(e,r):n==="in"?new UG(e,r):n==="not-in"?new jG(e,r):n==="array-contains-any"?new zG(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MG(e,r):new FG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Tu(n,this.value)):n!==null&&jo(this.value)===jo(n)&&this.matchesComparison(Tu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qr extends P3{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new qr(e,n)}matches(e){return C3(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function C3(t){return t.op==="and"}function R3(t){return LG(t)&&C3(t)}function LG(t){for(const e of t.filters)if(e instanceof qr)return!1;return!0}function A1(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+bu(t.value);if(R3(t))return t.filters.map(e=>A1(e)).join(",");{const e=t.filters.map(n=>A1(n)).join(",");return`${t.op}(${e})`}}function k3(t,e){return t instanceof wt?function(r,s){return s instanceof wt&&r.op===s.op&&r.field.isEqual(s.field)&&ks(r.value,s.value)}(t,e):t instanceof qr?function(r,s){return s instanceof qr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&k3(o,s.filters[a]),!0):!1}(t,e):void le(19439)}function N3(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${bu(n.value)}`}(t):t instanceof qr?function(n){return n.op.toString()+" {"+n.getFilters().map(N3).join(" ,")+"}"}(t):"Filter"}class VG extends wt{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class MG extends wt{constructor(e,n){super(e,"in",n),this.keys=O3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class FG extends wt{constructor(e,n){super(e,"not-in",n),this.keys=O3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function O3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class BG extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fA(n)&&Gd(n.arrayValue,this.value)}}class UG extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class jG extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gd(this.value.arrayValue,n)}}class zG extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fA(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HG{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function rS(t,e=null,n=[],r=[],s=null,i=null,o=null){return new HG(t,e,n,r,s,i,o)}function pA(t){const e=fe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A1(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Mf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bu(r)).join(",")),e.Pe=n}return e.Pe}function mA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!DG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!k3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nS(t.startAt,e.startAt)&&nS(t.endAt,e.endAt)}function x1(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function GG(t,e,n,r,s,i,o,a){return new Ku(t,e,n,r,s,i,o,a)}function k0(t){return new Ku(t)}function sS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D3(t){return t.collectionGroup!==null}function od(t){const e=fe(t);if(e.Te===null){e.Te=[];const n=new Set;for(const i of e.explicitOrderBy)e.Te.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(zt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Te.push(new $d(i,r))}),n.has(zt.keyField().canonicalString())||e.Te.push(new $d(zt.keyField(),r))}return e.Te}function Ss(t){const e=fe(t);return e.Ie||(e.Ie=$G(e,od(t))),e.Ie}function $G(t,e){if(t.limitType==="F")return rS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new $d(s.field,i)});const n=t.endAt?new Ag(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ag(t.startAt.position,t.startAt.inclusive):null;return rS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function T1(t,e){const n=t.filters.concat([e]);return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xg(t,e,n){return new Ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function N0(t,e){return mA(Ss(t),Ss(e))&&t.limitType===e.limitType}function L3(t){return`${pA(Ss(t))}|lt:${t.limitType}`}function Bl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>N3(s)).join(", ")}]`),Mf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>bu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>bu(s)).join(",")),`Target(${r})`}(Ss(t))}; limitType=${t.limitType})`}function O0(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of od(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=tS(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,od(r),s)||r.endAt&&!function(o,a,l){const c=tS(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,od(r),s))}(t,e)}function WG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function V3(t){return(e,n)=>{let r=!1;for(const s of od(t)){const i=KG(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function KG(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Tu(l,c):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return w3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QG=new nt(ae.comparator);function _i(){return QG}const M3=new nt(ae.comparator);function Dh(...t){let e=M3;for(const n of t)e=e.insert(n.key,n);return e}function F3(t){let e=M3;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ta(){return ad()}function B3(){return ad()}function ad(){return new Il(t=>t.toString(),(t,e)=>t.isEqual(e))}const qG=new nt(ae.comparator),JG=new It(ae.comparator);function Te(...t){let e=JG;for(const n of t)e=e.add(n);return e}const YG=new It(ye);function XG(){return YG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wg(e)?"-0":e}}function U3(t){return{integerValue:""+t}}function ZG(t,e){return IG(e)?U3(e):gA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(){this._=void 0}}function e$(t,e,n){return t instanceof Wd?function(s,i){const o={fields:{[A3]:{stringValue:E3},[T3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&dA(i)&&(i=R0(i)),i&&(o.fields[x3]=i),{mapValue:o}}(n,e):t instanceof Kd?z3(t,e):t instanceof Qd?H3(t,e):function(s,i){const o=j3(s,i),a=iS(o)+iS(s.Ee);return E1(o)&&E1(s.Ee)?U3(a):gA(s.serializer,a)}(t,e)}function t$(t,e,n){return t instanceof Kd?z3(t,e):t instanceof Qd?H3(t,e):n}function j3(t,e){return t instanceof Tg?function(r){return E1(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Wd extends D0{}class Kd extends D0{constructor(e){super(),this.elements=e}}function z3(t,e){const n=G3(e);for(const r of t.elements)n.some(s=>ks(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qd extends D0{constructor(e){super(),this.elements=e}}function H3(t,e){let n=G3(e);for(const r of t.elements)n=n.filter(s=>!ks(s,r));return{arrayValue:{values:n}}}class Tg extends D0{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function iS(t){return ht(t.integerValue||t.doubleValue)}function G3(t){return fA(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,n){this.field=e,this.transform=n}}function r$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Kd&&s instanceof Kd||r instanceof Qd&&s instanceof Qd?xu(r.elements,s.elements,ks):r instanceof Tg&&s instanceof Tg?ks(r.Ee,s.Ee):r instanceof Wd&&s instanceof Wd}(t.transform,e.transform)}class s${constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _m(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class L0{}function $3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yA(t.key,an.none()):new Ff(t.key,t.data,an.none());{const n=t.data,r=_n.empty();let s=new It(zt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ea(t.key,r,new er(s.toArray()),an.none())}}function i$(t,e,n){t instanceof Ff?function(s,i,o){const a=s.value.clone(),l=aS(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ea?function(s,i,o){if(!_m(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=aS(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(W3(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ld(t,e,n,r){return t instanceof Ff?function(i,o,a,l){if(!_m(i.precondition,o))return a;const c=i.value.clone(),h=lS(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ea?function(i,o,a,l){if(!_m(i.precondition,o))return a;const c=lS(i.fieldTransforms,l,o),h=o.data;return h.setAll(W3(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return _m(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function o$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=j3(r.transform,s||null);i!=null&&(n===null&&(n=_n.empty()),n.set(r.field,i))}return n||null}function oS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xu(r,s,(i,o)=>r$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ff extends L0{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ea extends L0{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function W3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aS(t,e,n){const r=new Map;Pe(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,t$(o,a,n[s]))}return r}function lS(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,e$(i,o,e))}return r}class yA extends L0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class K3 extends L0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&i$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B3();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=$3(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Te())}isEqual(e){return this.batchId===e.batchId&&xu(this.mutations,e.mutations,(n,r)=>oS(n,r))&&xu(this.baseMutations,e.baseMutations,(n,r)=>oS(n,r))}}class vA{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Pe(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let s=function(){return qG}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new vA(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Se;function Q3(t){switch(t){case H.OK:return le(64938);case H.CANCELLED:case H.UNKNOWN:case H.DEADLINE_EXCEEDED:case H.RESOURCE_EXHAUSTED:case H.INTERNAL:case H.UNAVAILABLE:case H.UNAUTHENTICATED:return!1;case H.INVALID_ARGUMENT:case H.NOT_FOUND:case H.ALREADY_EXISTS:case H.PERMISSION_DENIED:case H.FAILED_PRECONDITION:case H.ABORTED:case H.OUT_OF_RANGE:case H.UNIMPLEMENTED:case H.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function q3(t){if(t===void 0)return wi("GRPC error has no .code"),H.UNKNOWN;switch(t){case gt.OK:return H.OK;case gt.CANCELLED:return H.CANCELLED;case gt.UNKNOWN:return H.UNKNOWN;case gt.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case gt.INTERNAL:return H.INTERNAL;case gt.UNAVAILABLE:return H.UNAVAILABLE;case gt.UNAUTHENTICATED:return H.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case gt.NOT_FOUND:return H.NOT_FOUND;case gt.ALREADY_EXISTS:return H.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return H.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case gt.ABORTED:return H.ABORTED;case gt.OUT_OF_RANGE:return H.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return H.UNIMPLEMENTED;case gt.DATA_LOSS:return H.DATA_LOSS;default:return le(39323,{code:t})}}(Se=gt||(gt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$=new So([4294967295,4294967295],0);function cS(t){const e=m3().encode(t),n=new a3;return n.update(e),new Uint8Array(n.digest())}function uS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new So([n,r],0),new So([s,i],0)]}class wA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Lh(`Invalid padding: ${n}`);if(r<0)throw new Lh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Lh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Lh(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=So.fromNumber(this.fe)}pe(e,n,r){let s=e.add(n.multiply(So.fromNumber(r)));return s.compare(u$)===1&&(s=new So([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=cS(e),[r,s]=uS(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);if(!this.ye(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new wA(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=cS(e),[r,s]=uS(n);for(let i=0;i<this.hashCount;i++){const o=this.pe(r,s,i);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new V0(ue.min(),s,new nt(ye),_i(),Te())}}class Bf{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bf(r,n,Te(),Te(),Te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=s}}class J3{constructor(e,n){this.targetId=e,this.De=n}}class Y3{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class hS{constructor(){this.ve=0,this.Ce=dS(),this.Fe=Kt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Te(),n=Te(),r=Te();return this.Ce.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:i})}}),new Bf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=dS()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Pe(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class h${constructor(e){this.We=e,this.Ge=new Map,this.ze=_i(),this.je=Fp(),this.Je=Fp(),this.He=new nt(ye)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,s)=>{this.nt(s)&&n(s)})}it(e){const n=e.targetId,r=e.De.count,s=this.st(n);if(s){const i=s.target;if(x1(i))if(r===0){const o=new ae(i.path);this.Xe(n,o,Ot.newNoDocument(o,ue.min()))}else Pe(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Uo(r).toUint8Array()}catch(l){if(l instanceof _3)return Mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wA(o,s,i)}catch(l){return Mo(l instanceof Lh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,i,null),s++)}),s}Pt(e){const n=new Map;this.Ge.forEach((i,o)=>{const a=this.st(o);if(a){if(i.current&&x1(a.target)){const l=new ae(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ot.newNoDocument(l,e))}i.Ne&&(n.set(o,i.Le()),i.ke())}});let r=Te();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ze.forEach((i,o)=>o.setReadTime(e));const s=new V0(e,n,this.He,this.ze,r);return this.ze=_i(),this.je=Fp(),this.Je=Fp(),this.He=new nt(ye),s}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const s=this.tt(e);this.It(e,n)?s.qe(n,1):s.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new hS,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new It(ye),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new It(ye),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new hS),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fp(){return new nt(ae.comparator)}function dS(){return new nt(ae.comparator)}const d$={asc:"ASCENDING",desc:"DESCENDING"},f$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p$={and:"AND",or:"OR"};class m${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b1(t,e){return t.useProto3Json||Mf(e)?e:{value:e}}function bg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g$(t,e){return bg(t,e.toTimestamp())}function sr(t){return Pe(!!t,49232),ue.fromTimestamp(function(n){const r=Bo(n);return new $e(r.seconds,r.nanos)}(t))}function _A(t,e){return I1(t,e).canonicalString()}function I1(t,e){const n=function(s){return new Ve(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Z3(t){const e=Ve.fromString(t);return Pe(i6(e),10190,{key:e.toString()}),e}function Ig(t,e){return _A(t.databaseId,e.path)}function cd(t,e){const n=Z3(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(t6(n))}function e6(t,e){return _A(t.databaseId,e)}function y$(t){const e=Z3(t);return e.length===4?Ve.emptyPath():t6(e)}function S1(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function t6(t){return Pe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function fS(t,e,n){return{name:Ig(t,e),fields:n.value.mapValue.fields}}function v$(t,e){return"found"in e?function(r,s){Pe(!!s.found,43571),s.found.name,s.found.updateTime;const i=cd(r,s.found.name),o=sr(s.found.updateTime),a=s.found.createTime?sr(s.found.createTime):ue.min(),l=new _n({mapValue:{fields:s.found.fields}});return Ot.newFoundDocument(i,o,a,l)}(t,e):"missing"in e?function(r,s){Pe(!!s.missing,3894),Pe(!!s.readTime,22933);const i=cd(r,s.missing),o=sr(s.readTime);return Ot.newNoDocument(i,o)}(t,e):le(7234,{result:e})}function w$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:le(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Pe(h===void 0||typeof h=="string",58123),Kt.fromBase64String(h||"")):(Pe(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Kt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?H.UNKNOWN:q3(c.code);return new Y(h,c.message||"")}(o);n=new Y3(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=cd(t,r.document.name),i=sr(r.document.updateTime),o=r.document.createTime?sr(r.document.createTime):ue.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=Ot.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Em(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=cd(t,r.document),i=r.readTime?sr(r.readTime):ue.min(),o=Ot.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Em([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=cd(t,r.document),i=r.removedTargetIds||[];n=new Em([],i,s,null)}else{if(!("filter"in e))return le(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new c$(s,i),a=r.targetId;n=new J3(a,o)}}return n}function n6(t,e){let n;if(e instanceof Ff)n={update:fS(t,e.key,e.value)};else if(e instanceof yA)n={delete:Ig(t,e.key)};else if(e instanceof ea)n={update:fS(t,e.key,e.data),updateMask:P$(e.fieldMask)};else{if(!(e instanceof K3))return le(16599,{Rt:e.type});n={verify:Ig(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Wd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Tg)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw le(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:g$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function _$(t,e){return t&&t.length>0?(Pe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?sr(s.updateTime):sr(i);return o.isEqual(ue.min())&&(o=sr(i)),new s$(o,s.transformResults||[])}(n,e))):[]}function E$(t,e){return{documents:[e6(t,e.path)]}}function A$(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=e6(t,s);const i=function(c){if(c.length!==0)return s6(qr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(f){return{field:Ul(f.field),direction:b$(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=b1(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:s}}function x$(t){let e=y$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Pe(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(d){const f=r6(d);return f instanceof qr&&R3(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(w){return new $d(jl(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Mf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new Ag(g,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,g=d.values||[];return new Ag(g,f)}(n.endAt)),GG(e,s,o,i,a,"F",l,c)}function T$(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function r6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=jl(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=jl(n.unaryFilter.field);return wt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=jl(n.unaryFilter.field);return wt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=jl(n.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return wt.create(jl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return qr.create(n.compositeFilter.filters.map(r=>r6(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function b$(t){return d$[t]}function I$(t){return f$[t]}function S$(t){return p$[t]}function Ul(t){return{fieldPath:t.canonicalString()}}function jl(t){return zt.fromServerFormat(t.fieldPath)}function s6(t){return t instanceof wt?function(n){if(n.op==="=="){if(eS(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NAN"}};if(ZI(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eS(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NAN"}};if(ZI(n.value))return{unaryFilter:{field:Ul(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ul(n.field),op:I$(n.op),value:n.value}}}(t):t instanceof qr?function(n){const r=n.getFilters().map(s=>s6(s));return r.length===1?r[0]:{compositeFilter:{op:S$(n.op),filters:r}}}(t):le(54877,{filter:t})}function P$(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function i6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=Kt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e){this.gt=e}}function R$(t){const e=x$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.Dn=new N$}addToCollectionParentIndex(e,n){return this.Dn.add(n),G.resolve()}getCollectionParents(e,n){return G.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return G.resolve()}deleteFieldIndex(e,n){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,n){return G.resolve()}getDocumentsMatchingTarget(e,n){return G.resolve(null)}getIndexType(e,n){return G.resolve(0)}getFieldIndexes(e,n){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,n){return G.resolve(Fo.min())}getMinOffsetFromCollectionGroup(e,n){return G.resolve(Fo.min())}updateCollectionGroup(e,n,r){return G.resolve()}updateIndexEntries(e,n){return G.resolve()}}class N${constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new It(Ve.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new It(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},o6=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(o6,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Iu(0)}static ur(){return new Iu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="LruGarbageCollector",O$=1048576;function gS([t,e],[n,r]){const s=ye(t,n);return s===0?ye(e,r):s}class D${constructor(e){this.Tr=e,this.buffer=new It(gS),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L${constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ee(mS,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wu(n)?ee(mS,"Ignoring IndexedDB error during garbage collection: ",n):await $u(n)}await this.Rr(3e5)})}}class V${constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return G.resolve(C0.ue);const r=new D$(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.gr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(pS)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pS):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Fl()<=Ae.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function M$(t,e){return new V$(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.changes=new Il(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ot.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?G.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ld(r.mutation,s,er.empty(),$e.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Te()){const s=Ta();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Dh();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ta();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Te()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=_i();const o=ad(),a=function(){return ad()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof ea)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),ld(h.mutation,c,h.mutation.getFieldMask(),$e.now())):o.set(c.key,er.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var d;return a.set(c,new B$(h,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ad();let s=new nt((o,a)=>o-a),i=Te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||er.empty();h=a.applyToLocalView(c,h),r.set(l,h);const d=(s.get(a.batchId)||Te()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,d=B3();h.forEach(f=>{if(!i.has(f)){const g=$3(n.get(f),r.get(f));g!==null&&d.set(f,g),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return G.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ae.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D3(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):G.resolve(Ta());let a=jd,l=i;return o.next(c=>G.forEach(c,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(h)?G.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Te())).next(h=>({batchId:a,changes:F3(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=Dh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Dh();return this.indexManager.getCollectionParents(e,i).next(a=>G.forEach(a,l=>{const c=function(d,f){return new Ku(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ot.newInvalidDocument(h)))});let a=Dh();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&ld(h.mutation,c,er.empty(),$e.now()),O0(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j${constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return G.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(s){return{id:s.id,version:s.version,createTime:sr(s.createTime)}}(n)),G.resolve()}getNamedQuery(e,n){return G.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(s){return{name:s.name,query:R$(s.bundledQuery),readTime:sr(s.readTime)}}(n)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this.overlays=new nt(ae.comparator),this.kr=new Map}getOverlay(e,n){return G.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ta();return G.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.wt(e,n,i)}),G.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.kr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.kr.delete(r)),G.resolve()}getOverlaysForCollection(e,n,r){const s=Ta(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return G.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=Ta(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ta(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return G.resolve(a)}wt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.kr.get(s.largestBatchId).delete(r.key);this.kr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new l$(n,r));let i=this.kr.get(n);i===void 0&&(i=Te(),this.kr.set(n,i)),this.kr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.qr=new It(Rt.Qr),this.$r=new It(Rt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Rt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Rt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new ae(new Ve([])),r=new Rt(n,e),s=new Rt(n,e+1),i=[];return this.$r.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ae(new Ve([])),r=new Rt(n,e),s=new Rt(n,e+1);let i=Te();return this.$r.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Rt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ae.comparator(e.key,n.key)||ye(e.Hr,n.Hr)}static Ur(e,n){return ye(e.Hr,n.Hr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new It(Rt.Qr)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new a$(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Yr=this.Yr.add(new Rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(o)}lookupMutationBatch(e,n){return G.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return G.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?hA:this.er-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Rt(n,0),s=new Rt(n,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),G.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(ye);return n.forEach(s=>{const i=new Rt(s,0),o=new Rt(s,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),G.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new Rt(new ae(i),0);let a=new It(ye);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),G.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Pe(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return G.forEach(n.mutations,s=>{const i=new Rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Rt(n,0),s=this.Yr.firstAfterOrEqual(r);return G.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.ni=e,this.docs=function(){return new nt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return G.resolve(r?r.document.mutableCopy():Ot.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ot.newInvalidDocument(s))}),G.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=_i();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||AG(EG(h),r)<=0||(s.has(h.key)||O0(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return G.resolve(i)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ri(e,n){return G.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W$(this)}getSize(e){return G.resolve(this.size)}}class W$ extends F${constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Or.addEntry(e,s)):this.Or.removeEntry(r)}),G.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K${constructor(e){this.persistence=e,this.ii=new Il(n=>pA(n),mA),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.si=0,this.oi=new EA,this.targetCount=0,this._i=Iu.ar()}forEachTarget(e,n){return this.ii.forEach((r,s)=>n(s)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),G.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Iu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,G.resolve()}updateTargetData(e,n){return this.hr(n),G.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),G.waitFor(i).next(()=>s)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return G.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),G.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),G.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),G.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return G.resolve(r)}containsKey(e,n){return G.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n){this.ai={},this.overlays={},this.ui=new C0(0),this.ci=!1,this.ci=!0,this.li=new H$,this.referenceDelegate=e(this),this.hi=new K$(this),this.indexManager=new k$,this.remoteDocumentCache=function(s){return new $$(s)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new C$(n),this.Ti=new j$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new z$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new G$(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new Q$(this.ui.next());return this.referenceDelegate.Ii(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return G.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class Q$ extends TG{constructor(e){super(),this.currentSequenceNumber=e}}class AA{constructor(e){this.persistence=e,this.Ai=new EA,this.Ri=null}static Vi(e){return new AA(e)}get mi(){if(this.Ri)return this.Ri;throw le(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),G.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),G.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),G.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(s=>this.mi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.mi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.mi,r=>{const s=ae.fromPath(r);return this.fi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return G.or([()=>G.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sg{constructor(e,n){this.persistence=e,this.gi=new Il(r=>SG(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=M$(this,n)}static Vi(e,n){return new Sg(e,n)}Ii(){}di(e){return G.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return G.forEach(this.gi,(r,s)=>this.Sr(e,r,s).next(i=>i?G.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),G.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),G.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),G.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vm(e.data.value)),n}Sr(e,n,r){return G.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.gi.get(n);return G.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=s}static Es(e,n){let r=Te(),s=Te();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new xA(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return Tj()?8:bG(hn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ps(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ys(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new q$;return this.ws(e,n,o).next(a=>{if(i.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>i.result)}Ss(e,n,r,s){return r.documentReadCount<this.Vs?(Fl()<=Ae.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",Bl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),G.resolve()):(Fl()<=Ae.DEBUG&&ee("QueryEngine","Query:",Bl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.fs*s?(Fl()<=Ae.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",Bl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ss(n))):G.resolve())}ps(e,n){if(sS(n))return G.resolve(null);let r=Ss(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xg(n,null,"F"),r=Ss(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Te(...i);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,xg(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,s){return sS(n)||s.isEqual(ue.min())?G.resolve(null):this.gs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ds(n,o,r,s)?G.resolve(null):(Fl()<=Ae.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bl(n)),this.vs(e,o,n,_G(s,jd)).next(a=>a))})}bs(e,n){let r=new It(V3(e));return n.forEach((s,i)=>{O0(e,i)&&(r=r.add(i))}),r}Ds(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ws(e,n,r){return Fl()<=Ae.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",Bl(n)),this.gs.getDocumentsMatchingQuery(e,n,Fo.min(),r)}vs(e,n,r,s){return this.gs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="LocalStore",Y$=3e8;class X${constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.Fs=new nt(ye),this.Ms=new Il(i=>pA(i),mA),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new U$(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function Z$(t,e,n,r){return new X$(t,e,n,r)}async function l6(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Te();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function eW(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const d=c.batch,f=d.keys();let g=G.resolve();return f.forEach(w=>{g=g.next(()=>h.getEntry(l,w)).next(v=>{const T=c.docVersions.get(w);Pe(T!==null,48541),v.version.compareTo(T)<0&&(d.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Te();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function c6(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function tW(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});s=n.Fs;const a=[];e.targetChanges.forEach((h,d)=>{const f=s.get(d);if(!f)return;a.push(n.hi.removeMatchingKeys(i,h.removedDocuments,d).next(()=>n.hi.addMatchingKeys(i,h.addedDocuments,d)));let g=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(Kt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(d,g),function(v,T,_){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=Y$?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,h)&&a.push(n.hi.updateTargetData(i,g))});let l=_i(),c=Te();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(nW(i,o,e.documentUpdates).next(h=>{l=h.Ls,c=h.ks})),!r.isEqual(ue.min())){const h=n.hi.getLastRemoteSnapshotVersion(i).next(d=>n.hi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return G.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Fs=s,i))}function nW(t,e,n){let r=Te(),s=Te();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=_i();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee(TA,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:s}})}function rW(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=hA),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sW(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.hi.getTargetData(r,e).next(i=>i?(s=i,G.resolve(s)):n.hi.allocateTargetId(r).next(o=>(s=new go(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Fs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function P1(t,e,n){const r=fe(t),s=r.Fs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wu(o))throw o;ee(TA,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(s.target)}function yS(t,e,n){const r=fe(t);let s=ue.min(),i=Te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const d=fe(l),f=d.Ms.get(h);return f!==void 0?G.resolve(d.Fs.get(f)):d.hi.getTargetData(c,h)}(r,o,Ss(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:Te())).next(a=>(iW(r,WG(e),a),{documents:a,qs:i})))}function iW(t,e,n){let r=t.xs.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.xs.set(e,r)}class vS{constructor(){this.activeTargetIds=XG()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oW{constructor(){this.Fo=new vS,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="ConnectivityMonitor";class _S{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ee(wS,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ee(wS,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp=null;function C1(){return Bp===null?Bp=function(){return 268435456+Math.round(2147483648*Math.random())}():Bp++,"0x"+Bp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="RestConnection",lW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cW{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.Ko=this.databaseId.database===_g?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=C1(),a=this.Go(e,n.toUriEncodedString());ee(xv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,s,i);const{host:c}=new URL(a),h=Xo(c);return this.jo(e,a,l,r,h).then(d=>(ee(xv,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Mo(xv,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Gu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Go(e,n){const r=lW[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class hW extends cW{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,s,i){const o=C1();return new Promise((a,l)=>{const c=new l3;c.setWithCredentials(!0),c.listenOnce(c3.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ym.NO_ERROR:const d=c.getResponseJson();ee(en,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case ym.TIMEOUT:ee(en,`RPC '${e}' ${o} timed out`),l(new Y(H.DEADLINE_EXCEEDED,"Request time out"));break;case ym.HTTP_ERROR:const f=c.getStatus();if(ee(en,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g==null?void 0:g.error;if(w&&w.status&&w.message){const v=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(E)>=0?E:H.UNKNOWN}(w.status);l(new Y(v,w.message))}else l(new Y(H.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Y(H.UNAVAILABLE,"Connection failed."));break;default:le(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{ee(en,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ee(en,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}P_(e,n,r){const s=C1(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d3(),a=h3(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");ee(en,`Creating RPC '${e}' stream ${s}: ${h}`,l);const d=o.createWebChannel(h,l);this.T_(d);let f=!1,g=!1;const w=new uW({Ho:T=>{g?ee(en,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(ee(en,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),ee(en,`RPC '${e}' stream ${s} sending:`,T),d.send(T))},Yo:()=>d.close()}),v=(T,_,E)=>{T.listen(_,A=>{try{E(A)}catch(N){setTimeout(()=>{throw N},0)}})};return v(d,Oh.EventType.OPEN,()=>{g||(ee(en,`RPC '${e}' stream ${s} transport opened.`),w.s_())}),v(d,Oh.EventType.CLOSE,()=>{g||(g=!0,ee(en,`RPC '${e}' stream ${s} transport closed`),w.__(),this.I_(d))}),v(d,Oh.EventType.ERROR,T=>{g||(g=!0,Mo(en,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),w.__(new Y(H.UNAVAILABLE,"The operation could not be completed")))}),v(d,Oh.EventType.MESSAGE,T=>{var _;if(!g){const E=T.data[0];Pe(!!E,16349);const A=E,N=(A==null?void 0:A.error)||((_=A[0])===null||_===void 0?void 0:_.error);if(N){ee(en,`RPC '${e}' stream ${s} received error:`,N);const D=N.status;let V=function(P){const C=gt[P];if(C!==void 0)return q3(C)}(D),I=N.message;V===void 0&&(V=H.INTERNAL,I="Unknown error status: "+D+" with message "+N.message),g=!0,w.__(new Y(V,I)),d.close()}else ee(en,`RPC '${e}' stream ${s} received:`,E),w.a_(E)}}),v(a,u3.STAT_EVENT,T=>{T.stat===v1.PROXY?ee(en,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===v1.NOPROXY&&ee(en,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.o_()},0),w}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Tv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t){return new m$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=s,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,s,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="PersistentStream";class u6{constructor(e,n,r,s,i,o,a,l){this.Fi=e,this.w_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new bA(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.b_===n&&this.W_(r,s)},r=>{e(()=>{const s=new Y(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(s)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(s=>{r(()=>this.G_(s))}),this.stream.onMessage(s=>{r(()=>++this.C_==1?this.j_(s):this.onNext(s))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ee(ES,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ee(ES,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dW extends u6{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=w$(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?sr(o.readTime):ue.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=S1(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=x1(l)?{documents:E$(i,l)}:{query:A$(i,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=X3(i,o.resumeToken);const c=b1(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=bg(i,o.snapshotVersion.toTimestamp());const c=b1(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=T$(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=S1(this.serializer),n.removeTarget=e,this.k_(n)}}class fW extends u6{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Pe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Pe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Pe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=_$(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=S1(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n6(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{}class mW extends pW{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ra=!1}ia(){if(this.ra)throw new Y(H.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,I1(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y(H.UNKNOWN,i.toString())})}Jo(e,n,r,s,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,I1(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(H.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class gW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(wi(n),this._a=!1):ee("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="RemoteStore";class yW{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Sl(this)&&(ee(fl,"Restarting streams for network reachability change."),await async function(l){const c=fe(l);c.Ia.add(4),await Uf(c),c.Aa.set("Unknown"),c.Ia.delete(4),await F0(c)}(this))})}),this.Aa=new gW(r,s)}}async function F0(t){if(Sl(t))for(const e of t.da)await e(!0)}async function Uf(t){for(const e of t.da)await e(!1)}function h6(t,e){const n=fe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),CA(n)?PA(n):Qu(n).x_()&&SA(n,e))}function IA(t,e){const n=fe(t),r=Qu(n);n.Ta.delete(e),r.x_()&&d6(n,e),n.Ta.size===0&&(r.x_()?r.B_():Sl(n)&&n.Aa.set("Unknown"))}function SA(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qu(t).H_(e)}function d6(t,e){t.Ra.$e(e),Qu(t).Y_(e)}function PA(t){t.Ra=new h$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Qu(t).start(),t.Aa.aa()}function CA(t){return Sl(t)&&!Qu(t).M_()&&t.Ta.size>0}function Sl(t){return fe(t).Ia.size===0}function f6(t){t.Ra=void 0}async function vW(t){t.Aa.set("Online")}async function wW(t){t.Ta.forEach((e,n)=>{SA(t,e)})}async function _W(t,e){f6(t),CA(t)?(t.Aa.la(e),PA(t)):t.Aa.set("Unknown")}async function EW(t,e,n){if(t.Aa.set("Online"),e instanceof Y3&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ta.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ta.delete(a),s.Ra.removeTarget(a))}(t,e)}catch(r){ee(fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pg(t,r)}else if(e instanceof Em?t.Ra.Ye(e):e instanceof J3?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ue.min()))try{const r=await c6(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ta.get(c);h&&i.Ta.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ta.get(l);if(!h)return;i.Ta.set(l,h.withResumeToken(Kt.EMPTY_BYTE_STRING,h.snapshotVersion)),d6(i,l);const d=new go(h.target,l,c,h.sequenceNumber);SA(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee(fl,"Failed to raise snapshot:",r),await Pg(t,r)}}async function Pg(t,e,n){if(!Wu(e))throw e;t.Ia.add(1),await Uf(t),t.Aa.set("Offline"),n||(n=()=>c6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(fl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await F0(t)})}function p6(t,e){return e().catch(n=>Pg(t,n,e))}async function B0(t){const e=fe(t),n=zo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:hA;for(;AW(e);)try{const s=await rW(e.localStore,r);if(s===null){e.Pa.length===0&&n.B_();break}r=s.batchId,xW(e,s)}catch(s){await Pg(e,s)}m6(e)&&g6(e)}function AW(t){return Sl(t)&&t.Pa.length<10}function xW(t,e){t.Pa.push(e);const n=zo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function m6(t){return Sl(t)&&!zo(t).M_()&&t.Pa.length>0}function g6(t){zo(t).start()}async function TW(t){zo(t).na()}async function bW(t){const e=zo(t);for(const n of t.Pa)e.X_(n.mutations)}async function IW(t,e,n){const r=t.Pa.shift(),s=vA.from(r,e,n);await p6(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await B0(t)}async function SW(t,e){e&&zo(t).Z_&&await async function(r,s){if(function(o){return Q3(o)&&o!==H.ABORTED}(s.code)){const i=r.Pa.shift();zo(r).N_(),await p6(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await B0(r)}}(t,e),m6(t)&&g6(t)}async function AS(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee(fl,"RemoteStore received new credentials");const r=Sl(n);n.Ia.add(3),await Uf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await F0(n)}async function PW(t,e){const n=fe(t);e?(n.Ia.delete(2),await F0(n)):e||(n.Ia.add(2),await Uf(n),n.Aa.set("Unknown"))}function Qu(t){return t.Va||(t.Va=function(n,r,s){const i=fe(n);return i.ia(),new dW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:vW.bind(null,t),e_:wW.bind(null,t),n_:_W.bind(null,t),J_:EW.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),CA(t)?PA(t):t.Aa.set("Unknown")):(await t.Va.stop(),f6(t))})),t.Va}function zo(t){return t.ma||(t.ma=function(n,r,s){const i=fe(n);return i.ia(),new fW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:TW.bind(null,t),n_:SW.bind(null,t),ea:bW.bind(null,t),ta:IW.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await B0(t)):(await t.ma.stop(),t.Pa.length>0&&(ee(fl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new RA(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kA(t,e){if(wi("AsyncQueue",`${e}: ${t}`),Wu(t))return new Y(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{static emptySet(e){return new Tc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=Dh(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Tc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Tc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.fa=new nt(ae.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):le(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Su{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Su(e,n,Tc.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&N0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class RW{constructor(){this.queries=TS(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=TS(),i.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new Y(H.ABORTED,"Firestore shutting down"))}}function TS(){return new Il(t=>L3(t),N0)}async function NA(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.ba()&&(r=2):(i=new CW,r=e.ba()?0:1);try{switch(r){case 0:i.ya=await n.onListen(s,!0);break;case 1:i.ya=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=kA(o,`Initialization of query '${Bl(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.wa.push(e),e.va(n.onlineState),i.ya&&e.Ca(i.ya)&&DA(n)}async function OA(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.wa.indexOf(e);o>=0&&(i.wa.splice(o,1),i.wa.length===0?s=e.ba()?0:1:!i.Sa()&&e.ba()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kW(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.wa)a.Ca(s)&&(r=!0);o.ya=s}}r&&DA(n)}function NW(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.wa)i.onError(n);r.queries.delete(e)}function DA(t){t.Da.forEach(e=>{e.next()})}var R1,bS;(bS=R1||(R1={})).Fa="default",bS.Cache="cache";class LA{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Su(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Su.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==R1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e){this.key=e}}class v6{constructor(e){this.key=e}}class OW{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Te(),this.mutatedKeys=Te(),this.Xa=V3(e),this.eu=new Tc(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new xS,s=n?n.eu:this.eu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,d)=>{const f=s.get(h),g=O0(this.query,d)?d:null,w=!!f&&this.mutatedKeys.has(f.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;f&&g?f.data.isEqual(g.data)?w!==v&&(r.track({type:3,doc:g}),T=!0):this.iu(f,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Xa(g,l)>0||c&&this.Xa(g,c)<0)&&(a=!0)):!f&&g?(r.track({type:0,doc:g}),T=!0):f&&!g&&(r.track({type:1,doc:f}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{eu:o,ru:r,Ds:a,mutatedKeys:i}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((h,d)=>function(g,w){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{At:T})}};return v(g)-v(w)}(h.type,d.type)||this.Xa(h.doc,d.doc)),this.su(r),s=s!=null&&s;const a=n&&!s?this.ou():[],l=this.Za.size===0&&this.current&&!s?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Su(this.query,e.eu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new xS,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Te(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new v6(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new y6(r))}),n}uu(e){this.Ha=e.qs,this.Za=Te();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Su.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const VA="SyncEngine";class DW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LW{constructor(e){this.key=e,this.lu=!1}}class VW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Il(a=>L3(a),N0),this.Tu=new Map,this.Iu=new Set,this.du=new nt(ae.comparator),this.Eu=new Map,this.Au=new EA,this.Ru={},this.Vu=new Map,this.mu=Iu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function MW(t,e,n=!0){const r=T6(t);let s;const i=r.Pu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.cu()):s=await w6(r,e,n,!0),s}async function FW(t,e){const n=T6(t);await w6(n,e,!0,!1)}async function w6(t,e,n,r){const s=await sW(t.localStore,Ss(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await BW(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&h6(t.remoteStore,s),a}async function BW(t,e,n,r,s){t.gu=(d,f,g)=>async function(v,T,_,E){let A=T.view.nu(_);A.Ds&&(A=await yS(v.localStore,T.query,!1).then(({documents:I})=>T.view.nu(I,A)));const N=E&&E.targetChanges.get(T.targetId),D=E&&E.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(A,v.isPrimaryClient,N,D);return SS(v,T.targetId,V._u),V.snapshot}(t,d,f,g);const i=await yS(t.localStore,e,!0),o=new OW(e,i.qs),a=o.nu(i.documents),l=Bf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);SS(t,n,c._u);const h=new DW(e,n,o);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function UW(t,e,n){const r=fe(t),s=r.Pu.get(e),i=r.Tu.get(s.targetId);if(i.length>1)return r.Tu.set(s.targetId,i.filter(o=>!N0(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await P1(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&IA(r.remoteStore,s.targetId),k1(r,s.targetId)}).catch($u)):(k1(r,s.targetId),await P1(r.localStore,s.targetId,!0))}async function jW(t,e){const n=fe(t),r=n.Pu.get(e),s=n.Tu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),IA(n.remoteStore,r.targetId))}async function zW(t,e,n){const r=qW(t);try{const s=await function(o,a){const l=fe(o),c=$e.now(),h=a.reduce((g,w)=>g.add(w.key),Te());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=_i(),v=Te();return l.Os.getEntries(g,h).next(T=>{w=T,w.forEach((_,E)=>{E.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(T=>{d=T;const _=[];for(const E of a){const A=o$(E,d.get(E.key).overlayedDocument);A!=null&&_.push(new ea(E.key,A,S3(A.value.mapValue),an.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,_,a)}).next(T=>{f=T;const _=T.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(g,T.batchId,_)})}).then(()=>({batchId:f.batchId,changes:F3(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new nt(ye)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,s.batchId,n),await jf(r,s.changes),await B0(r.remoteStore)}catch(s){const i=kA(s,"Failed to persist write");n.reject(i)}}async function _6(t,e){const n=fe(t);try{const r=await tW(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Pe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.lu=!0:s.modifiedDocuments.size>0?Pe(o.lu,14607):s.removedDocuments.size>0&&(Pe(o.lu,42227),o.lu=!1))}),await jf(n,r,e)}catch(r){await $u(r)}}function IS(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Pu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let c=!1;l.queries.forEach((h,d)=>{for(const f of d.wa)f.va(a)&&(c=!0)}),c&&DA(l)}(r.eventManager,e),s.length&&r.hu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function HW(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new nt(ae.comparator);o=o.insert(i,Ot.newNoDocument(i,ue.min()));const a=Te().add(i),l=new V0(ue.min(),new Map,new nt(ye),o,a);await _6(r,l),r.du=r.du.remove(i),r.Eu.delete(e),MA(r)}else await P1(r.localStore,e,!1).then(()=>k1(r,e,n)).catch($u)}async function GW(t,e){const n=fe(t),r=e.batch.batchId;try{const s=await eW(n.localStore,e);A6(n,r,null),E6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jf(n,s)}catch(s){await $u(s)}}async function $W(t,e,n){const r=fe(t);try{const s=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Pe(d!==null,37113),h=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);A6(r,e,n),E6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jf(r,s)}catch(s){await $u(s)}}function E6(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function A6(t,e,n){const r=fe(t);let s=r.Ru[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ru[r.currentUser.toKey()]=s}}function k1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||x6(t,r)})}function x6(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(IA(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),MA(t))}function SS(t,e,n){for(const r of n)r instanceof y6?(t.Au.addReference(r.key,e),WW(t,r)):r instanceof v6?(ee(VA,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||x6(t,r.key)):le(19791,{yu:r})}function WW(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(ee(VA,"New document in limbo: "+n),t.Iu.add(r),MA(t))}function MA(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new ae(Ve.fromString(e)),r=t.mu.next();t.Eu.set(r,new LW(n)),t.du=t.du.insert(n,r),h6(t.remoteStore,new go(Ss(k0(n.path)),r,"TargetPurposeLimboResolution",C0.ue))}}async function jf(t,e,n){const r=fe(t),s=[],i=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const d=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=xA.Es(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.hu.J_(s),await async function(l,c){const h=fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>G.forEach(c,f=>G.forEach(f.Is,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>G.forEach(f.ds,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!Wu(d))throw d;ee(TA,"Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const g=h.Fs.get(f),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);h.Fs=h.Fs.insert(f,v)}}}(r.localStore,i))}async function KW(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee(VA,"User change. New user:",e.toKey());const r=await l6(n.localStore,e);n.currentUser=e,function(i,o){i.Vu.forEach(a=>{a.forEach(l=>{l.reject(new Y(H.CANCELLED,o))})}),i.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jf(n,r.Bs)}}function QW(t,e){const n=fe(t),r=n.Eu.get(e);if(r&&r.lu)return Te().add(r.key);{let s=Te();const i=n.Tu.get(e);if(!i)return s;for(const o of i){const a=n.Pu.get(o);s=s.unionWith(a.view.tu)}return s}}function T6(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HW.bind(null,e),e.hu.J_=kW.bind(null,e.eventManager),e.hu.pu=NW.bind(null,e.eventManager),e}function qW(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$W.bind(null,e),e}class Cg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=M0(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return Z$(this.persistence,new J$,e.initialUser,this.serializer)}Du(e){return new a6(AA.Vi,this.serializer)}bu(e){return new oW}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cg.provider={build:()=>new Cg};class JW extends Cg{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Pe(this.persistence.referenceDelegate instanceof Sg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new L$(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new a6(r=>Sg.Vi(r,n),this.serializer)}}class N1{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KW.bind(null,this.syncEngine),await PW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RW}()}createDatastore(e){const n=M0(e.databaseInfo.databaseId),r=function(i){return new hW(i)}(e.databaseInfo);return function(i,o,a,l){return new mW(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new yW(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>IS(this.syncEngine,n,0),function(){return _S.C()?new _S:new aW}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const d=new VW(s,i,o,a,l,c);return h&&(d.fu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=fe(s);ee(fl,"RemoteStore shutting down."),i.Ia.add(5),await Uf(i),i.Ea.shutdown(),i.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}N1.provider={build:()=>new N1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Y(H.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(s,i){const o=fe(s),a={documents:i.map(d=>Ig(o.serializer,d))},l=await o.Jo("BatchGetDocuments",o.serializer.databaseId,Ve.emptyPath(),a,i.length),c=new Map;l.forEach(d=>{const f=v$(o.serializer,d);c.set(f.key.toString(),f)});const h=[];return i.forEach(d=>{const f=c.get(d.toString());Pe(!!f,55234,{key:d}),h.push(f)}),h}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new yA(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const s=ae.fromPath(r);this.mutations.push(new K3(s,this.precondition(s)))}),await async function(r,s){const i=fe(r),o={writes:s.map(a=>n6(i.serializer,a))};await i.Wo("Commit",i.serializer.databaseId,Ve.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw le(50498,{Wu:e.constructor.name});n=ue.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Y(H.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ue.min())?an.exists(!1):an.updateTime(n):an.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ue.min()))throw new Y(H.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,n,r,s,i){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=s,this.deferred=i,this.Gu=r.maxAttempts,this.F_=new bA(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new YW(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(s=>{this.Hu(s)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!Mf(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!Q3(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="FirestoreClient";class ZW{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=sn.UNAUTHENTICATED,this.clientId=uA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ee(Ho,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee(Ho,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bv(t,e){t.asyncQueue.verifyOperationInProgress(),ee(Ho,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await l6(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>{Mo("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{ee("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(s=>{Mo("Terminating Firestore due to IndexedDb database deletion failed",s)})}),t._offlineComponents=e}async function PS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eK(t);ee(Ho,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>AS(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>AS(e.remoteStore,s)),t._onlineComponents=e}async function eK(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(Ho,"Using user provided OfflineComponentProvider");try{await bv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===H.FAILED_PRECONDITION||s.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Mo("Error using user provided cache. Falling back to memory cache: "+n),await bv(t,new Cg)}}else ee(Ho,"Using default OfflineComponentProvider"),await bv(t,new JW(void 0));return t._offlineComponents}async function BA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(Ho,"Using user provided OnlineComponentProvider"),await PS(t,t._uninitializedComponentsProvider._online)):(ee(Ho,"Using default OnlineComponentProvider"),await PS(t,new N1))),t._onlineComponents}function tK(t){return BA(t).then(e=>e.syncEngine)}function nK(t){return BA(t).then(e=>e.datastore)}async function Rg(t){const e=await BA(t),n=e.eventManager;return n.onListen=MW.bind(null,e.syncEngine),n.onUnlisten=UW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=FW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jW.bind(null,e.syncEngine),n}function rK(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new FA({next:f=>{h.Ou(),o.enqueueAndForget(()=>OA(i,d));const g=f.docs.has(a);!g&&f.fromCache?c.reject(new Y(H.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?c.reject(new Y(H.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new LA(k0(a.path),h,{includeMetadataChanges:!0,ka:!0});return NA(i,d)}(await Rg(t),t.asyncQueue,e,n,r)),r.promise}function sK(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new FA({next:f=>{h.Ou(),o.enqueueAndForget(()=>OA(i,d)),f.fromCache&&l.source==="server"?c.reject(new Y(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new LA(a,h,{includeMetadataChanges:!0,ka:!0});return NA(i,d)}(await Rg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6="firestore.googleapis.com",RS=!0;class kS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I6,this.ssl=RS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=o6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O$)throw new Y(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b6((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y(H.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new cG;switch(r.type){case"firstParty":return new fG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CS.get(n);r&&(ee("ComponentProvider","Removing Datastore"),CS.delete(n),r.terminate())}(this),Promise.resolve()}}function iK(t,e,n,r={}){var s;t=jn(t,U0);const i=Xo(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i&&(KE(`https://${l}`),QE("Firestore",!0)),o.host!==I6&&o.host!==l&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:i,emulatorOptions:r});if(!ll(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,d;if(typeof r.mockUserToken=="string")h=r.mockUserToken,d=sn.MOCK_USER;else{h=_N(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new Y(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new sn(f)}t._authCredentials=new uG(new p3(h,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pi(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Po(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Vf(n,Ze._jsonSchema))return new Ze(e,r||null,new ae(Ve.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:Et("string",Ze._jsonSchemaVersion),referencePath:Et("string")};class Po extends Pi{constructor(e,n,r){super(e,n,k0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new ae(e))}withConverter(e){return new Po(this.firestore,e,this._path)}}function pl(t,e,...n){if(t=ze(t),g3("collection","path",e),t instanceof U0){const r=Ve.fromString(e,...n);return GI(r),new Po(t,null,r)}{if(!(t instanceof Ze||t instanceof Po))throw new Y(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return GI(r),new Po(t.firestore,null,r)}}function tr(t,e,...n){if(t=ze(t),arguments.length===1&&(e=uA.newId()),g3("doc","path",e),t instanceof U0){const r=Ve.fromString(e,...n);return HI(r),new Ze(t,null,new ae(r))}{if(!(t instanceof Ze||t instanceof Po))throw new Y(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return HI(r),new Ze(t.firestore,t instanceof Po?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="AsyncQueue";class OS{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new bA(this,"async_queue_retry"),this.oc=()=>{const r=Tv();r&&ee(NS,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Is;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Wu(e))throw e;ee(NS,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,wi("INTERNAL UNHANDLED ERROR: ",DS(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const s=RA.createAndSchedule(this,e,n,r,i=>this.lc(i));return this.ec.push(s),s}ac(){this.tc&&le(47125,{hc:DS(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function DS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Ei extends U0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new OS,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OS(e),this._firestoreClient=void 0,await e}}}function oK(t,e){const n=typeof t=="object"?t:YE(),r=typeof t=="string"?t:_g,s=T0(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yN("firestore");i&&iK(s,...i)}return s}function zf(t){if(t._terminated)throw new Y(H.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||aK(t),t._firestoreClient}function aK(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,h){return new RG(a,l,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,b6(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new ZW(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xn(Kt.fromBase64String(e))}catch(n){throw new Y(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vf(e,Xn._jsonSchema))return Xn.fromBase64String(e.bytes)}}Xn._jsonSchemaVersion="firestore/bytes/1.0",Xn._jsonSchema={type:Et("string",Xn._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ps._jsonSchemaVersion}}static fromJSON(e){if(Vf(e,Ps._jsonSchema))return new Ps(e.latitude,e.longitude)}}Ps._jsonSchemaVersion="firestore/geoPoint/1.0",Ps._jsonSchema={type:Et("string",Ps._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vf(e,Cs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Cs(e.vectorValues);throw new Y(H.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cs._jsonSchemaVersion="firestore/vectorValue/1.0",Cs._jsonSchema={type:Et("string",Cs._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=/^__.*__$/;class cK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ea(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ff(e,this.data,n,this.fieldTransforms)}}class S6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ea(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function P6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ec:t})}}class UA{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new UA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.fc(e),s}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Rc({path:r,mc:!1});return s.Ac(),s}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return kg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(P6(this.Ec)&&lK.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class uK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||M0(e)}Dc(e,n,r,s=!1){return new UA({Ec:e,methodName:n,bc:r,path:zt.emptyPath(),mc:!1,Sc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(t){const e=t._freezeSettings(),n=M0(t._databaseId);return new uK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jA(t,e,n,r,s,i={}){const o=t.Dc(i.merge||i.mergeFields?2:0,e,n,s);HA("Data must be an object, but it was:",o,r);const a=k6(r,o);let l,c;if(i.merge)l=new er(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const d of i.mergeFields){const f=O1(e,d,n);if(!o.contains(f))throw new Y(H.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);O6(h,f)||h.push(f)}l=new er(h),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new cK(new _n(a),l,c)}class z0 extends j0{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof z0}}class zA extends j0{_toFieldTransform(e){return new n$(e.path,new Wd)}isEqual(e){return e instanceof zA}}function C6(t,e,n,r){const s=t.Dc(1,e,n);HA("Data must be an object, but it was:",s,r);const i=[],o=_n.empty();Zo(r,(l,c)=>{const h=GA(e,l,n);c=ze(c);const d=s.gc(h);if(c instanceof z0)i.push(h);else{const f=$f(c,d);f!=null&&(i.push(h),o.set(h,f))}});const a=new er(i);return new S6(o,a,s.fieldTransforms)}function R6(t,e,n,r,s,i){const o=t.Dc(1,e,n),a=[O1(e,r,n)],l=[s];if(i.length%2!=0)throw new Y(H.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(O1(e,i[f])),l.push(i[f+1]);const c=[],h=_n.empty();for(let f=a.length-1;f>=0;--f)if(!O6(c,a[f])){const g=a[f];let w=l[f];w=ze(w);const v=o.gc(g);if(w instanceof z0)c.push(g);else{const T=$f(w,v);T!=null&&(c.push(g),h.set(g,T))}}const d=new er(c);return new S6(h,d,o.fieldTransforms)}function hK(t,e,n,r=!1){return $f(n,t.Dc(r?4:3,e))}function $f(t,e){if(N6(t=ze(t)))return HA("Unsupported field value:",e,t),k6(t,e);if(t instanceof j0)return function(r,s){if(!P6(s.Ec))throw s.wc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.wc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=$f(a,s.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return ZG(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=$e.fromDate(r);return{timestampValue:bg(s.serializer,i)}}if(r instanceof $e){const i=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bg(s.serializer,i)}}if(r instanceof Ps)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xn)return{bytesValue:X3(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_A(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Cs)return function(o,a){return{mapValue:{fields:{[b3]:{stringValue:I3},[Eg]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return gA(a.serializer,c)})}}}}}}(r,s);throw s.wc(`Unsupported field value: ${P0(r)}`)}(t,e)}function k6(t,e){const n={};return w3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(t,(r,s)=>{const i=$f(s,e.Vc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function N6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof Ps||t instanceof Xn||t instanceof Ze||t instanceof j0||t instanceof Cs)}function HA(t,e,n){if(!N6(n)||!y3(n)){const r=P0(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function O1(t,e,n){if((e=ze(e))instanceof Hf)return e._internalPath;if(typeof e=="string")return GA(t,e);throw kg("Field path arguments must be of type string or ",t,!1,void 0,n)}const dK=new RegExp("[~\\*/\\[\\]]");function GA(t,e,n){if(e.search(dK)>=0)throw kg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Hf(...e.split("."))._internalPath}catch{throw kg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kg(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Y(H.INVALID_ARGUMENT,a+t+l)}function O6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class fK extends Ng{data(){return super.data()}}function H0(t,e){return typeof e=="string"?GA(t,e):e instanceof Hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $A{}class WA extends $A{}function ml(t,e,...n){let r=[];e instanceof $A&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof QA).length,a=i.filter(l=>l instanceof G0).length;if(o>1||o>0&&a>0)throw new Y(H.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class G0 extends WA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new G0(e,n,r)}_apply(e){const n=this._parse(e);return L6(e._query,n),new Pi(e.firestore,e.converter,T1(e._query,n))}_parse(e){const n=Gf(e.firestore);return function(i,o,a,l,c,h,d){let f;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y(H.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){MS(d,h);const w=[];for(const v of d)w.push(VS(l,i,v));f={arrayValue:{values:w}}}else f=VS(l,i,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||MS(d,h),f=hK(a,o,d,h==="in"||h==="not-in");return wt.create(c,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function KA(t,e,n){const r=e,s=H0("where",t);return G0._create(s,r,n)}class QA extends $A{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new QA(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)L6(o,l),o=T1(o,l)}(e._query,n),new Pi(e.firestore,e.converter,T1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qA extends WA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qA(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y(H.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y(H.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $d(i,o)}(e._query,this._field,this._direction);return new Pi(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ku(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function qd(t,e="asc"){const n=e,r=H0("orderBy",t);return qA._create(r,n)}class JA extends WA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new JA(e,n,r)}_apply(e){return new Pi(e.firestore,e.converter,xg(e._query,this._limit,this._limitType))}}function Og(t){return wG("limit",t),JA._create("limit",t,"F")}function VS(t,e,n){if(typeof(n=ze(n))=="string"){if(n==="")throw new Y(H.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D3(e)&&n.indexOf("/")!==-1)throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ae.isDocumentKey(r))throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return XI(t,new ae(r))}if(n instanceof Ze)return XI(t,n._key);throw new Y(H.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${P0(n)}.`)}function MS(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(H.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L6(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(H.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(H.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class V6{convertValue(e,n="none"){switch(jo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Zo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Eg].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ht(o.doubleValue));return new Cs(i)}convertGeoPoint(e){return new Ps(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=R0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(zd(e));default:return null}}convertTimestamp(e){const n=Bo(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);Pe(i6(r),9688,{name:e});const s=new Hd(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||wi(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class pK extends V6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Co extends Ng{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Am(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(H.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Co._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Co._jsonSchemaVersion="firestore/documentSnapshot/1.0",Co._jsonSchema={type:Et("string",Co._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Am extends Co{data(e={}){return super.data(e)}}class Za{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new lc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Am(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Am(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Am(s._firestore,s._userDataWriter,a.doc.key,a.doc,new lc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:mK(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(H.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function mK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){t=jn(t,Ze);const e=jn(t.firestore,Ei);return rK(zf(e),t._key).then(n=>M6(e,t,n))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Et("string",Za._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class $0 extends V6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function D1(t){t=jn(t,Pi);const e=jn(t.firestore,Ei),n=zf(e),r=new $0(e);return D6(t._query),sK(n,t._query).then(s=>new Za(e,r,t,s))}function gK(t,e,n){t=jn(t,Ze);const r=jn(t.firestore,Ei),s=YA(t.converter,e,n);return ZA(r,[jA(Gf(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,an.none())])}function yK(t,e,n,...r){t=jn(t,Ze);const s=jn(t.firestore,Ei),i=Gf(s);let o;return o=typeof(e=ze(e))=="string"||e instanceof Hf?R6(i,"updateDoc",t._key,e,n,r):C6(i,"updateDoc",t._key,e),ZA(s,[o.toMutation(t._key,an.exists(!0))])}function vK(t,e){const n=jn(t.firestore,Ei),r=tr(t),s=YA(t.converter,e);return ZA(n,[jA(Gf(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then(()=>r)}function Go(t,...e){var n,r,s;t=ze(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||LS(e[o])||(i=e[o++]);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(LS(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(s=d.complete)===null||s===void 0?void 0:s.bind(d)}let l,c,h;if(t instanceof Ze)c=jn(t.firestore,Ei),h=k0(t._key.path),l={next:d=>{e[o]&&e[o](M6(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=jn(t,Pi);c=jn(d.firestore,Ei),h=d._query;const f=new $0(c);l={next:g=>{e[o]&&e[o](new Za(c,f,d,g))},error:e[o+1],complete:e[o+2]},D6(t._query)}return function(f,g,w,v){const T=new FA(v),_=new LA(g,T,w);return f.asyncQueue.enqueueAndForget(async()=>NA(await Rg(f),_)),()=>{T.Ou(),f.asyncQueue.enqueueAndForget(async()=>OA(await Rg(f),_))}}(zf(c),h,a,l)}function ZA(t,e){return function(r,s){const i=new Is;return r.asyncQueue.enqueueAndForget(async()=>zW(await tK(r),s,i)),i.promise}(zf(t),e)}function M6(t,e,n){const r=n.docs.get(e._key),s=new $0(t);return new Co(t,s,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wK={maxAttempts:5};function Vh(t,e){if((t=ze(t)).firestore!==e)throw new Y(H.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _K{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gf(e)}get(e){const n=Vh(e,this._firestore),r=new pK(this._firestore);return this._transaction.lookup([n._key]).then(s=>{if(!s||s.length!==1)return le(24041);const i=s[0];if(i.isFoundDocument())return new Ng(this._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ng(this._firestore,r,n._key,null,n.converter);throw le(18433,{doc:i})})}set(e,n,r){const s=Vh(e,this._firestore),i=YA(s.converter,n,r),o=jA(this._dataReader,"Transaction.set",s._key,i,s.converter!==null,r);return this._transaction.set(s._key,o),this}update(e,n,r,...s){const i=Vh(e,this._firestore);let o;return o=typeof(n=ze(n))=="string"||n instanceof Hf?R6(this._dataReader,"Transaction.update",i._key,n,r,s):C6(this._dataReader,"Transaction.update",i._key,n),this._transaction.update(i._key,o),this}delete(e){const n=Vh(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EK=class extends _K{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vh(e,this._firestore),r=new $0(this._firestore);return super.get(e).then(s=>new Co(this._firestore,r,n._key,s._document,new lc(!1,!1),n.converter))}};function F6(t,e,n){t=jn(t,Ei);const r=Object.assign(Object.assign({},wK),n);return function(i){if(i.maxAttempts<1)throw new Y(H.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,a){const l=new Is;return i.asyncQueue.enqueueAndForget(async()=>{const c=await nK(i);new XW(i.asyncQueue,c,a,o,l).zu()}),l.promise}(zf(t),s=>e(new EK(t,s)),r)}function B6(){return new zA("serverTimestamp")}(function(e,n=!0){(function(s){Gu=s})(bl),cl(new Vo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ei(new hG(r.getProvider("auth-internal")),new pG(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hd(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ts(FI,BI,e),Ts(FI,BI,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="firebasestorage.googleapis.com",j6="storageBucket",AK=2*60*1e3,xK=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ns{constructor(e,n,r=0){super(Iv(e),`Firebase Storage: ${n} (${Iv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Iv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Iv(t){return"storage/"+t}function e2(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(lt.UNKNOWN,t)}function TK(t){return new ct(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function bK(t){return new ct(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function IK(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(lt.UNAUTHENTICATED,t)}function SK(){return new ct(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function PK(t){return new ct(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function CK(){return new ct(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RK(){return new ct(lt.CANCELED,"User canceled the upload/download.")}function kK(t){return new ct(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function NK(t){return new ct(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function OK(){return new ct(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+j6+"' property when initializing the app?")}function DK(){return new ct(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LK(){return new ct(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function VK(t){return new ct(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function L1(t){return new ct(lt.INVALID_ARGUMENT,t)}function z6(){return new ct(lt.APP_DELETED,"The Firebase app was deleted.")}function MK(t){return new ct(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ud(t,e){return new ct(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xh(t){throw new ct(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=nr.makeFromUrl(e,n)}catch{return new nr(e,"")}if(r.path==="")return r;throw NK(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",g=new RegExp(`^https?://${d}/${h}/b/${s}/o${f}`,"i"),w={bucket:1,path:3},v=n===U6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",_=new RegExp(`^https?://${v}/${s}/${T}`,"i"),A=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<A.length;N++){const D=A[N],V=D.regex.exec(e);if(V){const I=V[D.indices.bucket];let x=V[D.indices.path];x||(x=""),r=new nr(I,x),D.postModify(r);break}}if(r==null)throw kK(e);return r}}class FK{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BK(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...T){c||(c=!0,e.apply(null,T))}function d(T){s=setTimeout(()=>{s=null,t(g,l())},T)}function f(){i&&clearTimeout(i)}function g(T,..._){if(c){f();return}if(T){f(),h.call(null,T,..._);return}if(l()||o){f(),h.call(null,T,..._);return}r<64&&(r*=2);let A;a===1?(a=2,A=0):A=(r+Math.random())*1e3,d(A)}let w=!1;function v(T){w||(w=!0,f(),!c&&(s!==null?(T||(a=2),clearTimeout(s),d(0)):T||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,v(!0)},n),v}function UK(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(t){return t!==void 0}function zK(t){return typeof t=="object"&&!Array.isArray(t)}function t2(t){return typeof t=="string"||t instanceof String}function FS(t){return n2()&&t instanceof Blob}function n2(){return typeof Blob<"u"}function BS(t,e,n,r){if(r<e)throw L1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw L1(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function H6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var el;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(el||(el={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e,n,r,s,i,o,a,l,c,h,d,f=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=d,this.retry=f,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,v)=>{this.resolve_=w,this.reject_=v,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Up(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===el.NO_ERROR,l=i.getStatus();if(!a||HK(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===el.ABORT;r(!1,new Up(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Up(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jK(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=e2();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?z6():RK();o(l)}else{const l=CK();o(l)}};this.canceled_?n(!1,new Up(!1,null,!0)):this.backoffId_=BK(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UK(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Up{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $K(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qK(t,e,n,r,s,i,o=!0,a=!1){const l=H6(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return KK(h,e),$K(h,n),WK(h,i),QK(h,r),new GK(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function YK(...t){const e=JK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(n2())return new Blob(t);throw new ct(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function XK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t){if(typeof atob>"u")throw VK("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sv{constructor(e,n){this.data=e,this.contentType=n||null}}function eQ(t,e){switch(t){case vs.RAW:return new Sv(G6(e));case vs.BASE64:case vs.BASE64URL:return new Sv($6(t,e));case vs.DATA_URL:return new Sv(nQ(e),rQ(e))}throw e2()}function G6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function tQ(t){let e;try{e=decodeURIComponent(t)}catch{throw ud(vs.DATA_URL,"Malformed data URL.")}return G6(e)}function $6(t,e){switch(t){case vs.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ud(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case vs.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ud(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ZK(e)}catch(s){throw s.message.includes("polyfill")?s:ud(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class W6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ud(vs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=sQ(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function nQ(t){const e=new W6(t);return e.base64?$6(vs.BASE64,e.rest):tQ(e.rest)}function rQ(t){return new W6(t).contentType}function sQ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){let r=0,s="";FS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(FS(this.data_)){const r=this.data_,s=XK(r,e,n);return s===null?null:new Qi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Qi(r,!0)}}static getBlob(...e){if(n2()){const n=e.map(r=>r instanceof Qi?r.data_:r);return new Qi(YK.apply(null,n))}else{const n=e.map(o=>t2(o)?eQ(vs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Qi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K6(t){let e;try{e=JSON.parse(t)}catch{return null}return zK(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oQ(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Q6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(t,e){return e}class gn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||aQ}}let jp=null;function lQ(t){return!t2(t)||t.length<2?t:Q6(t)}function q6(){if(jp)return jp;const t=[];t.push(new gn("bucket")),t.push(new gn("generation")),t.push(new gn("metageneration")),t.push(new gn("name","fullPath",!0));function e(i,o){return lQ(o)}const n=new gn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new gn("size");return s.xform=r,t.push(s),t.push(new gn("timeCreated")),t.push(new gn("updated")),t.push(new gn("md5Hash",null,!0)),t.push(new gn("cacheControl",null,!0)),t.push(new gn("contentDisposition",null,!0)),t.push(new gn("contentEncoding",null,!0)),t.push(new gn("contentLanguage",null,!0)),t.push(new gn("contentType",null,!0)),t.push(new gn("metadata","customMetadata",!0)),jp=t,jp}function cQ(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new nr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function uQ(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return cQ(r,t),r}function J6(t,e,n){const r=K6(e);return r===null?null:uQ(t,r,n)}function hQ(t,e,n,r){const s=K6(e);if(s===null||!t2(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const h=t.bucket,d=t.fullPath,f="/b/"+o(h)+"/o/"+o(d),g=r2(f,n,r),w=H6({alt:"media",token:c});return g+w})[0]}function dQ(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Y6{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){if(!t)throw e2()}function fQ(t,e){function n(r,s){const i=J6(t,s,e);return X6(i!==null),i}return n}function pQ(t,e){function n(r,s){const i=J6(t,s,e);return X6(i!==null),hQ(i,s,t.host,t._protocol)}return n}function Z6(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=SK():s=IK():n.getStatus()===402?s=bK(t.bucket):n.getStatus()===403?s=PK(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function mQ(t){const e=Z6(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=TK(t.path)),i.serverResponse=s.serverResponse,i}return n}function gQ(t,e,n){const r=e.fullServerUrl(),s=r2(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new Y6(s,i,pQ(t,n),o);return a.errorHandler=mQ(e),a}function yQ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function vQ(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=yQ(null,e)),r}function wQ(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let A="";for(let N=0;N<2;N++)A=A+Math.random().toString().slice(2);return A}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=vQ(e,r,s),h=dQ(c,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",g=Qi.getBlob(d,r,f);if(g===null)throw DK();const w={name:c.fullPath},v=r2(i,t.host,t._protocol),T="POST",_=t.maxUploadRetryTime,E=new Y6(v,T,fQ(t,n),_);return E.urlParams=w,E.headers=o,E.body=g.uploadData(),E.errorHandler=Z6(e),E}class _Q{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=el.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=el.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=el.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw xh("cannot .send() more than once");if(Xo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EQ extends _Q{initXhr(){this.xhr_.responseType="text"}}function eO(){return new EQ}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n){this._service=e,n instanceof nr?this._location=n:this._location=nr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new gl(e,n)}get root(){const e=new nr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Q6(this._location.path)}get storage(){return this._service}get parent(){const e=iQ(this._location.path);if(e===null)return null;const n=new nr(this._location.bucket,e);return new gl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MK(e)}}function AQ(t,e,n){t._throwIfRoot("uploadBytes");const r=wQ(t.storage,t._location,q6(),new Qi(e,!0),n);return t.storage.makeRequestWithTokens(r,eO).then(s=>({metadata:s,ref:t}))}function xQ(t){t._throwIfRoot("getDownloadURL");const e=gQ(t.storage,t._location,q6());return t.storage.makeRequestWithTokens(e,eO).then(n=>{if(n===null)throw LK();return n})}function TQ(t,e){const n=oQ(t._location.path,e),r=new nr(t._location.bucket,n);return new gl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){return/^[A-Za-z]+:\/\//.test(t)}function IQ(t,e){return new gl(t,e)}function tO(t,e){if(t instanceof s2){const n=t;if(n._bucket==null)throw OK();const r=new gl(n,n._bucket);return e!=null?tO(r,e):r}else return e!==void 0?TQ(t,e):t}function SQ(t,e){if(e&&bQ(e)){if(t instanceof s2)return IQ(t,e);throw L1("To use ref(service, url), the first argument must be a Storage instance.")}else return tO(t,e)}function US(t,e){const n=e==null?void 0:e[j6];return n==null?null:nr.makeFromBucketSpec(n,t)}function PQ(t,e,n,r={}){t.host=`${e}:${n}`;const s=Xo(e);s&&(KE(`https://${t.host}/b`),QE("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:_N(i,t.app.options.projectId))}class s2{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=U6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AK,this._maxUploadRetryTime=xK,this._requests=new Set,s!=null?this._bucket=nr.makeFromBucketSpec(s,this._host):this._bucket=US(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=nr.makeFromBucketSpec(this._url,e):this._bucket=US(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){BS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){BS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new gl(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new FK(z6());{const o=qK(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const jS="@firebase/storage",zS="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="storage";function CQ(t,e,n){return t=ze(t),AQ(t,e,n)}function RQ(t){return t=ze(t),xQ(t)}function kQ(t,e){return t=ze(t),SQ(t,e)}function NQ(t=YE(),e){t=ze(t);const r=T0(t,nO).getImmediate({identifier:e}),s=yN("storage");return s&&OQ(r,...s),r}function OQ(t,e,n,r={}){PQ(t,e,n,r)}function DQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new s2(n,r,s,e,bl)}function LQ(){cl(new Vo(nO,DQ,"PUBLIC").setMultipleInstances(!0)),Ts(jS,zS,""),Ts(jS,zS,"esm2017")}LQ();const VQ={apiKey:"AIzaSyD1eqthBYbwMdI_IjSdyF_6h2fmdMe_TJY",authDomain:"phishblock-demo.firebaseapp.com",projectId:"phishblock-demo",storageBucket:"phishblock-demo.firebasestorage.app",messagingSenderId:"793674716191",appId:"1:793674716191:web:c3d750d768182b6b4ab12a"},i2=xN(VQ),Ro=iG(i2),rO=new Zs,mt=oK(i2),MQ=NQ(i2),HS=async t=>{const e=tr(mt,"users",t.uid);(await XA(e)).exists()||await gK(e,{displayName:t.displayName||"",username:t.displayName?t.displayName.toLowerCase().replace(/\s+/g,""):"",email:t.email,photoURL:t.photoURL||"",joinedAt:B6(),gender:"",badges:[]})},sO=L.createContext(),FQ=({children:t})=>{const[e,n]=L.useState(null),[r,s]=L.useState(!0);return L.useEffect(()=>{const i=Qz(Ro,o=>{n(o),s(!1)});return()=>i()},[]),m.jsx(sO.Provider,{value:{user:e,loading:r},children:!r&&t})},qu=()=>L.useContext(sO);function BQ({searchQuery:t,onClose:e}){const[n,r]=L.useState([]),[s,i]=L.useState(!1),o=Yr();return L.useEffect(()=>{if(!t||t.trim()===""){r([]);return}(async()=>{i(!0);const l=pl(mt,"posts"),c=pl(mt,"users"),h=t.toLowerCase(),[d,f]=await Promise.all([D1(ml(l,qd("createdAt","desc"),Og(20))),D1(ml(c,Og(20)))]),g=d.docs.map(v=>({id:v.id,...v.data(),type:"post"})).filter(v=>{var T,_,E;return((T=v.url)==null?void 0:T.toLowerCase().includes(h))||((_=v.description)==null?void 0:_.toLowerCase().includes(h))||((E=v.authorName)==null?void 0:E.toLowerCase().includes(h))}),w=f.docs.map(v=>({id:v.id,...v.data(),type:"user"})).filter(v=>{var T,_;return((T=v.displayName)==null?void 0:T.toLowerCase().includes(h))||((_=v.username)==null?void 0:_.toLowerCase().includes(h))});r([...g.slice(0,5),...w.slice(0,5)]),i(!1)})()},[t]),!t||t.trim()===""?null:m.jsx(Pf,{children:m.jsx(xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute w-full mt-2 rounded-lg bg-[#0b0b0d]/95 border border-gray-800 shadow-lg backdrop-blur-md z-50",children:s?m.jsx("div",{className:"text-gray-400 text-sm p-3 text-center",children:"Searching..."}):n.length>0?m.jsx("ul",{className:"divide-y divide-gray-800 max-h-64 overflow-y-auto",children:n.map(a=>m.jsx("li",{onClick:()=>{a.type==="post"?o(`/post/${a.id}`):o(`/profile/${a.id}`),e()},className:"px-4 py-2 text-sm text-gray-300 hover:bg-[#11111a] cursor-pointer transition flex flex-col",children:a.type==="post"?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-indigo-400 truncate",children:a.url||"Post"}),m.jsx("span",{className:"text-xs text-gray-500 truncate",children:a.description||""})]}):m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"font-semibold text-blue-400",children:a.displayName||a.username}),m.jsx("span",{className:"text-xs text-gray-500",children:"User"})]})},a.id))}):m.jsx("div",{className:"text-gray-500 text-sm p-3 text-center",children:"No results found."})})})}function UQ({onToggleSidebar:t,onCreate:e}){const n=Yr(),[r,s]=L.useState(""),[i,o]=L.useState(!1),{user:a}=qu(),[l,c]=L.useState((a==null?void 0:a.photoURL)||"");L.useEffect(()=>{if(!(a!=null&&a.uid))return;const d=tr(mt,"users",a.uid),f=Go(d,g=>{if(g.exists()){const w=g.data();w.photoURL&&w.photoURL!==l&&(c(w.photoURL),QN(Ro.currentUser,{photoURL:w.photoURL}).catch(()=>{}))}});return()=>f()},[a==null?void 0:a.uid,l]);const h=async()=>{try{await qz(Ro),n("/")}catch(d){console.error(d),alert("Logout failed")}};return m.jsx("header",{className:"w-full sticky top-0 z-40 bg-[#060608]/60 backdrop-blur-md border-b border-gray-800",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex items-center justify-between h-16",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:t,className:"p-2 rounded-md md:hidden hover:bg-[#0f1118]/50 transition","aria-label":"Open sidebar",children:m.jsx(sj,{className:"text-xl text-gray-200"})}),m.jsx("div",{onClick:()=>n("/feed"),className:"cursor-pointer text-white font-semibold text-lg",children:"PhishBlock"})]}),m.jsx("div",{className:"hidden md:flex items-center flex-1 justify-center px-6",children:m.jsx("div",{className:"w-full max-w-xl",children:m.jsxs("div",{className:"relative",children:[m.jsx(ij,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),m.jsx("input",{value:r,onChange:d=>s(d.target.value),placeholder:"Search reports, domains, users...",className:"w-full pl-10 pr-4 py-2 rounded-full bg-[#0b0b0d]/70 border border-gray-800 placeholder:text-gray-500 text-gray-200 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition"}),r&&m.jsx(BQ,{searchQuery:r,onClose:()=>s("")})]})})}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:e,className:"hidden md:inline-block px-3 py-1 rounded-md bg-gradient-to-r from-indigo-600 to-indigo-500 text-white font-medium hover:shadow-[0_0_15px_rgba(99,102,241,0.4)] transition",children:"Create"}),m.jsx("button",{className:"p-2 rounded-md hover:bg-[#0f1118]/50 transition",title:"Notifications",children:m.jsx(oj,{className:"text-xl text-gray-200"})}),m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>o(d=>!d),className:"flex items-center gap-2 rounded-full py-1 px-2 hover:bg-[#0f1118]/60 transition",children:[l?m.jsx("img",{src:l,alt:"avatar",className:"w-8 h-8 rounded-full object-cover border border-indigo-500 shadow-sm"}):m.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center text-sm font-bold",children:a!=null&&a.displayName?a.displayName[0].toUpperCase():"U"}),m.jsx("div",{className:"hidden md:block text-sm text-gray-200",children:(a==null?void 0:a.displayName)||"User"})]}),m.jsx(Pf,{children:i&&m.jsxs(xe.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.12},className:"absolute right-0 mt-2 w-48 bg-[#0b0b0d]/90 border border-gray-800 rounded-md shadow-lg py-2",children:[m.jsx("button",{onClick:()=>{o(!1),a!=null&&a.uid&&n("/profile")},className:"w-full text-left px-4 py-2 hover:bg-[#101018]",children:"Profile"}),m.jsx("button",{onClick:()=>{o(!1),n("/settings")},className:"w-full text-left px-4 py-2 hover:bg-[#101018]",children:"Settings"}),m.jsx("div",{className:"border-t border-gray-800 my-1"}),m.jsx("button",{onClick:()=>{o(!1),h()},className:"w-full text-left px-4 py-2 text-red-400 hover:bg-[#101018]",children:"Logout"})]})})]})]})]})})})}function jQ({open:t=!1,onClose:e=()=>{},onCreate:n}){const r=Yr(),{user:s}=qu(),i=[{icon:JU,label:"Home",to:"/feed"},{icon:YU,label:"Create Post",to:"/post/create"},{icon:tj,label:"Profile",to:()=>`/profile/${s==null?void 0:s.uid}`},{icon:$E,label:"Anchors",to:"/anchors"}],o=m.jsxs("div",{className:"w-64 h-full flex flex-col py-6 px-4",children:[m.jsxs("div",{className:"mb-6 px-2",children:[m.jsx("div",{className:"text-white font-bold text-lg",children:"PhishBlock"}),m.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Community verification"})]}),m.jsx("nav",{className:"flex-1 space-y-1",children:i.map((a,l)=>{const c=a.icon,h=typeof a.to=="function"?a.to():a.to;return m.jsxs("button",{onClick:()=>{a.label==="Create Post"?typeof n=="function"&&n():r(h)},className:"w-full flex items-center gap-3 px-3 py-3 rounded-md hover:bg-[#0f1118]/50 transition",children:[m.jsx(c,{className:"text-lg text-indigo-400"}),m.jsx("span",{className:"text-gray-200",children:a.label})]},l)})}),m.jsxs("div",{className:"mt-6 px-3",children:[m.jsx("div",{className:"text-xs text-gray-400 mb-2 uppercase tracking-wider",children:"Topics"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>r("/domains"),className:"w-full flex items-center gap-2 text-left px-3 py-2 rounded-md hover:bg-[#0f1118]/50 transition text-gray-200",children:[m.jsx(c1,{className:"text-indigo-400"})," Domains"]}),m.jsxs("button",{onClick:()=>r("/tools"),className:"w-full flex items-center gap-2 text-left px-3 py-2 rounded-md hover:bg-[#0f1118]/50 transition text-gray-200",children:[m.jsx(hN,{className:"text-indigo-400"})," Security Tools"]})]})]}),m.jsxs("div",{className:"mt-8 px-3 text-xs text-gray-400 border-t border-gray-800 pt-4",children:[m.jsx("div",{className:"text-gray-400 text-sm",children:"Built by"}),m.jsx("a",{className:"text-indigo-400 hover:underline font-medium mt-1 inline-block",href:"https://github.com/tung-programming",target:"_blank",rel:"noreferrer",children:"tung-programming"}),m.jsx("div",{className:"text-[10px] text-gray-600 mt-2",children:"with  for open web"})]})]});return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"hidden md:block md:w-64 md:flex-shrink-0",children:m.jsx("div",{className:"h-full sticky top-16 bg-[#07070a]/60 backdrop-blur-sm border-r border-gray-800",children:o})}),m.jsx(Pf,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-40 bg-black/40 md:hidden"}),m.jsx(xe.aside,{initial:{x:-320},animate:{x:0},exit:{x:-320},transition:{type:"spring",stiffness:260,damping:26},className:"fixed left-0 top-0 bottom-0 z-50 w-72 bg-[#07070a]/95 backdrop-blur-sm border-r border-gray-800 md:hidden",children:m.jsx("div",{className:"h-full overflow-y-auto",children:o})})]})})]})}function zQ(){const t=Yr(),[e,n]=L.useState([]),[r,s]=L.useState([]),[i,o]=L.useState(!0),[a,l]=L.useState("");L.useEffect(()=>{const d=pl(mt,"posts"),f=ml(d,qd("upvotes","desc"),Og(3)),g=Go(f,T=>{const _=T.docs.map(E=>({id:E.id,...E.data()}));n(_),o(!1)}),w=ml(d,KA("anchored","==",!0),qd("archivedAt","desc"),Og(3)),v=Go(w,T=>{const _=T.docs.map(E=>({id:E.id,...E.data()}));s(_),o(!1)});return()=>{g(),v()}},[]),L.useEffect(()=>{const d=()=>{const w=new Date().toLocaleString("en-IN",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"});l(w)};d();const f=setInterval(d,1e3);return()=>clearInterval(f)},[]);const c=e||[],h=r||[];return m.jsxs("div",{className:"sticky top-20 space-y-6 p-4",children:[m.jsxs(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-[#0d0d12]/80 border border-indigo-800/40 rounded-2xl p-5 shadow-[0_0_20px_rgba(99,102,241,0.15)] backdrop-blur-md",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[m.jsx(qU,{className:"text-indigo-400"})," Trending Reports"]}),i?m.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."}):c.length>0?m.jsx("ul",{className:"space-y-3",children:c.map(d=>m.jsxs("li",{onClick:()=>t(`/post/${d.id}`),className:"text-gray-300 text-sm flex items-center justify-between border-b border-gray-800/50 pb-2 cursor-pointer hover:text-indigo-300 transition",children:[m.jsx("span",{className:"truncate max-w-[150px]",children:d.url}),m.jsxs("span",{className:"text-indigo-400 font-semibold flex-shrink-0",children:[" ",d.upvotes||0]})]},d.id))}):m.jsx("p",{className:"text-gray-500 text-sm",children:"No trending posts yet."})]}),m.jsxs(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},className:"bg-[#0d0d12]/80 border border-indigo-800/40 rounded-2xl p-5 shadow-[0_0_20px_rgba(99,102,241,0.15)] backdrop-blur-md",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[m.jsx(uN,{className:"text-indigo-400"})," Blockchain Anchors"]}),i?m.jsx("p",{className:"text-gray-500 text-sm",children:"Loading..."}):h.length>0?m.jsx("ul",{className:"space-y-3",children:h.map(d=>m.jsxs("li",{className:"text-gray-300 text-sm border-b border-gray-800/50 pb-2",children:[m.jsx("div",{className:"truncate max-w-[200px]",children:d.url}),m.jsx("a",{href:d.anchorTxUrl||`https://amoy.polygonscan.com/tx/${d.anchorTx}`,target:"_blank",rel:"noreferrer",className:"text-xs text-indigo-400 truncate hover:underline block",children:d.anchorTx||""})]},d.id))}):m.jsx("p",{className:"text-gray-500 text-sm",children:"No anchors yet."})]}),m.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"bg-[#0d0d12]/80 border border-indigo-800/40 rounded-2xl p-4 shadow-[0_0_20px_rgba(99,102,241,0.15)] text-center text-xs text-gray-400",children:m.jsxs("div",{className:"flex flex-col items-center gap-2",children:[m.jsx(KU,{className:"text-indigo-400 text-base"}),m.jsx("div",{className:"text-[11px] font-mono tracking-wide text-gray-300",children:a})]})}),m.jsx("p",{className:"text-[10px] text-gray-500 text-center mt-4",children:" 2025 PhishBlock  powered by community & blockchain."})]})}function HQ({imageURL:t,onClose:e}){return L.useEffect(()=>{const n=r=>{r.key==="Escape"&&e()};return window.addEventListener("keydown",n),()=>window.removeEventListener("keydown",n)},[e]),m.jsx(Pf,{children:t&&m.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",onClick:e,children:m.jsxs(xe.div,{initial:{scale:.95,y:40},animate:{scale:1,y:0},exit:{scale:.9,y:40},transition:{duration:.25},className:"relative max-w-4xl w-[90%] max-h-[85vh] rounded-2xl overflow-hidden shadow-[0_0_30px_rgba(99,102,241,0.3)]",onClick:n=>n.stopPropagation(),children:[m.jsx("button",{onClick:e,className:"absolute top-3 right-3 z-10 text-gray-300 hover:text-white bg-black/40 p-2 rounded-full transition",children:m.jsx(WE,{size:18})}),m.jsx("img",{src:t,alt:"Full",className:"w-full h-full object-contain bg-black"})]})})})}const GQ="6.15.0";function $Q(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function wn(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function ce(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&$Q(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function cc(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>cc(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=n[t[s]>>4],r+=n[t[s]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return cc(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${cc(r,e)}: ${cc(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ht(t,e){return t&&t.code===e}function o2(t){return Ht(t,"CALL_EXCEPTION")}function qe(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${cc(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];i.push(o+"="+cc(a))}}i.push(`code=${e}`),i.push(`version=${GQ}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return ce(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&ce(s,{shortMessage:r}),s}function W(t,e,n,r){if(!t)throw qe(e,n,r)}function F(t,e,n,r){W(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function iO(t,e,n){n==null&&(n=""),n&&(n=": "+n),W(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),W(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function W0(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),W(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function oO(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}F(!1,"invalid BytesLike value",e||"value",t)}function we(t,e){return oO(t,e,!1)}function En(t,e){return oO(t,e,!0)}function je(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function a2(t){return je(t,!0)||t instanceof Uint8Array}const GS="0123456789abcdef";function Z(t){const e=we(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=GS[(s&240)>>4]+GS[s&15]}return n}function at(t){return"0x"+t.map(e=>Z(e).substring(2)).join("")}function bc(t){return je(t,!0)?(t.length-2)/2:we(t).length}function it(t,e,n){const r=we(t);return n!=null&&n>r.length&&W(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),Z(r.slice(e??0,n??r.length))}function aO(t,e,n){const r=we(t);W(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),Z(s)}function Ai(t,e){return aO(t,e,!0)}function WQ(t,e){return aO(t,e,!1)}const K0=BigInt(0),Hr=BigInt(1),uc=9007199254740991;function KQ(t,e){const n=Q0(t,"value"),r=BigInt(_e(e,"width"));if(W(n>>r===K0,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-Hr){const s=(Hr<<r)-Hr;return-((~n&s)+Hr)}return n}function lO(t,e){let n=oe(t,"value");const r=BigInt(_e(e,"width")),s=Hr<<r-Hr;if(n<K0){n=-n,W(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(Hr<<r)-Hr;return(~n&i)+Hr}else W(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Mh(t,e){const n=Q0(t,"value"),r=BigInt(_e(e,"bits"));return n&(Hr<<r)-Hr}function oe(t,e){switch(typeof t){case"bigint":return t;case"number":return F(Number.isInteger(t),"underflow",e||"value",t),F(t>=-uc&&t<=uc,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){F(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}F(!1,"invalid BigNumberish value",e||"value",t)}function Q0(t,e){const n=oe(t,e);return W(n>=K0,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const $S="0123456789abcdef";function l2(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=$S[n>>4],e+=$S[n&15];return BigInt(e)}return oe(t)}function _e(t,e){switch(typeof t){case"bigint":return F(t>=-uc&&t<=uc,"overflow",e||"value",t),Number(t);case"number":return F(Number.isInteger(t),"underflow",e||"value",t),F(t>=-uc&&t<=uc,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return _e(BigInt(t),e)}catch(n){F(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}F(!1,"invalid numeric value",e||"value",t)}function QQ(t){return _e(l2(t))}function $o(t,e){let r=Q0(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=_e(e,"width");for(W(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function Tt(t){const e=Q0(t,"value");if(e===K0)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}function zr(t){let e=Z(a2(t)?t:Tt(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const WS="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const KS=BigInt(58);function qQ(t){const e=we(t);let n=l2(e),r="";for(;n;)r=WS[Number(n%KS)]+r,n/=KS;for(let s=0;s<e.length&&!e[s];s++)r=WS[0]+r;return r}function JQ(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return we(e)}function YQ(t){const e=we(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var Pc;class cO{constructor(e,n,r){U(this,"filter");U(this,"emitter");j(this,Pc);R(this,Pc,n),ce(this,{emitter:e,filter:r})}async removeListener(){b(this,Pc)!=null&&await this.emitter.off(this.filter,b(this,Pc))}}Pc=new WeakMap;function XQ(t,e,n,r,s){F(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function uO(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function ZQ(t,e,n,r,s){return t==="OVERLONG"?(F(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),uO(t,e,n))}const eq=Object.freeze({error:XQ,ignore:uO,replace:ZQ});function tq(t,e){e==null&&(e=eq.error);const n=we(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+o>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let l=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let h=n[s];if((h&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),l=null;break}l=l<<6|h&63,s++}if(l!==null){if(l>1114111){s+=e("OUT_OF_RANGE",s-1-o,n,r,l);continue}if(l>=55296&&l<=57343){s+=e("UTF16_SURROGATE",s-1-o,n,r,l);continue}if(l<=a){s+=e("OVERLONG",s-1-o,n,r,l);continue}r.push(l)}}return r}function ci(t,e){F(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);F(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((s&1023)<<10)+(i&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function nq(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Dg(t,e){return nq(tq(t,e))}function hO(t){async function e(n,r){W(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();W(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),W(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=qe("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{i=qe("request cancelled","CANCELLED"),o.abort()});const l=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal});let c;try{c=await fetch(n.url,l)}catch(g){throw clearTimeout(a),i||g}clearTimeout(a);const h={};c.headers.forEach((g,w)=>{h[w.toLowerCase()]=g});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:h,body:f}}return e}const rq=12,sq=250;let QS=hO();const iq=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),oq=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let Pv=!1;async function dO(t,e){try{const n=t.match(iq);if(!n)throw new Error("invalid data");return new ko(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?JQ(n[3]):lq(n[3]))}catch{return new ko(599,"BAD REQUEST (invalid data: URI)",{},null,new xi(t))}}function fO(t){async function e(n,r){try{const s=n.match(oq);if(!s)throw new Error("invalid link");return new xi(`${t}${s[2]}`)}catch{return new ko(599,"BAD REQUEST (invalid IPFS URI)",{},null,new xi(n))}}return e}const zp={data:dO,ipfs:fO("https://gateway.ipfs.io/ipfs/")},pO=new WeakMap;var Pa,qi;class aq{constructor(e){j(this,Pa);j(this,qi);R(this,Pa,[]),R(this,qi,!1),pO.set(e,()=>{if(!b(this,qi)){R(this,qi,!0);for(const n of b(this,Pa))setTimeout(()=>{n()},0);R(this,Pa,[])}})}addListener(e){W(!b(this,qi),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),b(this,Pa).push(e)}get cancelled(){return b(this,qi)}checkSignal(){W(!this.cancelled,"cancelled","CANCELLED",{})}}Pa=new WeakMap,qi=new WeakMap;function Hp(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Cc,Rc,Lr,zs,kc,Nc,Ct,Kn,Hs,Ca,Ra,ka,os,Vr,Ji,Na,Fh;const Wg=class Wg{constructor(e){j(this,Na);j(this,Cc);j(this,Rc);j(this,Lr);j(this,zs);j(this,kc);j(this,Nc);j(this,Ct);j(this,Kn);j(this,Hs);j(this,Ca);j(this,Ra);j(this,ka);j(this,os);j(this,Vr);j(this,Ji);R(this,Nc,String(e)),R(this,Cc,!1),R(this,Rc,!0),R(this,Lr,{}),R(this,zs,""),R(this,kc,3e5),R(this,Vr,{slotInterval:sq,maxAttempts:rq}),R(this,Ji,null)}get url(){return b(this,Nc)}set url(e){R(this,Nc,String(e))}get body(){return b(this,Ct)==null?null:new Uint8Array(b(this,Ct))}set body(e){if(e==null)R(this,Ct,void 0),R(this,Kn,void 0);else if(typeof e=="string")R(this,Ct,ci(e)),R(this,Kn,"text/plain");else if(e instanceof Uint8Array)R(this,Ct,e),R(this,Kn,"application/octet-stream");else if(typeof e=="object")R(this,Ct,ci(JSON.stringify(e))),R(this,Kn,"application/json");else throw new Error("invalid body")}hasBody(){return b(this,Ct)!=null}get method(){return b(this,zs)?b(this,zs):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),R(this,zs,String(e).toUpperCase())}get headers(){const e=Object.assign({},b(this,Lr));return b(this,Hs)&&(e.authorization=`Basic ${YQ(ci(b(this,Hs)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&b(this,Kn)&&(e["content-type"]=b(this,Kn)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){b(this,Lr)[String(e).toLowerCase()]=String(n)}clearHeaders(){R(this,Lr,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return b(this,Hs)||null}setCredentials(e,n){F(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),R(this,Hs,`${e}:${n}`)}get allowGzip(){return b(this,Rc)}set allowGzip(e){R(this,Rc,!!e)}get allowInsecureAuthentication(){return!!b(this,Cc)}set allowInsecureAuthentication(e){R(this,Cc,!!e)}get timeout(){return b(this,kc)}set timeout(e){F(e>=0,"timeout must be non-zero","timeout",e),R(this,kc,e)}get preflightFunc(){return b(this,Ca)||null}set preflightFunc(e){R(this,Ca,e)}get processFunc(){return b(this,Ra)||null}set processFunc(e){R(this,Ra,e)}get retryFunc(){return b(this,ka)||null}set retryFunc(e){R(this,ka,e)}get getUrlFunc(){return b(this,Ji)||QS}set getUrlFunc(e){R(this,Ji,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${b(this,Ct)?Z(b(this,Ct)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(b(this,Vr).slotInterval=e.slotInterval),e.maxAttempts!=null&&(b(this,Vr).maxAttempts=e.maxAttempts)}send(){return W(b(this,os)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),R(this,os,new aq(this)),X(this,Na,Fh).call(this,0,qS()+this.timeout,0,this,new ko(0,"",{},null,this))}cancel(){W(b(this,os)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=pO.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();W(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Wg(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,R(s,Lr,Object.assign({},b(this,Lr))),b(this,Ct)&&R(s,Ct,new Uint8Array(b(this,Ct))),R(s,Kn,b(this,Kn)),s}clone(){const e=new Wg(this.url);return R(e,zs,b(this,zs)),b(this,Ct)&&R(e,Ct,b(this,Ct)),R(e,Kn,b(this,Kn)),R(e,Lr,Object.assign({},b(this,Lr))),R(e,Hs,b(this,Hs)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),R(e,Ca,b(this,Ca)),R(e,Ra,b(this,Ra)),R(e,ka,b(this,ka)),R(e,Vr,Object.assign({},b(this,Vr))),R(e,Ji,b(this,Ji)),e}static lockConfig(){Pv=!0}static getGateway(e){return zp[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(Pv)throw new Error("gateways locked");zp[e]=n}static registerGetUrl(e){if(Pv)throw new Error("gateways locked");QS=e}static createGetUrlFunc(e){return hO(e)}static createDataGateway(){return dO}static createIpfsGatewayFunc(e){return fO(e)}};Cc=new WeakMap,Rc=new WeakMap,Lr=new WeakMap,zs=new WeakMap,kc=new WeakMap,Nc=new WeakMap,Ct=new WeakMap,Kn=new WeakMap,Hs=new WeakMap,Ca=new WeakMap,Ra=new WeakMap,ka=new WeakMap,os=new WeakMap,Vr=new WeakMap,Ji=new WeakMap,Na=new WeakSet,Fh=async function(e,n,r,s,i){var h,d,f;if(e>=b(this,Vr).maxAttempts)return i.makeServerError("exceeded maximum retry limit");W(qS()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await cq(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in zp){const g=await zp[a](o.url,Hp(b(s,os)));if(g instanceof ko){let w=g;if(this.processFunc){Hp(b(s,os));try{w=await this.processFunc(o,w)}catch(v){(v.throttle==null||typeof v.stall!="number")&&w.makeServerError("error in post-processing function",v).assertOk()}}return w}o=g}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,Hp(b(s,os)));let c=new ko(l.statusCode,l.statusMessage,l.headers,l.body,s);if(c.statusCode===301||c.statusCode===302){try{const g=c.headers.location||"";return X(h=o.redirect(g),Na,Fh).call(h,e+1,n,0,s,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const g=c.headers["retry-after"];let w=b(this,Vr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(w=parseInt(g)),X(d=o.clone(),Na,Fh).call(d,e+1,n,w,s,c)}if(this.processFunc){Hp(b(s,os));try{c=await this.processFunc(o,c)}catch(g){(g.throttle==null||typeof g.stall!="number")&&c.makeServerError("error in post-processing function",g).assertOk();let w=b(this,Vr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(w=g.stall),X(f=o.clone(),Na,Fh).call(f,e+1,n,w,s,c)}}return c};let xi=Wg;var lf,cf,uf,Qn,Oc,Oa;const I2=class I2{constructor(e,n,r,s,i){j(this,lf);j(this,cf);j(this,uf);j(this,Qn);j(this,Oc);j(this,Oa);R(this,lf,e),R(this,cf,n),R(this,uf,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),R(this,Qn,s==null?null:new Uint8Array(s)),R(this,Oc,i||null),R(this,Oa,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${b(this,Qn)?Z(b(this,Qn)):"null"}>`}get statusCode(){return b(this,lf)}get statusMessage(){return b(this,cf)}get headers(){return Object.assign({},b(this,uf))}get body(){return b(this,Qn)==null?null:new Uint8Array(b(this,Qn))}get bodyText(){try{return b(this,Qn)==null?"":Dg(b(this,Qn))}catch{W(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{W(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const s=n[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new I2(599,r,this.headers,this.body,b(this,Oc)||void 0);return R(s,Oa,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:F(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw ce(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return b(this,Qn)!=null}get request(){return b(this,Oc)}ok(){return b(this,Oa).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=b(this,Oa);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{b(this,Qn)&&(s=Dg(b(this,Qn)))}catch{}W(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};lf=new WeakMap,cf=new WeakMap,uf=new WeakMap,Qn=new WeakMap,Oc=new WeakMap,Oa=new WeakMap;let ko=I2;function qS(){return new Date().getTime()}function lq(t){return ci(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function cq(t){return new Promise(e=>setTimeout(e,t))}function uq(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function JS(t,e,n){let r=0;for(let s=0;s<n;s++)r=r*256+t[e+s];return r}function YS(t,e,n,r){const s=[];for(;n<e+1+r;){const i=mO(t,n);s.push(i.result),n+=i.consumed,W(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:s}}function mO(t,e){W(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{W(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const s=JS(t,e+1,r);return n(e+1+r+s),YS(t,e,e+1+r,r+s)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),YS(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const s=JS(t,e+1,r);n(e+1+r+s);const i=Z(t.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const s=Z(t.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:uq(t[e])}}function Wf(t){const e=we(t,"data"),n=mO(e,0);return F(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function XS(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function gO(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(i){r=r.concat(gO(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=XS(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(we(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=XS(e.length);return n.unshift(183+n.length),n.concat(e)}const ZS="0123456789abcdef";function Wo(t){let e="0x";for(const n of gO(t))e+=ZS[n>>4],e+=ZS[n&15];return e}const xn=32,V1=new Uint8Array(xn),hq=["then"],Gp={},yO=new WeakMap;function pa(t){return yO.get(t)}function eP(t,e){yO.set(t,e)}function Th(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function M1(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof Pu?M1(pa(r),r,n):r):t.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(n&&o instanceof Pu&&(o=M1(pa(o),o,n)),r[s]=o),r},{})}var Dc;const hc=class hc extends Array{constructor(...n){const r=n[0];let s=n[1],i=(n[2]||[]).slice(),o=!0;r!==Gp&&(s=n,i=[],o=!1);super(s.length);j(this,Dc);s.forEach((c,h)=>{this[h]=c});const a=i.reduce((c,h)=>(typeof h=="string"&&c.set(h,(c.get(h)||0)+1),c),new Map);if(eP(this,Object.freeze(s.map((c,h)=>{const d=i[h];return d!=null&&a.get(d)===1?d:null}))),R(this,Dc,[]),b(this,Dc)==null&&b(this,Dc),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(c,h,d)=>{if(typeof h=="string"){if(h.match(/^[0-9]+$/)){const g=_e(h,"%index");if(g<0||g>=this.length)throw new RangeError("out of result range");const w=c[g];return w instanceof Error&&Th(`index ${g}`,w),w}if(hq.indexOf(h)>=0)return Reflect.get(c,h,d);const f=c[h];if(f instanceof Function)return function(...g){return f.apply(this===d?c:this,g)};if(!(h in c))return c.getValue.apply(this===d?c:this,[h])}return Reflect.get(c,h,d)}});return eP(l,pa(this)),l}toArray(n){const r=[];return this.forEach((s,i)=>{s instanceof Error&&Th(`index ${i}`,s),n&&s instanceof hc&&(s=s.toArray(n)),r.push(s)}),r}toObject(n){const r=pa(this);return r.reduce((s,i,o)=>(W(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),M1(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=pa(this),i=[],o=[];for(let a=n;a<r;a++)i.push(this[a]),o.push(s[a]);return new hc(Gp,i,o)}filter(n,r){const s=pa(this),i=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&Th(`index ${a}`,l),n.call(r,l,a,this)&&(i.push(l),o.push(s[a]))}return new hc(Gp,i,o)}map(n,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&Th(`index ${i}`,o),s.push(n.call(r,o,i,this))}return s}getValue(n){const r=pa(this).indexOf(n);if(r===-1)return;const s=this[r];return s instanceof Error&&Th(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,r){return new hc(Gp,n,r)}};Dc=new WeakMap;let Pu=hc;function tP(t){let e=Tt(t);return W(e.length<=xn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:xn,offset:e.length}),e.length!==xn&&(e=En(at([V1.slice(e.length%xn),e]))),e}class Ci{constructor(e,n,r,s){U(this,"name");U(this,"type");U(this,"localName");U(this,"dynamic");ce(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){F(!1,e,this.localName,n)}}var Gs,Da,Lc,xm;class F1{constructor(){j(this,Lc);j(this,Gs);j(this,Da);R(this,Gs,[]),R(this,Da,0)}get data(){return at(b(this,Gs))}get length(){return b(this,Da)}appendWriter(e){return X(this,Lc,xm).call(this,En(e.data))}writeBytes(e){let n=En(e);const r=n.length%xn;return r&&(n=En(at([n,V1.slice(r)]))),X(this,Lc,xm).call(this,n)}writeValue(e){return X(this,Lc,xm).call(this,tP(e))}writeUpdatableValue(){const e=b(this,Gs).length;return b(this,Gs).push(V1),R(this,Da,b(this,Da)+xn),n=>{b(this,Gs)[e]=tP(n)}}}Gs=new WeakMap,Da=new WeakMap,Lc=new WeakSet,xm=function(e){return b(this,Gs).push(e),R(this,Da,b(this,Da)+e.length),e.length};var Cn,qn,La,Va,Yi,El,U1,vO;const S2=class S2{constructor(e,n,r){j(this,El);U(this,"allowLoose");j(this,Cn);j(this,qn);j(this,La);j(this,Va);j(this,Yi);ce(this,{allowLoose:!!n}),R(this,Cn,En(e)),R(this,La,0),R(this,Va,null),R(this,Yi,r??1024),R(this,qn,0)}get data(){return Z(b(this,Cn))}get dataLength(){return b(this,Cn).length}get consumed(){return b(this,qn)}get bytes(){return new Uint8Array(b(this,Cn))}subReader(e){const n=new S2(b(this,Cn).slice(b(this,qn)+e),this.allowLoose,b(this,Yi));return R(n,Va,this),n}readBytes(e,n){let r=X(this,El,vO).call(this,0,e,!!n);return X(this,El,U1).call(this,e),R(this,qn,b(this,qn)+r.length),r.slice(0,e)}readValue(){return l2(this.readBytes(xn))}readIndex(){return QQ(this.readBytes(xn))}};Cn=new WeakMap,qn=new WeakMap,La=new WeakMap,Va=new WeakMap,Yi=new WeakMap,El=new WeakSet,U1=function(e){var n;if(b(this,Va))return X(n=b(this,Va),El,U1).call(n,e);R(this,La,b(this,La)+e),W(b(this,Yi)<1||b(this,La)<=b(this,Yi)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${b(this,Yi)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:En(b(this,Cn)),offset:b(this,qn),length:e,info:{bytesRead:b(this,La),dataLength:this.dataLength}})},vO=function(e,n,r){let s=Math.ceil(n/xn)*xn;return b(this,qn)+s>b(this,Cn).length&&(this.allowLoose&&r&&b(this,qn)+n<=b(this,Cn).length?s=n:W(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:En(b(this,Cn)),length:b(this,Cn).length,offset:b(this,qn)+s})),b(this,Cn).slice(b(this,qn),b(this,qn)+s)};let B1=S2;function Lg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function c2(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function dq(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lg(t.outputLen),Lg(t.blockLen)}function Cu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wO(t,e){c2(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Cv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _O=t=>t instanceof Uint8Array,fq=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Rv=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ns=(t,e)=>t<<32-e|t>>>e,pq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!pq)throw new Error("Non little-endian hardware is not supported");function mq(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function q0(t){if(typeof t=="string"&&(t=mq(t)),!_O(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function gq(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!_O(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class u2{clone(){return this._cloneInto()}}function h2(t){const e=r=>t().update(q0(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function yq(t=32){if(Cv&&typeof Cv.getRandomValues=="function")return Cv.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class EO extends u2{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,dq(e);const r=q0(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Cu(this),this.iHash.update(e),this}digestInto(e){Cu(this),c2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const AO=(t,e,n)=>new EO(t,e).update(n).digest();AO.create=(t,e)=>new EO(t,e);function vq(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}class xO extends u2{constructor(e,n,r,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Rv(this.buffer)}update(e){Cu(this);const{view:n,buffer:r,blockLen:s}=this;e=q0(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=Rv(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cu(this),wO(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;vq(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Rv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,h=this.get();if(c>h.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,h[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%n&&e.buffer.set(r),e}}const wq=(t,e,n)=>t&e^~t&n,_q=(t,e,n)=>t&e^t&n^e&n,Eq=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Li=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Vi=new Uint32Array(64);class Aq extends xO{constructor(){super(64,32,8,!1),this.A=Li[0]|0,this.B=Li[1]|0,this.C=Li[2]|0,this.D=Li[3]|0,this.E=Li[4]|0,this.F=Li[5]|0,this.G=Li[6]|0,this.H=Li[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,n,r,s,i,o,a,l]}set(e,n,r,s,i,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let d=0;d<16;d++,n+=4)Vi[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=Vi[d-15],g=Vi[d-2],w=ns(f,7)^ns(f,18)^f>>>3,v=ns(g,17)^ns(g,19)^g>>>10;Vi[d]=v+Vi[d-7]+w+Vi[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:h}=this;for(let d=0;d<64;d++){const f=ns(a,6)^ns(a,11)^ns(a,25),g=h+f+wq(a,l,c)+Eq[d]+Vi[d]|0,v=(ns(r,2)^ns(r,13)^ns(r,22))+_q(r,s,i)|0;h=c,c=l,l=a,a=o+g|0,o=i,i=s,s=r,r=g+v|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,h=h+this.H|0,this.set(r,s,i,o,a,l,c,h)}roundClean(){Vi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const TO=h2(()=>new Aq),$p=BigInt(2**32-1),j1=BigInt(32);function bO(t,e=!1){return e?{h:Number(t&$p),l:Number(t>>j1&$p)}:{h:Number(t>>j1&$p)|0,l:Number(t&$p)|0}}function IO(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=bO(t[s],e);[n[s],r[s]]=[i,o]}return[n,r]}const xq=(t,e)=>BigInt(t>>>0)<<j1|BigInt(e>>>0),Tq=(t,e,n)=>t>>>n,bq=(t,e,n)=>t<<32-n|e>>>n,Iq=(t,e,n)=>t>>>n|e<<32-n,Sq=(t,e,n)=>t<<32-n|e>>>n,Pq=(t,e,n)=>t<<64-n|e>>>n-32,Cq=(t,e,n)=>t>>>n-32|e<<64-n,Rq=(t,e)=>e,kq=(t,e)=>t,SO=(t,e,n)=>t<<n|e>>>32-n,PO=(t,e,n)=>e<<n|t>>>32-n,CO=(t,e,n)=>e<<n-32|t>>>64-n,RO=(t,e,n)=>t<<n-32|e>>>64-n;function Nq(t,e,n,r){const s=(e>>>0)+(r>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const Oq=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Dq=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Lq=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Vq=(t,e,n,r,s)=>e+n+r+s+(t/2**32|0)|0,Mq=(t,e,n,r,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(s>>>0),Fq=(t,e,n,r,s,i)=>e+n+r+s+i+(t/2**32|0)|0,me={fromBig:bO,split:IO,toBig:xq,shrSH:Tq,shrSL:bq,rotrSH:Iq,rotrSL:Sq,rotrBH:Pq,rotrBL:Cq,rotr32H:Rq,rotr32L:kq,rotlSH:SO,rotlSL:PO,rotlBH:CO,rotlBL:RO,add:Nq,add3L:Oq,add3H:Dq,add4L:Lq,add4H:Vq,add5H:Fq,add5L:Mq},[Bq,Uq]=me.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Mi=new Uint32Array(80),Fi=new Uint32Array(80);class jq extends xO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:h,Fh:d,Fl:f,Gh:g,Gl:w,Hh:v,Hl:T}=this;return[e,n,r,s,i,o,a,l,c,h,d,f,g,w,v,T]}set(e,n,r,s,i,o,a,l,c,h,d,f,g,w,v,T){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=h|0,this.Fh=d|0,this.Fl=f|0,this.Gh=g|0,this.Gl=w|0,this.Hh=v|0,this.Hl=T|0}process(e,n){for(let A=0;A<16;A++,n+=4)Mi[A]=e.getUint32(n),Fi[A]=e.getUint32(n+=4);for(let A=16;A<80;A++){const N=Mi[A-15]|0,D=Fi[A-15]|0,V=me.rotrSH(N,D,1)^me.rotrSH(N,D,8)^me.shrSH(N,D,7),I=me.rotrSL(N,D,1)^me.rotrSL(N,D,8)^me.shrSL(N,D,7),x=Mi[A-2]|0,P=Fi[A-2]|0,C=me.rotrSH(x,P,19)^me.rotrBH(x,P,61)^me.shrSH(x,P,6),O=me.rotrSL(x,P,19)^me.rotrBL(x,P,61)^me.shrSL(x,P,6),M=me.add4L(I,O,Fi[A-7],Fi[A-16]),k=me.add4H(M,V,C,Mi[A-7],Mi[A-16]);Mi[A]=k|0,Fi[A]=M|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:h,Eh:d,El:f,Fh:g,Fl:w,Gh:v,Gl:T,Hh:_,Hl:E}=this;for(let A=0;A<80;A++){const N=me.rotrSH(d,f,14)^me.rotrSH(d,f,18)^me.rotrBH(d,f,41),D=me.rotrSL(d,f,14)^me.rotrSL(d,f,18)^me.rotrBL(d,f,41),V=d&g^~d&v,I=f&w^~f&T,x=me.add5L(E,D,I,Uq[A],Fi[A]),P=me.add5H(x,_,N,V,Bq[A],Mi[A]),C=x|0,O=me.rotrSH(r,s,28)^me.rotrBH(r,s,34)^me.rotrBH(r,s,39),M=me.rotrSL(r,s,28)^me.rotrBL(r,s,34)^me.rotrBL(r,s,39),k=r&i^r&a^i&a,Be=s&o^s&l^o&l;_=v|0,E=T|0,v=g|0,T=w|0,g=d|0,w=f|0,{h:d,l:f}=me.add(c|0,h|0,P|0,C|0),c=a|0,h=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const Q=me.add3L(C,M,Be);r=me.add3H(Q,P,O,k),s=Q|0}({h:r,l:s}=me.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=me.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=me.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:h}=me.add(this.Dh|0,this.Dl|0,c|0,h|0),{h:d,l:f}=me.add(this.Eh|0,this.El|0,d|0,f|0),{h:g,l:w}=me.add(this.Fh|0,this.Fl|0,g|0,w|0),{h:v,l:T}=me.add(this.Gh|0,this.Gl|0,v|0,T|0),{h:_,l:E}=me.add(this.Hh|0,this.Hl|0,_|0,E|0),this.set(r,s,i,o,a,l,c,h,d,f,g,w,v,T,_,E)}roundClean(){Mi.fill(0),Fi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const zq=h2(()=>new jq);function Hq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const nP=Hq();nP.crypto||nP.msCrypto;function Gq(t){switch(t){case"sha256":return TO.create();case"sha512":return zq.create()}F(!1,"invalid hashing algorithm name","algorithm",t)}const[kO,NO,OO]=[[],[],[]],$q=BigInt(0),bh=BigInt(1),Wq=BigInt(2),Kq=BigInt(7),Qq=BigInt(256),qq=BigInt(113);for(let t=0,e=bh,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],kO.push(2*(5*r+n)),NO.push((t+1)*(t+2)/2%64);let s=$q;for(let i=0;i<7;i++)e=(e<<bh^(e>>Kq)*qq)%Qq,e&Wq&&(s^=bh<<(bh<<BigInt(i))-bh);OO.push(s)}const[Jq,Yq]=IO(OO,!0),rP=(t,e,n)=>n>32?CO(t,e,n):SO(t,e,n),sP=(t,e,n)=>n>32?RO(t,e,n):PO(t,e,n);function Xq(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=n[l],h=n[l+1],d=rP(c,h,1)^n[a],f=sP(c,h,1)^n[a+1];for(let g=0;g<50;g+=10)t[o+g]^=d,t[o+g+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=NO[o],l=rP(s,i,a),c=sP(s,i,a),h=kO[o];s=t[h],i=t[h+1],t[h]=l,t[h+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=Jq[r],t[1]^=Yq[r]}n.fill(0)}class d2 extends u2{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Lg(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=fq(this.state)}keccak(){Xq(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Cu(this);const{blockLen:n,state:r}=this;e=q0(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Cu(this,!1),c2(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Lg(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wO(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new d2(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Zq=(t,e,n)=>h2(()=>new d2(e,t,n)),eJ=Zq(1,136,256/8);let DO=!1;const LO=function(t){return eJ(t)};let VO=LO;function _t(t){const e=we(t,"data");return Z(VO(e))}_t._=LO;_t.lock=function(){DO=!0};_t.register=function(t){if(DO)throw new TypeError("keccak256 is locked");VO=t};Object.freeze(_t);const MO=function(t){return Gq("sha256").update(t).digest()};let FO=MO,BO=!1;function Ju(t){const e=we(t,"data");return Z(FO(e))}Ju._=MO;Ju.lock=function(){BO=!0};Ju.register=function(t){if(BO)throw new Error("sha256 is locked");FO=t};Object.freeze(Ju);Object.freeze(Ju);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UO=BigInt(0),J0=BigInt(1),tJ=BigInt(2),Y0=t=>t instanceof Uint8Array,nJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ru(t){if(!Y0(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=nJ[t[n]];return e}function jO(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function f2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ku(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const s=r*2,i=t.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function tl(t){return f2(Ru(t))}function p2(t){if(!Y0(t))throw new Error("Uint8Array expected");return f2(Ru(Uint8Array.from(t).reverse()))}function Nu(t,e){return ku(t.toString(16).padStart(e*2,"0"))}function m2(t,e){return Nu(t,e).reverse()}function rJ(t){return ku(jO(t))}function Dr(t,e,n){let r;if(typeof e=="string")try{r=ku(e)}catch(i){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${i}`)}else if(Y0(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return r}function Jd(...t){const e=new Uint8Array(t.reduce((r,s)=>r+s.length,0));let n=0;return t.forEach(r=>{if(!Y0(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function sJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function iJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function oJ(t){let e;for(e=0;t>UO;t>>=J0,e+=1);return e}function aJ(t,e){return t>>BigInt(e)&J0}const lJ=(t,e,n)=>t|(n?J0:UO)<<BigInt(e),g2=t=>(tJ<<BigInt(t-1))-J0,kv=t=>new Uint8Array(t),iP=t=>Uint8Array.from(t);function zO(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=kv(t),s=kv(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),l=(d=kv())=>{s=a(iP([0]),d),r=a(),d.length!==0&&(s=a(iP([1]),d),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const g=r.slice();f.push(g),d+=r.length}return Jd(...f)};return(d,f)=>{o(),l(d);let g;for(;!(g=f(c()));)l();return o(),g}}const cJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Kf(t,e,n={}){const r=(s,i,o)=>{const a=cJ[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=t[s];if(!(o&&l===void 0)&&!a(l,t))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}const uJ=Object.freeze(Object.defineProperty({__proto__:null,bitGet:aJ,bitLen:oJ,bitMask:g2,bitSet:lJ,bytesToHex:Ru,bytesToNumberBE:tl,bytesToNumberLE:p2,concatBytes:Jd,createHmacDrbg:zO,ensureBytes:Dr,equalBytes:sJ,hexToBytes:ku,hexToNumber:f2,numberToBytesBE:Nu,numberToBytesLE:m2,numberToHexUnpadded:jO,numberToVarBytesBE:rJ,utf8ToBytes:iJ,validateObject:Kf},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Dt=BigInt(0),pt=BigInt(1),ma=BigInt(2),hJ=BigInt(3),z1=BigInt(4),oP=BigInt(5),aP=BigInt(8);BigInt(9);BigInt(16);function Nn(t,e){const n=t%e;return n>=Dt?n:e+n}function dJ(t,e,n){if(n<=Dt||e<Dt)throw new Error("Expected power/modulo > 0");if(n===pt)return Dt;let r=pt;for(;e>Dt;)e&pt&&(r=r*t%n),t=t*t%n,e>>=pt;return r}function cr(t,e,n){let r=t;for(;e-- >Dt;)r*=r,r%=n;return r}function H1(t,e){if(t===Dt||e<=Dt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Nn(t,e),r=e,s=Dt,i=pt;for(;n!==Dt;){const a=r/n,l=r%n,c=s-i*a;r=n,n=l,s=i,i=c}if(r!==pt)throw new Error("invert: does not exist");return Nn(s,e)}function fJ(t){const e=(t-pt)/ma;let n,r,s;for(n=t-pt,r=0;n%ma===Dt;n/=ma,r++);for(s=ma;s<t&&dJ(s,e,t)!==t-pt;s++);if(r===1){const o=(t+pt)/z1;return function(l,c){const h=l.pow(c,o);if(!l.eql(l.sqr(h),c))throw new Error("Cannot find square root");return h}}const i=(n+pt)/ma;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,h=a.pow(a.mul(a.ONE,s),n),d=a.pow(l,i),f=a.pow(l,n);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let g=1;for(let v=a.sqr(f);g<c&&!a.eql(v,a.ONE);g++)v=a.sqr(v);const w=a.pow(h,pt<<BigInt(c-g-1));h=a.sqr(w),d=a.mul(d,w),f=a.mul(f,h),c=g}return d}}function pJ(t){if(t%z1===hJ){const e=(t+pt)/z1;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(t%aP===oP){const e=(t-oP)/aP;return function(r,s){const i=r.mul(s,ma),o=r.pow(i,e),a=r.mul(s,o),l=r.mul(r.mul(a,ma),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),s))throw new Error("Cannot find square root");return c}}return fJ(t)}const mJ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gJ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=mJ.reduce((r,s)=>(r[s]="function",r),e);return Kf(t,n)}function yJ(t,e,n){if(n<Dt)throw new Error("Expected power > 0");if(n===Dt)return t.ONE;if(n===pt)return e;let r=t.ONE,s=e;for(;n>Dt;)n&pt&&(r=t.mul(r,s)),s=t.sqr(s),n>>=pt;return r}function vJ(t,e){const n=new Array(e.length),r=e.reduce((i,o,a)=>t.is0(o)?i:(n[a]=i,t.mul(i,o)),t.ONE),s=t.inv(r);return e.reduceRight((i,o,a)=>t.is0(o)?i:(n[a]=t.mul(i,n[a]),t.mul(i,o)),s),n}function HO(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wJ(t,e,n=!1,r={}){if(t<=Dt)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:i}=HO(t,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=pJ(t),a=Object.freeze({ORDER:t,BITS:s,BYTES:i,MASK:g2(s),ZERO:Dt,ONE:pt,create:l=>Nn(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Dt<=l&&l<t},is0:l=>l===Dt,isOdd:l=>(l&pt)===pt,neg:l=>Nn(-l,t),eql:(l,c)=>l===c,sqr:l=>Nn(l*l,t),add:(l,c)=>Nn(l+c,t),sub:(l,c)=>Nn(l-c,t),mul:(l,c)=>Nn(l*c,t),pow:(l,c)=>yJ(a,l,c),div:(l,c)=>Nn(l*H1(c,t),t),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>H1(l,t),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>vJ(a,l),cmov:(l,c,h)=>h?c:l,toBytes:l=>n?m2(l,i):Nu(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return n?p2(l):tl(l)}});return Object.freeze(a)}function GO(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $O(t){const e=GO(t);return e+Math.ceil(e/2)}function _J(t,e,n=!1){const r=t.length,s=GO(e),i=$O(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=n?tl(t):p2(t),a=Nn(o,e-pt)+pt;return n?m2(a,s):Nu(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EJ=BigInt(0),Nv=BigInt(1);function AJ(t,e){const n=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:n,unsafeLadder(s,i){let o=t.ZERO,a=s;for(;i>EJ;)i&Nv&&(o=o.add(a)),a=a.double(),i>>=Nv;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),l=[];let c=s,h=c;for(let d=0;d<o;d++){h=c,l.push(h);for(let f=1;f<a;f++)h=h.add(c),l.push(h);c=h.double()}return l},wNAF(s,i,o){const{windows:a,windowSize:l}=r(s);let c=t.ZERO,h=t.BASE;const d=BigInt(2**s-1),f=2**s,g=BigInt(s);for(let w=0;w<a;w++){const v=w*l;let T=Number(o&d);o>>=g,T>l&&(T-=f,o+=Nv);const _=v,E=v+Math.abs(T)-1,A=w%2!==0,N=T<0;T===0?h=h.add(n(A,i[_])):c=c.add(n(N,i[E]))}return{p:c,f:h}},wNAFCached(s,i,o,a){const l=s._WINDOW_SIZE||1;let c=i.get(s);return c||(c=this.precomputeWindow(s,l),l!==1&&i.set(s,a(c))),this.wNAF(l,c,o)}}}function WO(t){return gJ(t.Fp),Kf(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...HO(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xJ(t){const e=WO(t);Kf(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:TJ,hexToBytes:bJ}=uJ,ba={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=ba;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:TJ(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=ba,n=typeof t=="string"?bJ(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ba._parseInt(n.subarray(2)),{d:o,l:a}=ba._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(t){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,n=c=>{const h=c.toString(16);return h.length&1?`0${h}`:h},r=e(n(t.s)),s=e(n(t.r)),i=r.length/2,o=s.length/2,a=n(i),l=n(o);return`30${n(o+i+4)}02${l}${s}02${a}${r}`}},ei=BigInt(0),vr=BigInt(1);BigInt(2);const lP=BigInt(3);BigInt(4);function IJ(t){const e=xJ(t),{Fp:n}=e,r=e.toBytes||((w,v,T)=>{const _=v.toAffine();return Jd(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(w=>{const v=w.subarray(1),T=n.fromBytes(v.subarray(0,n.BYTES)),_=n.fromBytes(v.subarray(n.BYTES,2*n.BYTES));return{x:T,y:_}});function i(w){const{a:v,b:T}=e,_=n.sqr(w),E=n.mul(_,w);return n.add(n.add(E,n.mul(w,v)),T)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(w){return typeof w=="bigint"&&ei<w&&w<e.n}function a(w){if(!o(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(w){const{allowedPrivateKeyLengths:v,nByteLength:T,wrapPrivateKey:_,n:E}=e;if(v&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=Ru(w)),typeof w!="string"||!v.includes(w.length))throw new Error("Invalid key");w=w.padStart(T*2,"0")}let A;try{A=typeof w=="bigint"?w:tl(Dr("private key",w,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof w}`)}return _&&(A=Nn(A,E)),a(A),A}const c=new Map;function h(w){if(!(w instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(v,T,_){if(this.px=v,this.py=T,this.pz=_,v==null||!n.isValid(v))throw new Error("x required");if(T==null||!n.isValid(T))throw new Error("y required");if(_==null||!n.isValid(_))throw new Error("z required")}static fromAffine(v){const{x:T,y:_}=v||{};if(!v||!n.isValid(T)||!n.isValid(_))throw new Error("invalid affine point");if(v instanceof d)throw new Error("projective point not allowed");const E=A=>n.eql(A,n.ZERO);return E(T)&&E(_)?d.ZERO:new d(T,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(v){const T=n.invertBatch(v.map(_=>_.pz));return v.map((_,E)=>_.toAffine(T[E])).map(d.fromAffine)}static fromHex(v){const T=d.fromAffine(s(Dr("pointHex",v)));return T.assertValidity(),T}static fromPrivateKey(v){return d.BASE.multiply(l(v))}_setWindowSize(v){this._WINDOW_SIZE=v,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:v,y:T}=this.toAffine();if(!n.isValid(v)||!n.isValid(T))throw new Error("bad point: x or y not FE");const _=n.sqr(T),E=i(v);if(!n.eql(_,E))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:v}=this.toAffine();if(n.isOdd)return!n.isOdd(v);throw new Error("Field doesn't support isOdd")}equals(v){h(v);const{px:T,py:_,pz:E}=this,{px:A,py:N,pz:D}=v,V=n.eql(n.mul(T,D),n.mul(A,E)),I=n.eql(n.mul(_,D),n.mul(N,E));return V&&I}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:v,b:T}=e,_=n.mul(T,lP),{px:E,py:A,pz:N}=this;let D=n.ZERO,V=n.ZERO,I=n.ZERO,x=n.mul(E,E),P=n.mul(A,A),C=n.mul(N,N),O=n.mul(E,A);return O=n.add(O,O),I=n.mul(E,N),I=n.add(I,I),D=n.mul(v,I),V=n.mul(_,C),V=n.add(D,V),D=n.sub(P,V),V=n.add(P,V),V=n.mul(D,V),D=n.mul(O,D),I=n.mul(_,I),C=n.mul(v,C),O=n.sub(x,C),O=n.mul(v,O),O=n.add(O,I),I=n.add(x,x),x=n.add(I,x),x=n.add(x,C),x=n.mul(x,O),V=n.add(V,x),C=n.mul(A,N),C=n.add(C,C),x=n.mul(C,O),D=n.sub(D,x),I=n.mul(C,P),I=n.add(I,I),I=n.add(I,I),new d(D,V,I)}add(v){h(v);const{px:T,py:_,pz:E}=this,{px:A,py:N,pz:D}=v;let V=n.ZERO,I=n.ZERO,x=n.ZERO;const P=e.a,C=n.mul(e.b,lP);let O=n.mul(T,A),M=n.mul(_,N),k=n.mul(E,D),Be=n.add(T,_),Q=n.add(A,N);Be=n.mul(Be,Q),Q=n.add(O,M),Be=n.sub(Be,Q),Q=n.add(T,E);let te=n.add(A,D);return Q=n.mul(Q,te),te=n.add(O,k),Q=n.sub(Q,te),te=n.add(_,E),V=n.add(N,D),te=n.mul(te,V),V=n.add(M,k),te=n.sub(te,V),x=n.mul(P,Q),V=n.mul(C,k),x=n.add(V,x),V=n.sub(M,x),x=n.add(M,x),I=n.mul(V,x),M=n.add(O,O),M=n.add(M,O),k=n.mul(P,k),Q=n.mul(C,Q),M=n.add(M,k),k=n.sub(O,k),k=n.mul(P,k),Q=n.add(Q,k),O=n.mul(M,Q),I=n.add(I,O),O=n.mul(te,Q),V=n.mul(Be,V),V=n.sub(V,O),O=n.mul(Be,M),x=n.mul(te,x),x=n.add(x,O),new d(V,I,x)}subtract(v){return this.add(v.negate())}is0(){return this.equals(d.ZERO)}wNAF(v){return g.wNAFCached(this,c,v,T=>{const _=n.invertBatch(T.map(E=>E.pz));return T.map((E,A)=>E.toAffine(_[A])).map(d.fromAffine)})}multiplyUnsafe(v){const T=d.ZERO;if(v===ei)return T;if(a(v),v===vr)return this;const{endo:_}=e;if(!_)return g.unsafeLadder(this,v);let{k1neg:E,k1:A,k2neg:N,k2:D}=_.splitScalar(v),V=T,I=T,x=this;for(;A>ei||D>ei;)A&vr&&(V=V.add(x)),D&vr&&(I=I.add(x)),x=x.double(),A>>=vr,D>>=vr;return E&&(V=V.negate()),N&&(I=I.negate()),I=new d(n.mul(I.px,_.beta),I.py,I.pz),V.add(I)}multiply(v){a(v);let T=v,_,E;const{endo:A}=e;if(A){const{k1neg:N,k1:D,k2neg:V,k2:I}=A.splitScalar(T);let{p:x,f:P}=this.wNAF(D),{p:C,f:O}=this.wNAF(I);x=g.constTimeNegate(N,x),C=g.constTimeNegate(V,C),C=new d(n.mul(C.px,A.beta),C.py,C.pz),_=x.add(C),E=P.add(O)}else{const{p:N,f:D}=this.wNAF(T);_=N,E=D}return d.normalizeZ([_,E])[0]}multiplyAndAddUnsafe(v,T,_){const E=d.BASE,A=(D,V)=>V===ei||V===vr||!D.equals(E)?D.multiplyUnsafe(V):D.multiply(V),N=A(this,T).add(A(v,_));return N.is0()?void 0:N}toAffine(v){const{px:T,py:_,pz:E}=this,A=this.is0();v==null&&(v=A?n.ONE:n.inv(E));const N=n.mul(T,v),D=n.mul(_,v),V=n.mul(E,v);if(A)return{x:n.ZERO,y:n.ZERO};if(!n.eql(V,n.ONE))throw new Error("invZ was invalid");return{x:N,y:D}}isTorsionFree(){const{h:v,isTorsionFree:T}=e;if(v===vr)return!0;if(T)return T(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:v,clearCofactor:T}=e;return v===vr?this:T?T(d,this):this.multiplyUnsafe(e.h)}toRawBytes(v=!0){return this.assertValidity(),r(d,this,v)}toHex(v=!0){return Ru(this.toRawBytes(v))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,g=AJ(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function SJ(t){const e=WO(t);return Kf(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function PJ(t){const e=SJ(t),{Fp:n,n:r}=e,s=n.BYTES+1,i=2*n.BYTES+1;function o(Q){return ei<Q&&Q<n.ORDER}function a(Q){return Nn(Q,r)}function l(Q){return H1(Q,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:h,weierstrassEquation:d,isWithinCurveOrder:f}=IJ({...e,toBytes(Q,te,ie){const $=te.toAffine(),q=n.toBytes($.x),ne=Jd;return ie?ne(Uint8Array.from([te.hasEvenY()?2:3]),q):ne(Uint8Array.from([4]),q,n.toBytes($.y))},fromBytes(Q){const te=Q.length,ie=Q[0],$=Q.subarray(1);if(te===s&&(ie===2||ie===3)){const q=tl($);if(!o(q))throw new Error("Point is not on curve");const ne=d(q);let ge=n.sqrt(ne);const pe=(ge&vr)===vr;return(ie&1)===1!==pe&&(ge=n.neg(ge)),{x:q,y:ge}}else if(te===i&&ie===4){const q=n.fromBytes($.subarray(0,n.BYTES)),ne=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:q,y:ne}}else throw new Error(`Point of length ${te} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),g=Q=>Ru(Nu(Q,e.nByteLength));function w(Q){const te=r>>vr;return Q>te}function v(Q){return w(Q)?a(-Q):Q}const T=(Q,te,ie)=>tl(Q.slice(te,ie));class _{constructor(te,ie,$){this.r=te,this.s=ie,this.recovery=$,this.assertValidity()}static fromCompact(te){const ie=e.nByteLength;return te=Dr("compactSignature",te,ie*2),new _(T(te,0,ie),T(te,ie,2*ie))}static fromDER(te){const{r:ie,s:$}=ba.toSig(Dr("DER",te));return new _(ie,$)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(te){return new _(this.r,this.s,te)}recoverPublicKey(te){const{r:ie,s:$,recovery:q}=this,ne=I(Dr("msgHash",te));if(q==null||![0,1,2,3].includes(q))throw new Error("recovery id invalid");const ge=q===2||q===3?ie+e.n:ie;if(ge>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const pe=q&1?"03":"02",Oe=c.fromHex(pe+g(ge)),St=l(ge),Qt=a(-ne*St),dn=a($*St),Pt=c.BASE.multiplyAndAddUnsafe(Oe,Qt,dn);if(!Pt)throw new Error("point at infinify");return Pt.assertValidity(),Pt}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new _(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ku(this.toDERHex())}toDERHex(){return ba.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ku(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const E={isValidPrivateKey(Q){try{return h(Q),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const Q=$O(e.n);return _J(e.randomBytes(Q),e.n)},precompute(Q=8,te=c.BASE){return te._setWindowSize(Q),te.multiply(BigInt(3)),te}};function A(Q,te=!0){return c.fromPrivateKey(Q).toRawBytes(te)}function N(Q){const te=Q instanceof Uint8Array,ie=typeof Q=="string",$=(te||ie)&&Q.length;return te?$===s||$===i:ie?$===2*s||$===2*i:Q instanceof c}function D(Q,te,ie=!0){if(N(Q))throw new Error("first arg must be private key");if(!N(te))throw new Error("second arg must be public key");return c.fromHex(te).multiply(h(Q)).toRawBytes(ie)}const V=e.bits2int||function(Q){const te=tl(Q),ie=Q.length*8-e.nBitLength;return ie>0?te>>BigInt(ie):te},I=e.bits2int_modN||function(Q){return a(V(Q))},x=g2(e.nBitLength);function P(Q){if(typeof Q!="bigint")throw new Error("bigint expected");if(!(ei<=Q&&Q<x))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Nu(Q,e.nByteLength)}function C(Q,te,ie=O){if(["recovered","canonical"].some(Ds=>Ds in ie))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:q}=e;let{lowS:ne,prehash:ge,extraEntropy:pe}=ie;ne==null&&(ne=!0),Q=Dr("msgHash",Q),ge&&(Q=Dr("prehashed msgHash",$(Q)));const Oe=I(Q),St=h(te),Qt=[P(St),P(Oe)];if(pe!=null){const Ds=pe===!0?q(n.BYTES):pe;Qt.push(Dr("extraEntropy",Ds))}const dn=Jd(...Qt),Pt=Oe;function Xu(Ds){const Pr=V(Ds);if(!f(Pr))return;const na=l(Pr),Zr=c.BASE.multiply(Pr).toAffine(),fn=a(Zr.x);if(fn===ei)return;const es=a(na*a(Pt+fn*St));if(es===ei)return;let Rl=(Zr.x===fn?0:2)|Number(Zr.y&vr),Zu=es;return ne&&w(es)&&(Zu=v(es),Rl^=1),new _(fn,Zu,Rl)}return{seed:dn,k2sig:Xu}}const O={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function k(Q,te,ie=O){const{seed:$,k2sig:q}=C(Q,te,ie),ne=e;return zO(ne.hash.outputLen,ne.nByteLength,ne.hmac)($,q)}c.BASE._setWindowSize(8);function Be(Q,te,ie,$=M){var Zr;const q=Q;if(te=Dr("msgHash",te),ie=Dr("publicKey",ie),"strict"in $)throw new Error("options.strict was renamed to lowS");const{lowS:ne,prehash:ge}=$;let pe,Oe;try{if(typeof q=="string"||q instanceof Uint8Array)try{pe=_.fromDER(q)}catch(fn){if(!(fn instanceof ba.Err))throw fn;pe=_.fromCompact(q)}else if(typeof q=="object"&&typeof q.r=="bigint"&&typeof q.s=="bigint"){const{r:fn,s:es}=q;pe=new _(fn,es)}else throw new Error("PARSE");Oe=c.fromHex(ie)}catch(fn){if(fn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ne&&pe.hasHighS())return!1;ge&&(te=e.hash(te));const{r:St,s:Qt}=pe,dn=I(te),Pt=l(Qt),Xu=a(dn*Pt),Ds=a(St*Pt),Pr=(Zr=c.BASE.multiplyAndAddUnsafe(Oe,Xu,Ds))==null?void 0:Zr.toAffine();return Pr?a(Pr.x)===St:!1}return{CURVE:e,getPublicKey:A,getSharedSecret:D,sign:k,verify:Be,ProjectivePoint:c,Signature:_,utils:E}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CJ(t){return{hash:t,hmac:(e,...n)=>AO(t,e,gq(...n)),randomBytes:yq}}function RJ(t,e){const n=r=>PJ({...t,...CJ(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const KO=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),cP=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),kJ=BigInt(1),G1=BigInt(2),uP=(t,e)=>(t+e/G1)/e;function NJ(t){const e=KO,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,h=c*c*t%e,d=cr(h,n,e)*h%e,f=cr(d,n,e)*h%e,g=cr(f,G1,e)*c%e,w=cr(g,s,e)*g%e,v=cr(w,i,e)*w%e,T=cr(v,a,e)*v%e,_=cr(T,l,e)*T%e,E=cr(_,a,e)*v%e,A=cr(E,n,e)*h%e,N=cr(A,o,e)*w%e,D=cr(N,r,e)*c%e,V=cr(D,G1,e);if(!$1.eql($1.sqr(V),t))throw new Error("Cannot find square root");return V}const $1=wJ(KO,void 0,void 0,{sqrt:NJ}),Ui=RJ({a:BigInt(0),b:BigInt(7),Fp:$1,n:cP,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=cP,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-kJ*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=uP(i*t,e),l=uP(-r*t,e);let c=Nn(t-a*n-l*s,e),h=Nn(-a*r-l*i,e);const d=c>o,f=h>o;if(d&&(c=e-c),f&&(h=e-h),c>o||h>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:c,k2neg:f,k2:h}}}},TO);BigInt(0);Ui.ProjectivePoint;const Yd="0x0000000000000000000000000000000000000000",hP="0x0000000000000000000000000000000000000000000000000000000000000000",dP=BigInt(0),fP=BigInt(1),pP=BigInt(2),mP=BigInt(27),gP=BigInt(28),Wp=BigInt(35),Vl={};function yP(t){return Ai(Tt(t),32)}var Vc,as,Mc,Ma;const Nr=class Nr{constructor(e,n,r,s){j(this,Vc);j(this,as);j(this,Mc);j(this,Ma);W0(e,Vl,"Signature"),R(this,Vc,n),R(this,as,r),R(this,Mc,s),R(this,Ma,null)}get r(){return b(this,Vc)}set r(e){F(bc(e)===32,"invalid r","value",e),R(this,Vc,Z(e))}get s(){return F(parseInt(b(this,as).substring(0,3))<8,"non-canonical s; use ._s","s",b(this,as)),b(this,as)}set s(e){F(bc(e)===32,"invalid s","value",e),R(this,as,Z(e))}get _s(){return b(this,as)}isValid(){return parseInt(b(this,as).substring(0,3))<8}get v(){return b(this,Mc)}set v(e){const n=_e(e,"value");F(n===27||n===28,"invalid v","v",e),R(this,Mc,n)}get networkV(){return b(this,Ma)}get legacyChainId(){const e=this.networkV;return e==null?null:Nr.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=we(this.s);return this.yParity&&(e[0]|=128),Z(e)}get compactSerialized(){return at([this.r,this.yParityAndS])}get serialized(){return at([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this._s}"${this.isValid()?"":', valid: "false"'}, yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Nr(Vl,this.r,this._s,this.v);return this.networkV&&R(e,Ma,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this._s,v:this.v}}static getChainId(e){const n=oe(e,"v");return n==mP||n==gP?dP:(F(n>=Wp,"invalid EIP-155 v","v",e),(n-Wp)/pP)}static getChainIdV(e,n){return oe(e)*pP+BigInt(35+n-27)}static getNormalizedV(e){const n=oe(e);return n===dP||n===mP?27:n===fP||n===gP?28:(F(n>=Wp,"invalid v","v",e),n&fP?27:28)}static from(e){function n(c,h){F(c,h,"signature",e)}if(e==null)return new Nr(Vl,hP,hP,27);if(typeof e=="string"){const c=we(e,"signature");if(c.length===64){const h=Z(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new Nr(Vl,h,Z(d),f)}if(c.length===65){const h=Z(c.slice(0,32)),d=Z(c.slice(32,64)),f=Nr.getNormalizedV(c[64]);return new Nr(Vl,h,d,f)}n(!1,"invalid raw signature length")}if(e instanceof Nr)return e.clone();const r=e.r;n(r!=null,"missing r");const s=yP(r),i=function(c,h){if(c!=null)return yP(c);if(h!=null){n(je(h,32),"invalid yParityAndS");const d=we(h);return d[0]&=127,Z(d)}n(!1,"missing s")}(e.s,e.yParityAndS),{networkV:o,v:a}=function(c,h,d){if(c!=null){const f=oe(c);return{networkV:f>=Wp?f:void 0,v:Nr.getNormalizedV(f)}}if(h!=null)return n(je(h,32),"invalid yParityAndS"),{v:we(h)[0]&128?28:27};if(d!=null){switch(_e(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Nr(Vl,s,i,a);return o&&R(l,Ma,o),n(e.yParity==null||_e(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};Vc=new WeakMap,as=new WeakMap,Mc=new WeakMap,Ma=new WeakMap;let zn=Nr;var $s;const ga=class ga{constructor(e){j(this,$s);F(bc(e)===32,"invalid private key","privateKey","[REDACTED]"),R(this,$s,Z(e))}get privateKey(){return b(this,$s)}get publicKey(){return ga.computePublicKey(b(this,$s))}get compressedPublicKey(){return ga.computePublicKey(b(this,$s),!0)}sign(e){F(bc(e)===32,"invalid digest length","digest",e);const n=Ui.sign(En(e),En(b(this,$s)),{lowS:!0});return zn.from({r:$o(n.r,32),s:$o(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=ga.computePublicKey(e);return Z(Ui.getSharedSecret(En(b(this,$s)),we(n),!1))}static computePublicKey(e,n){let r=we(e,"key");if(r.length===32){const i=Ui.getPublicKey(r,!!n);return Z(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=Ui.ProjectivePoint.fromHex(r);return Z(s.toRawBytes(n))}static recoverPublicKey(e,n){F(bc(e)===32,"invalid digest length","digest",e);const r=zn.from(n);let s=Ui.Signature.fromCompact(En(at([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(En(e));return F(i!=null,"invalid signature for digest","signature",n),"0x"+i.toHex(!1)}static addPoints(e,n,r){const s=Ui.ProjectivePoint.fromHex(ga.computePublicKey(e).substring(2)),i=Ui.ProjectivePoint.fromHex(ga.computePublicKey(n).substring(2));return"0x"+s.add(i).toHex(!!r)}};$s=new WeakMap;let Xd=ga;const OJ=BigInt(0),DJ=BigInt(36);function vP(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=we(_t(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const y2={};for(let t=0;t<10;t++)y2[String(t)]=String(t);for(let t=0;t<26;t++)y2[String.fromCharCode(65+t)]=String(10+t);const wP=15;function LJ(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>y2[r]).join("");for(;e.length>=wP;){let r=e.substring(0,wP);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const VJ=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function MJ(t){t=t.toLowerCase();let e=OJ;for(let n=0;n<t.length;n++)e=e*DJ+VJ[t[n]];return e}function De(t){if(F(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=vP(t);return F(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){F(t.substring(2,4)===LJ(t),"bad icap checksum","address",t);let e=MJ(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return vP("0x"+e)}F(!1,"invalid address","address",t)}function FJ(t){const e=De(t.from);let r=oe(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,De(it(_t(Wo([e,r])),12))}function QO(t){return t&&typeof t.getAddress=="function"}async function Ov(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(W(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),F(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),De(n)}function Tn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?De(t):(W(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Ov(t,e.resolveName(t)));if(QO(t))return Ov(t,t.getAddress());if(t&&typeof t.then=="function")return Ov(t,t);F(!1,"unsupported addressable value","target",t)}const Fs={};function re(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new cn(Fs,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function Ne(t,e){return new cn(Fs,`bytes${e||""}`,t,{size:e})}const _P=Symbol.for("_ethers_typed");var Fa;const Bs=class Bs{constructor(e,n,r,s){U(this,"type");U(this,"value");j(this,Fa);U(this,"_typedSymbol");s==null&&(s=null),W0(Fs,e,"Typed"),ce(this,{_typedSymbol:_P,type:n,value:r}),R(this,Fa,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return b(this,Fa)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return b(this,Fa)===!0?-1:b(this,Fa)===!1?this.value.length:null}static from(e,n){return new Bs(Fs,e,n)}static uint8(e){return re(e,8)}static uint16(e){return re(e,16)}static uint24(e){return re(e,24)}static uint32(e){return re(e,32)}static uint40(e){return re(e,40)}static uint48(e){return re(e,48)}static uint56(e){return re(e,56)}static uint64(e){return re(e,64)}static uint72(e){return re(e,72)}static uint80(e){return re(e,80)}static uint88(e){return re(e,88)}static uint96(e){return re(e,96)}static uint104(e){return re(e,104)}static uint112(e){return re(e,112)}static uint120(e){return re(e,120)}static uint128(e){return re(e,128)}static uint136(e){return re(e,136)}static uint144(e){return re(e,144)}static uint152(e){return re(e,152)}static uint160(e){return re(e,160)}static uint168(e){return re(e,168)}static uint176(e){return re(e,176)}static uint184(e){return re(e,184)}static uint192(e){return re(e,192)}static uint200(e){return re(e,200)}static uint208(e){return re(e,208)}static uint216(e){return re(e,216)}static uint224(e){return re(e,224)}static uint232(e){return re(e,232)}static uint240(e){return re(e,240)}static uint248(e){return re(e,248)}static uint256(e){return re(e,256)}static uint(e){return re(e,256)}static int8(e){return re(e,-8)}static int16(e){return re(e,-16)}static int24(e){return re(e,-24)}static int32(e){return re(e,-32)}static int40(e){return re(e,-40)}static int48(e){return re(e,-48)}static int56(e){return re(e,-56)}static int64(e){return re(e,-64)}static int72(e){return re(e,-72)}static int80(e){return re(e,-80)}static int88(e){return re(e,-88)}static int96(e){return re(e,-96)}static int104(e){return re(e,-104)}static int112(e){return re(e,-112)}static int120(e){return re(e,-120)}static int128(e){return re(e,-128)}static int136(e){return re(e,-136)}static int144(e){return re(e,-144)}static int152(e){return re(e,-152)}static int160(e){return re(e,-160)}static int168(e){return re(e,-168)}static int176(e){return re(e,-176)}static int184(e){return re(e,-184)}static int192(e){return re(e,-192)}static int200(e){return re(e,-200)}static int208(e){return re(e,-208)}static int216(e){return re(e,-216)}static int224(e){return re(e,-224)}static int232(e){return re(e,-232)}static int240(e){return re(e,-240)}static int248(e){return re(e,-248)}static int256(e){return re(e,-256)}static int(e){return re(e,-256)}static bytes1(e){return Ne(e,1)}static bytes2(e){return Ne(e,2)}static bytes3(e){return Ne(e,3)}static bytes4(e){return Ne(e,4)}static bytes5(e){return Ne(e,5)}static bytes6(e){return Ne(e,6)}static bytes7(e){return Ne(e,7)}static bytes8(e){return Ne(e,8)}static bytes9(e){return Ne(e,9)}static bytes10(e){return Ne(e,10)}static bytes11(e){return Ne(e,11)}static bytes12(e){return Ne(e,12)}static bytes13(e){return Ne(e,13)}static bytes14(e){return Ne(e,14)}static bytes15(e){return Ne(e,15)}static bytes16(e){return Ne(e,16)}static bytes17(e){return Ne(e,17)}static bytes18(e){return Ne(e,18)}static bytes19(e){return Ne(e,19)}static bytes20(e){return Ne(e,20)}static bytes21(e){return Ne(e,21)}static bytes22(e){return Ne(e,22)}static bytes23(e){return Ne(e,23)}static bytes24(e){return Ne(e,24)}static bytes25(e){return Ne(e,25)}static bytes26(e){return Ne(e,26)}static bytes27(e){return Ne(e,27)}static bytes28(e){return Ne(e,28)}static bytes29(e){return Ne(e,29)}static bytes30(e){return Ne(e,30)}static bytes31(e){return Ne(e,31)}static bytes32(e){return Ne(e,32)}static address(e){return new Bs(Fs,"address",e)}static bool(e){return new Bs(Fs,"bool",!!e)}static bytes(e){return new Bs(Fs,"bytes",e)}static string(e){return new Bs(Fs,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Bs(Fs,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===_P}static dereference(e,n){if(Bs.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Fa=new WeakMap;let cn=Bs;class BJ extends Ci{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=cn.dereference(n,"string");try{r=De(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return De($o(e.readValue(),20))}}class UJ extends Ci{constructor(n){super(n.name,n.type,"_",n.dynamic);U(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function qO(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let l={};r=e.map(c=>{const h=c.localName;return W(h,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),W(!l[h],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:n}),l[h]=!0,n[h]})}else F(!1,"invalid tuple value","tuple",n);F(e.length===r.length,"types/value length mismatch","tuple",n);let s=new F1,i=new F1,o=[];e.forEach((l,c)=>{let h=r[c];if(l.dynamic){let d=i.length;l.encode(i,h);let f=s.writeUpdatableValue();o.push(g=>{f(g+d)})}else l.encode(s,h)}),o.forEach(l=>{l(s.length)});let a=t.appendWriter(s);return a+=t.appendWriter(i),a}function JO(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=t.readIndex(),l=s.subReader(a);try{o=i.decode(l)}catch(c){if(Ht(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(t)}catch(a){if(Ht(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");n.push(o),r.push(i.localName||null)}),Pu.fromItems(n,r)}class jJ extends Ci{constructor(n,r,s){const i=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",i,s,o);U(this,"coder");U(this,"length");ce(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(n);return r}encode(n,r){const s=cn.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,n.writeValue(s.length)),iO(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return qO(n,o,s)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),W(r*xn<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*xn,length:n.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new UJ(this.coder));return JO(n,s)}}class zJ extends Ci{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=cn.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class YO extends Ci{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=En(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class HJ extends YO{constructor(e){super("bytes",e)}decode(e){return Z(super.decode(e))}}class GJ extends Ci{constructor(n,r){let s="bytes"+String(n);super(s,s,r,!1);U(this,"size");ce(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let s=En(cn.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(s)}decode(n){return Z(n.readBytes(this.size))}}const $J=new Uint8Array([]);class WJ extends Ci{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes($J)}decode(e){return e.readBytes(0),null}}const KJ=BigInt(0),QJ=BigInt(1),qJ=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class JJ extends Ci{constructor(n,r,s){const i=(r?"int":"uint")+n*8;super(i,i,s,!1);U(this,"size");U(this,"signed");ce(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let s=oe(cn.dereference(r,this.type)),i=Mh(qJ,xn*8);if(this.signed){let o=Mh(i,this.size*8-1);(s>o||s<-(o+QJ))&&this._throwError("value out-of-bounds",r),s=lO(s,8*xn)}else(s<KJ||s>Mh(i,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(s)}decode(n){let r=Mh(n.readValue(),this.size*8);return this.signed&&(r=KQ(r,this.size*8)),r}}class YJ extends YO{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,ci(cn.dereference(n,"string")))}decode(e){return Dg(super.decode(e))}}class Kp extends Ci{constructor(n,r){let s=!1;const i=[];n.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);U(this,"coders");ce(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[i]))}),Object.freeze(n)}encode(n,r){const s=cn.dereference(r,"tuple");return qO(n,this.coders,s)}decode(n){return JO(n,this.coders)}}function Dv(t,e){return{address:De(t),storageKeys:e.map((n,r)=>(F(je(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Pl(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(F(n.length===2,"invalid slot set",`value[${r}]`,n),Dv(n[0],n[1])):(F(n!=null&&typeof n=="object","invalid address-slot set","value",t),Dv(n.address,n.storageKeys)));F(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return Dv(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function XO(t){return{address:De(t.address),nonce:oe(t.nonce!=null?t.nonce:0),chainId:oe(t.chainId!=null?t.chainId:0),signature:zn.from(t.signature)}}function XJ(t){let e;return typeof t=="string"?e=Xd.computePublicKey(t,!1):e=t.publicKey,De(_t("0x"+e.substring(4)).substring(26))}function ZJ(t,e){return XJ(Xd.recoverPublicKey(t,e))}const Nt=BigInt(0),eY=BigInt(2),tY=BigInt(27),nY=BigInt(28),rY=BigInt(35),sY=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Lv=4096*32;function iY(t){return{blobToKzgCommitment:r=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return we(t.blobToKzgCommitment(Z(r)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return we(t.blobToKzgCommitment(r));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return we(t.blobToKZGCommitment(Z(r)));F(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(r,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return we(t.computeBlobProof(Z(r),Z(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(r,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return we(t.computeBlobKZGProof(Z(r),Z(s)));F(!1,"unsupported KZG library","kzg",t)}}}function EP(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Ju(e).substring(4),"0x"+n}function Yu(t){return t==="0x"?null:De(t)}function X0(t,e){try{return Pl(t)}catch(n){F(!1,n.message,e,t)}}function oY(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let r=0;r<t.length;r++){const s=t[r];if(!Array.isArray(s))throw new Error(`authorization[${r}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${r}]: wrong length`);if(!s[1])throw new Error(`authorization[${r}]: null address`);n.push({address:Yu(s[1]),nonce:Me(s[2],"nonce"),chainId:Me(s[0],"chainId"),signature:zn.from({yParity:Cl(s[3],"yParity"),r:Ai(s[4],32),s:Ai(s[5],32)})})}return n}catch(n){F(!1,n.message,e,t)}}function Cl(t,e){return t==="0x"?0:_e(t,e)}function Me(t,e){if(t==="0x")return Nt;const n=oe(t,e);return F(n<=sY,"value exceeds uint size",e,n),n}function Ie(t,e){const n=oe(t,"value"),r=Tt(n);return F(r.length<=32,"value too large",`tx.${e}`,n),r}function Z0(t){return Pl(t).map(e=>[e.address,e.storageKeys])}function aY(t){return t.map(e=>[Ie(e.chainId,"chainId"),e.address,Ie(e.nonce,"nonce"),Ie(e.signature.yParity,"yParity"),Tt(e.signature.r),Tt(e.signature.s)])}function lY(t,e){F(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)F(je(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function cY(t){const e=Wf(t);F(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Cl(e[0],"nonce"),gasPrice:Me(e[1],"gasPrice"),gasLimit:Me(e[2],"gasLimit"),to:Yu(e[3]),value:Me(e[4],"value"),data:Z(e[5]),chainId:Nt};if(e.length===6)return n;const r=Me(e[6],"v"),s=Me(e[7],"r"),i=Me(e[8],"s");if(s===Nt&&i===Nt)n.chainId=r;else{let o=(r-rY)/eY;o<Nt&&(o=Nt),n.chainId=o,F(o!==Nt||r===tY||r===nY,"non-canonical legacy v","v",e[6]),n.signature=zn.from({r:Ai(e[7],32),s:Ai(e[8],32),v:r})}return n}function uY(t,e){const n=[Ie(t.nonce,"nonce"),Ie(t.gasPrice||0,"gasPrice"),Ie(t.gasLimit,"gasLimit"),t.to||"0x",Ie(t.value,"value"),t.data];let r=Nt;if(t.chainId!=Nt)r=oe(t.chainId,"tx.chainId"),F(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const i=t.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==Nt&&(n.push(Tt(r)),n.push("0x"),n.push("0x")),Wo(n);let s=BigInt(27+e.yParity);return r!==Nt?s=zn.getChainIdV(r,e.v):BigInt(e.v)!==s&&F(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Tt(s)),n.push(Tt(e.r)),n.push(Tt(e.s)),Wo(n)}function ey(t,e){let n;try{if(n=Cl(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{F(!1,"invalid yParity","yParity",e[0])}const r=Ai(e[1],32),s=Ai(e[2],32),i=zn.from({r,s,yParity:n});t.signature=i}function hY(t){const e=Wf(we(t).slice(1));F(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Z(t));const n={type:2,chainId:Me(e[0],"chainId"),nonce:Cl(e[1],"nonce"),maxPriorityFeePerGas:Me(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Me(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Me(e[4],"gasLimit"),to:Yu(e[5]),value:Me(e[6],"value"),data:Z(e[7]),accessList:X0(e[8],"accessList")};return e.length===9||ey(n,e.slice(9)),n}function dY(t,e){const n=[Ie(t.chainId,"chainId"),Ie(t.nonce,"nonce"),Ie(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ie(t.maxFeePerGas||0,"maxFeePerGas"),Ie(t.gasLimit,"gasLimit"),t.to||"0x",Ie(t.value,"value"),t.data,Z0(t.accessList||[])];return e&&(n.push(Ie(e.yParity,"yParity")),n.push(Tt(e.r)),n.push(Tt(e.s))),at(["0x02",Wo(n)])}function fY(t){const e=Wf(we(t).slice(1));F(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Z(t));const n={type:1,chainId:Me(e[0],"chainId"),nonce:Cl(e[1],"nonce"),gasPrice:Me(e[2],"gasPrice"),gasLimit:Me(e[3],"gasLimit"),to:Yu(e[4]),value:Me(e[5],"value"),data:Z(e[6]),accessList:X0(e[7],"accessList")};return e.length===8||ey(n,e.slice(8)),n}function pY(t,e){const n=[Ie(t.chainId,"chainId"),Ie(t.nonce,"nonce"),Ie(t.gasPrice||0,"gasPrice"),Ie(t.gasLimit,"gasLimit"),t.to||"0x",Ie(t.value,"value"),t.data,Z0(t.accessList||[])];return e&&(n.push(Ie(e.yParity,"recoveryParam")),n.push(Tt(e.r)),n.push(Tt(e.s))),at(["0x01",Wo(n)])}function mY(t){let e=Wf(we(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const i=e[1],o=e[2],a=e[3];F(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),F(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),F(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),F(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),F(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:i[l],commitment:o[l],proof:a[l]});e=e[0]}F(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Z(t));const s={type:3,chainId:Me(e[0],"chainId"),nonce:Cl(e[1],"nonce"),maxPriorityFeePerGas:Me(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Me(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Me(e[4],"gasLimit"),to:Yu(e[5]),value:Me(e[6],"value"),data:Z(e[7]),accessList:X0(e[8],"accessList"),maxFeePerBlobGas:Me(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),F(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),F(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let i=0;i<s.blobVersionedHashes.length;i++)F(je(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",t);return e.length===11||ey(s,e.slice(11)),s}function gY(t,e,n){const r=[Ie(t.chainId,"chainId"),Ie(t.nonce,"nonce"),Ie(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ie(t.maxFeePerGas||0,"maxFeePerGas"),Ie(t.gasLimit,"gasLimit"),t.to||Yd,Ie(t.value,"value"),t.data,Z0(t.accessList||[]),Ie(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),lY(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(Ie(e.yParity,"yParity")),r.push(Tt(e.r)),r.push(Tt(e.s)),n)?at(["0x03",Wo([r,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):at(["0x03",Wo(r)])}function yY(t){const e=Wf(we(t).slice(1));F(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",Z(t));const n={type:4,chainId:Me(e[0],"chainId"),nonce:Cl(e[1],"nonce"),maxPriorityFeePerGas:Me(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Me(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Me(e[4],"gasLimit"),to:Yu(e[5]),value:Me(e[6],"value"),data:Z(e[7]),accessList:X0(e[8],"accessList"),authorizationList:oY(e[9],"authorizationList")};return e.length===10||ey(n,e.slice(10)),n}function vY(t,e){const n=[Ie(t.chainId,"chainId"),Ie(t.nonce,"nonce"),Ie(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Ie(t.maxFeePerGas||0,"maxFeePerGas"),Ie(t.gasLimit,"gasLimit"),t.to||"0x",Ie(t.value,"value"),t.data,Z0(t.accessList||[]),aY(t.authorizationList||[])];return e&&(n.push(Ie(e.yParity,"yParity")),n.push(Tt(e.r)),n.push(Tt(e.s))),at(["0x04",Wo(n)])}var Mr,Fc,Bc,Uc,jc,zc,Hc,Gc,$c,Wc,Kc,Qc,Ba,Xi,ls,Zi,qc,Jc,Tm;const ss=class ss{constructor(){j(this,Jc);j(this,Mr);j(this,Fc);j(this,Bc);j(this,Uc);j(this,jc);j(this,zc);j(this,Hc);j(this,Gc);j(this,$c);j(this,Wc);j(this,Kc);j(this,Qc);j(this,Ba);j(this,Xi);j(this,ls);j(this,Zi);j(this,qc);R(this,Mr,null),R(this,Fc,null),R(this,Uc,0),R(this,jc,Nt),R(this,zc,null),R(this,Hc,null),R(this,Gc,null),R(this,Bc,"0x"),R(this,$c,Nt),R(this,Wc,Nt),R(this,Kc,null),R(this,Qc,null),R(this,Ba,null),R(this,Xi,null),R(this,ls,null),R(this,Zi,null),R(this,qc,null)}get type(){return b(this,Mr)}set type(e){switch(e){case null:R(this,Mr,null);break;case 0:case"legacy":R(this,Mr,0);break;case 1:case"berlin":case"eip-2930":R(this,Mr,1);break;case 2:case"london":case"eip-1559":R(this,Mr,2);break;case 3:case"cancun":case"eip-4844":R(this,Mr,3);break;case 4:case"pectra":case"eip-7702":R(this,Mr,4);break;default:F(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=b(this,Fc);return e==null&&this.type===3?Yd:e}set to(e){R(this,Fc,e==null?null:De(e))}get nonce(){return b(this,Uc)}set nonce(e){R(this,Uc,_e(e,"value"))}get gasLimit(){return b(this,jc)}set gasLimit(e){R(this,jc,oe(e))}get gasPrice(){const e=b(this,zc);return e==null&&(this.type===0||this.type===1)?Nt:e}set gasPrice(e){R(this,zc,e==null?null:oe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=b(this,Hc);return e??(this.type===2||this.type===3?Nt:null)}set maxPriorityFeePerGas(e){R(this,Hc,e==null?null:oe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=b(this,Gc);return e??(this.type===2||this.type===3?Nt:null)}set maxFeePerGas(e){R(this,Gc,e==null?null:oe(e,"maxFeePerGas"))}get data(){return b(this,Bc)}set data(e){R(this,Bc,Z(e))}get value(){return b(this,$c)}set value(e){R(this,$c,oe(e,"value"))}get chainId(){return b(this,Wc)}set chainId(e){R(this,Wc,oe(e))}get signature(){return b(this,Kc)||null}set signature(e){R(this,Kc,e==null?null:zn.from(e))}get accessList(){const e=b(this,Qc)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){R(this,Qc,e==null?null:Pl(e))}get authorizationList(){const e=b(this,qc)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){R(this,qc,e==null?null:e.map(n=>XO(n)))}get maxFeePerBlobGas(){const e=b(this,Ba);return e==null&&this.type===3?Nt:e}set maxFeePerBlobGas(e){R(this,Ba,e==null?null:oe(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=b(this,Xi);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){F(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)F(je(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}R(this,Xi,e)}get blobs(){return b(this,Zi)==null?null:b(this,Zi).map(e=>Object.assign({},e))}set blobs(e){if(e==null){R(this,Zi,null);return}const n=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(a2(i)){W(b(this,ls),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=we(i);if(F(o.length<=Lv,"blob is too large",`blobs[${s}]`,i),o.length!==Lv){const c=new Uint8Array(Lv);c.set(o),o=c}const a=b(this,ls).blobToKzgCommitment(o),l=Z(b(this,ls).computeBlobKzgProof(o,a));n.push({data:Z(o),commitment:Z(a),proof:l}),r.push(EP(1,a))}else{const o=Z(i.commitment);n.push({data:Z(i.data),commitment:o,proof:Z(i.proof)}),r.push(EP(1,o))}}R(this,Zi,n),R(this,Xi,r)}get kzg(){return b(this,ls)}set kzg(e){e==null?R(this,ls,null):R(this,ls,iY(e))}get hash(){return this.signature==null?null:_t(X(this,Jc,Tm).call(this,!0,!1))}get unsignedHash(){return _t(this.unsignedSerialized)}get from(){return this.signature==null?null:ZJ(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:Xd.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return X(this,Jc,Tm).call(this,!0,!0)}get unsignedSerialized(){return X(this,Jc,Tm).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=b(this,Ba)!=null||b(this,Xi);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&W(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),W(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),W(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):n?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return ss.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new ss;if(typeof e=="string"){const r=we(e);if(r[0]>=127)return ss.from(cY(r));switch(r[0]){case 1:return ss.from(fY(r));case 2:return ss.from(hY(r));case 3:return ss.from(mY(r));case 4:return ss.from(yY(r))}W(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new ss;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=zn.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(F(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),F(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(F(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),F(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Mr=new WeakMap,Fc=new WeakMap,Bc=new WeakMap,Uc=new WeakMap,jc=new WeakMap,zc=new WeakMap,Hc=new WeakMap,Gc=new WeakMap,$c=new WeakMap,Wc=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,Ba=new WeakMap,Xi=new WeakMap,ls=new WeakMap,Zi=new WeakMap,qc=new WeakMap,Jc=new WeakSet,Tm=function(e,n){W(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return uY(this,r);case 1:return pY(this,r);case 2:return dY(this,r);case 3:return gY(this,r,n?this.blobs:null);case 4:return vY(this,r)}W(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let Vg=ss;function yl(t){return _t(ci(t))}var wY="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const AP=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),xP=4;function _Y(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),s=1,i=[0,1];for(let D=1;D<r;D++)i.push(s+=n());let o=n(),a=e;e+=o;let l=0,c=0;function h(){return l==0&&(c=c<<8|t[e++],l=8),c>>--l&1}const d=31,f=2**d,g=f>>>1,w=g>>1,v=f-1;let T=0;for(let D=0;D<d;D++)T=T<<1|h();let _=[],E=0,A=f;for(;;){let D=Math.floor(((T-E+1)*s-1)/A),V=0,I=r;for(;I-V>1;){let C=V+I>>>1;D<i[C]?I=C:V=C}if(V==0)break;_.push(V);let x=E+Math.floor(A*i[V]/s),P=E+Math.floor(A*i[V+1]/s)-1;for(;!((x^P)&g);)T=T<<1&v|h(),x=x<<1&v,P=P<<1&v|1;for(;x&~P&w;)T=T&g|T<<1&v>>>1|h(),x=x<<1^g,P=(P^g)<<1|g|1;E=x,A=1+P-x}let N=r-4;return _.map(D=>{switch(D-N){case 3:return N+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return N+256+(t[a++]<<8|t[a++]);case 1:return N+t[a++];default:return D-1}})}function EY(t){let e=0;return()=>t[e++]}function ZO(t){return EY(_Y(AY(t)))}function AY(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let n=t.length,r=new Uint8Array(6*n>>3);for(let s=0,i=0,o=0,a=0;s<n;s++)a=a<<6|e[t.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function xY(t){return t&1?~t>>1:t>>1}function TY(t,e){let n=Array(t);for(let r=0,s=0;r<t;r++)n[r]=s+=xY(e());return n}function Zd(t,e=0){let n=[];for(;;){let r=t(),s=t();if(!s)break;e+=r;for(let i=0;i<s;i++)n.push(e+i);e+=s+1}return n}function eD(t){return ef(()=>{let e=Zd(t);if(e.length)return e})}function tD(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(bY(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(IY(n,t))}return e.flat()}function ef(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function nD(t,e,n){let r=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)TY(t,n).forEach((i,o)=>r[o].push(i));return r}function bY(t,e){let n=1+e(),r=e(),s=ef(e);return nD(s.length,1+t,e).flatMap((o,a)=>{let[l,...c]=o;return Array(s[a]).fill().map((h,d)=>{let f=d*r;return[l+d*n,c.map(g=>g+f)]})})}function IY(t,e){let n=1+e();return nD(n,1+t,e).map(s=>[s[0],s.slice(1)])}function SY(t){let e=[],n=Zd(t);return s(r([]),[]),e;function r(i){let o=t(),a=ef(()=>{let l=Zd(t).map(c=>n[c]);if(l.length)return r(l)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,l){if(!(i&4&&l===a[a.length-1])){i&2&&(l=a[a.length-1]),i&1&&e.push(a);for(let c of o)for(let h of c.Q)s(c,[...a,h],l)}}}function PY(t){return t.toString(16).toUpperCase().padStart(2,"0")}function rD(t){return`{${PY(t)}}`}function CY(t){let e=[];for(let n=0,r=t.length;n<r;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function Ou(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let s=0;s<n;)r.push(String.fromCodePoint(...t.slice(s,s+=4096)));return r.join("")}function RY(t,e){let n=t.length,r=n-e.length;for(let s=0;r==0&&s<n;s++)r=t[s]-e[s];return r}var kY="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const tf=44032,Mg=4352,Fg=4449,Bg=4519,sD=19,iD=21,Du=28,Ug=iD*Du,NY=sD*Ug,OY=tf+NY,DY=Mg+sD,LY=Fg+iD,VY=Bg+Du;function Bh(t){return t>>24&255}function oD(t){return t&16777215}let W1,TP,K1,bm;function MY(){let t=ZO(kY);W1=new Map(eD(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),TP=new Set(Zd(t)),K1=new Map,bm=new Map;for(let[e,n]of tD(t)){if(!TP.has(e)&&n.length==2){let[r,s]=n,i=bm.get(r);i||(i=new Map,bm.set(r,i)),i.set(s,e)}K1.set(e,n.reverse())}}function aD(t){return t>=tf&&t<OY}function FY(t,e){if(t>=Mg&&t<DY&&e>=Fg&&e<LY)return tf+(t-Mg)*Ug+(e-Fg)*Du;if(aD(t)&&e>Bg&&e<VY&&(t-tf)%Du==0)return t+(e-Bg);{let n=bm.get(t);return n&&(n=n.get(e),n)?n:-1}}function lD(t){W1||MY();let e=[],n=[],r=!1;function s(i){let o=W1.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of t)for(;;){if(i<128)e.push(i);else if(aD(i)){let o=i-tf,a=o/Ug|0,l=o%Ug/Du|0,c=o%Du;s(Mg+a),s(Fg+l),c>0&&s(Bg+c)}else{let o=K1.get(i);o?n.push(...o):s(i)}if(!n.length)break;i=n.pop()}if(r&&e.length>1){let i=Bh(e[0]);for(let o=1;o<e.length;o++){let a=Bh(e[o]);if(a==0||i<=a){i=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(i=Bh(e[--l]),i<=a))break}i=Bh(e[o])}}return e}function BY(t){let e=[],n=[],r=-1,s=0;for(let i of t){let o=Bh(i),a=oD(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),s=o;else{let l=FY(r,a);l>=0?r=l:s==0&&o==0?(e.push(r),r=a):(n.push(a),s=o)}}return r>=0&&e.push(r,...n),e}function cD(t){return lD(t).map(oD)}function UY(t){return BY(lD(t))}const bP=45,uD=".",hD=65039,dD=1,jg=t=>Array.from(t);function nf(t,e){return t.P.has(e)||t.Q.has(e)}class jY extends Array{get is_emoji(){return!0}}let Q1,fD,Ia,q1,pD,Ic,Vv,zl,fa,IP,J1;function v2(){if(Q1)return;let t=ZO(wY);const e=()=>Zd(t),n=()=>new Set(e()),r=(h,d)=>d.forEach(f=>h.add(f));Q1=new Map(tD(t)),fD=n(),Ia=e(),q1=new Set(e().map(h=>Ia[h])),Ia=new Set(Ia),pD=n(),n();let s=eD(t),i=t();const o=()=>{let h=new Set;return e().forEach(d=>r(h,s[d])),r(h,e()),h};Ic=ef(h=>{let d=ef(t).map(f=>f+96);if(d.length){let f=h>=i;d[0]-=32,d=Ou(d),f&&(d=`Restricted[${d}]`);let g=o(),w=o(),v=!t();return{N:d,P:g,Q:w,M:v,R:f}}}),Vv=n(),zl=new Map;let a=e().concat(jg(Vv)).sort((h,d)=>h-d);a.forEach((h,d)=>{let f=t(),g=a[d]=f?a[d-f]:{V:[],M:new Map};g.V.push(h),Vv.has(h)||zl.set(h,g)});for(let{V:h,M:d}of new Set(zl.values())){let f=[];for(let w of h){let v=Ic.filter(_=>nf(_,w)),T=f.find(({G:_})=>v.some(E=>_.has(E)));T||(T={G:new Set,V:[]},f.push(T)),T.V.push(w),r(T.G,v)}let g=f.flatMap(w=>jg(w.G));for(let{G:w,V:v}of f){let T=new Set(g.filter(_=>!w.has(_)));for(let _ of v)d.set(_,T)}}fa=new Set;let l=new Set;const c=h=>fa.has(h)?l.add(h):fa.add(h);for(let h of Ic){for(let d of h.P)c(d);for(let d of h.Q)c(d)}for(let h of fa)!zl.has(h)&&!l.has(h)&&zl.set(h,dD);r(fa,cD(fa)),IP=SY(t).map(h=>jY.from(h)).sort(RY),J1=new Map;for(let h of IP){let d=[J1];for(let f of h){let g=d.map(w=>{let v=w.get(f);return v||(v=new Map,w.set(f,v)),v});f===hD?d.push(...g):d=g}for(let f of d)f.V=h}}function w2(t){return(mD(t)?"":`${_2(ty([t]))} `)+rD(t)}function _2(t){return`"${t}"`}function zY(t){if(t.length>=4&&t[2]==bP&&t[3]==bP)throw new Error(`invalid label extension: "${Ou(t.slice(0,4))}"`)}function HY(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function GY(t){let e=t[0],n=AP.get(e);if(n)throw hd(`leading ${n}`);let r=t.length,s=-1;for(let i=1;i<r;i++){e=t[i];let o=AP.get(e);if(o){if(s==i)throw hd(`${n} + ${o}`);s=i+1,n=o}}if(s==r)throw hd(`trailing ${n}`)}function ty(t,e=1/0,n=rD){let r=[];$Y(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,i=t.length;for(let o=0;o<i;o++){let a=t[o];mD(a)&&(r.push(Ou(t.slice(s,o))),r.push(n(a)),s=o+1)}return r.push(Ou(t.slice(s,i))),r.join("")}function $Y(t){return v2(),Ia.has(t)}function mD(t){return v2(),pD.has(t)}function WY(t){return JY(KY(t,UY,ZY))}function KY(t,e,n){if(!t)return[];v2();let r=0;return t.split(uD).map(s=>{let i=CY(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=XY(i,e,n),l=a.length,c;if(!l)throw new Error("empty label");let h=o.output=a.flat();if(HY(h),!(o.emoji=l>1||a[0].is_emoji)&&h.every(f=>f<128))zY(h),c="ASCII";else{let f=a.flatMap(g=>g.is_emoji?[]:g);if(!f.length)c="Emoji";else{if(Ia.has(h[0]))throw hd("leading combining mark");for(let v=1;v<l;v++){let T=a[v];if(!T.is_emoji&&Ia.has(T[0]))throw hd(`emoji + combining mark: "${Ou(a[v-1])} + ${ty([T[0]])}"`)}GY(h);let g=jg(new Set(f)),[w]=qY(g);YY(w,f),QY(w,g),c=w.N}}o.type=c}catch(a){o.error=a}return o})}function QY(t,e){let n,r=[];for(let s of e){let i=zl.get(s);if(i===dD)return;if(i){let o=i.M.get(s);if(n=n?n.filter(a=>o.has(a)):jg(o),!n.length)return}else r.push(s)}if(n){for(let s of n)if(r.every(i=>nf(s,i)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function qY(t){let e=Ic;for(let n of t){let r=e.filter(s=>nf(s,n));if(!r.length)throw Ic.some(s=>nf(s,n))?yD(e[0],n):gD(n);if(e=r,r.length==1)break}return e}function JY(t){return t.map(({input:e,error:n,output:r})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${_2(ty(e,63))}: ${s}`)}return Ou(r)}).join(uD)}function gD(t){return new Error(`disallowed character: ${w2(t)}`)}function yD(t,e){let n=w2(e),r=Ic.find(s=>s.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function hd(t){return new Error(`illegal placement: ${t}`)}function YY(t,e){for(let n of e)if(!nf(t,n))throw yD(t,n);if(t.M){let n=cD(e);for(let r=1,s=n.length;r<s;r++)if(q1.has(n[r])){let i=r+1;for(let o;i<s&&q1.has(o=n[i]);i++)for(let a=r;a<i;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${w2(o)}`);if(i-r>xP)throw new Error(`excessive non-spacing marks: ${_2(ty(n.slice(r-1,i)))} (${i-r}/${xP})`);r=i}}}function XY(t,e,n){let r=[],s=[];for(t=t.slice().reverse();t.length;){let i=eX(t);if(i)s.length&&(r.push(e(s)),s=[]),r.push(n(i));else{let o=t.pop();if(fa.has(o))s.push(o);else{let a=Q1.get(o);if(a)s.push(...a);else if(!fD.has(o))throw gD(o)}}}return s.length&&r.push(e(s)),r}function ZY(t){return t.filter(e=>e!=hD)}function eX(t,e){let n=J1,r,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:i}=n;i&&(r=i,t.length=s)}return r}const vD=new Uint8Array(32);vD.fill(0);function SP(t){return F(t.length!==0,"invalid ENS name; empty component","comp",t),t}function wD(t){const e=ci(tX(t)),n=[];if(t.length===0)return n;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(SP(e.slice(r,s))),r=s+1);return F(r<e.length,"invalid ENS name; empty component","name",t),n.push(SP(e.slice(r))),n}function tX(t){try{if(t.length===0)throw new Error("empty label");return WY(t)}catch(e){F(!1,`invalid ENS name (${e.message})`,"name",t)}}function Y1(t){F(typeof t=="string","invalid ENS name; not a string","name",t),F(t.length,"invalid ENS name (empty label)","name",t);let e=vD;const n=wD(t);for(;n.length;)e=_t(at([e,_t(n.pop())]));return Z(e)}function nX(t,e){const n=e;return F(n<=255,"DNS encoded label cannot exceed 255","length",n),Z(at(wD(t).map(r=>{F(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}const _D=new Uint8Array(32);_D.fill(0);const rX=BigInt(-1),ED=BigInt(0),AD=BigInt(1),sX=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function iX(t){const e=we(t),n=e.length%32;return n?at([e,_D.slice(n)]):Z(e)}const oX=$o(AD,32),aX=$o(ED,32),PP={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Mv=["name","version","chainId","verifyingContract","salt"];function CP(t){return function(e){return F(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const lX={name:CP("name"),version:CP("version"),chainId:function(t){const e=oe(t,"domain.chainId");return F(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):zr(e)},verifyingContract:function(t){try{return De(t).toLowerCase()}catch{}F(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=we(t,"domain.salt");return F(e.length===32,'invalid domain value "salt"',"domain.salt",t),Z(e)}};function Fv(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);F(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const s=Mh(sX,n?r-1:r),i=n?(s+AD)*rX:ED;return function(o){const a=oe(o,"value");return F(a>=i&&a<=s,`value out-of-bounds for ${t}`,"value",a),$o(n?lO(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return F(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const s=we(r);return F(s.length===n,`invalid length for ${t}`,"value",r),iX(r)}}}switch(t){case"address":return function(e){return Ai(De(e),32)};case"bool":return function(e){return e?oX:aX};case"bytes":return function(e){return _t(e)};case"string":return function(e){return yl(e)}}return null}function RP(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function Qp(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var hf,Ws,Yc,Kg,xD;const dr=class dr{constructor(e){j(this,Kg);U(this,"primaryType");j(this,hf);j(this,Ws);j(this,Yc);R(this,Ws,new Map),R(this,Yc,new Map);const n=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(l=>{i[l]=e[l].map(({name:c,type:h})=>{let{base:d,index:f}=Qp(h);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),n.set(l,new Set),r.set(l,[]),s.set(l,new Set)}),R(this,hf,JSON.stringify(i));for(const l in i){const c=new Set;for(const h of i[l]){F(!c.has(h.name),`duplicate variable name ${JSON.stringify(h.name)} in ${JSON.stringify(l)}`,"types",e),c.add(h.name);const d=Qp(h.type).base;F(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!Fv(d)&&(F(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),n.get(l).add(d))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);F(o.length!==0,"missing primary type","types",e),F(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),ce(this,{primaryType:o[0]});function a(l,c){F(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const h of n.get(l))if(r.has(h)){a(h,c);for(const d of c)s.get(d).add(h)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of s){const h=Array.from(c);h.sort(),b(this,Ws).set(l,RP(l,i[l])+h.map(d=>RP(d,i[d])).join(""))}}get types(){return JSON.parse(b(this,hf))}getEncoder(e){let n=b(this,Yc).get(e);return n||(n=X(this,Kg,xD).call(this,e),b(this,Yc).set(e,n)),n}encodeType(e){const n=b(this,Ws).get(e);return F(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return _t(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(Fv(e))return r(e,n);const s=Qp(e).array;if(s)return F(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,n[a],r),o),{});F(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new dr(e)}static getPrimaryType(e){return dr.from(e).primaryType}static hashStruct(e,n,r){return dr.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const s=PP[r];F(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:s})}return n.sort((r,s)=>Mv.indexOf(r.name)-Mv.indexOf(s.name)),dr.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return at(["0x1901",dr.hashDomain(e),dr.from(n).hash(r)])}static hash(e,n,r){return _t(dr.encode(e,n,r))}static async resolveNames(e,n,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!je(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=dr.from(n);o.visit(r,(a,l)=>(a==="address"&&!je(l,20)&&(i[l]="0x"),l));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&i[l]?i[l]:l),{domain:e,value:r}}static getPayload(e,n,r){dr.hashDomain(e);const s={},i=[];Mv.forEach(l=>{const c=e[l];c!=null&&(s[l]=lX[l](c),i.push({name:l,type:PP[l]}))});const o=dr.from(n);n=o.types;const a=Object.assign({},n);return F(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return Z(we(c));if(l.match(/^u?int/))return oe(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return F(typeof c=="string","invalid string","value",c),c}F(!1,"unsupported type","type",l)})}}};hf=new WeakMap,Ws=new WeakMap,Yc=new WeakMap,Kg=new WeakSet,xD=function(e){{const s=Fv(e);if(s)return s}const n=Qp(e).array;if(n){const s=n.prefix,i=this.getEncoder(s);return o=>{F(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(i);return b(this,Ws).has(s)&&(a=a.map(_t)),_t(at(a))}}const r=this.types[e];if(r){const s=yl(b(this,Ws).get(e));return i=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(i[a]);return b(this,Ws).has(l)?_t(c):c});return o.unshift(s),at(o)}}F(!1,`unknown type: ${e}`,"type",e)};let zg=dr;function bn(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const cX="external public payable override",uX=bn(cX.split(" ")),TD="constant external internal payable private public pure view override",hX=bn(TD.split(" ")),bD="constructor error event fallback function receive struct",ID=bn(bD.split(" ")),SD="calldata memory storage payable indexed",dX=bn(SD.split(" ")),fX="tuple returns",pX=[bD,SD,fX,TD].join(" "),mX=bn(pX.split(" ")),gX={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},yX=new RegExp("^(\\s*)"),vX=new RegExp("^([0-9]+)"),wX=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),PD=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),CD=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Mt,Fr,df,X1;const Qg=class Qg{constructor(e){j(this,df);j(this,Mt);j(this,Fr);R(this,Mt,0),R(this,Fr,e.slice())}get offset(){return b(this,Mt)}get length(){return b(this,Fr).length-b(this,Mt)}clone(){return new Qg(b(this,Fr))}reset(){R(this,Mt,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=X(this,df,X1).call(this,b(this,Mt)+1,e.match+1);return R(this,Mt,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;b(this,Mt)<e.match-1;){const r=this.peek().linkNext;n.push(X(this,df,X1).call(this,b(this,Mt)+1,r)),R(this,Mt,r)}return R(this,Mt,e.match+1),n}peek(){if(b(this,Mt)>=b(this,Fr).length)throw new Error("out-of-bounds");return b(this,Fr)[b(this,Mt)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return fh(this,Mt)._++,e}toString(){const e=[];for(let n=b(this,Mt);n<b(this,Fr).length;n++){const r=b(this,Fr)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Mt=new WeakMap,Fr=new WeakMap,df=new WeakSet,X1=function(e=0,n=0){return new Qg(b(this,Fr).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Jr=Qg;function ta(t){const e=[],n=o=>{const a=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<t.length;){let o=t.substring(i),a=o.match(yX);a&&(i+=a[1].length,o=t.substring(i));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let c=gX[o[0]]||"";if(c){if(l.type=c,l.text=o[0],i++,c==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let h=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;h=d+h,e[e.length-1].value=_e(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=h}continue}if(a=o.match(wX),a){if(l.text=a[1],i+=l.text.length,mX.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(CD)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(vX),a){l.text=a[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new Jr(e.map(o=>Object.freeze(o)))}function kP(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function ny(t,e){if(e.peekKeyword(ID)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ti(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function RD(t){let e=Ti(t,hX);return kP(e,bn("constant payable nonpayable".split(" "))),kP(e,bn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ui(t,e){return t.popParams().map(n=>$t.from(n,e))}function kD(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return oe(t.pop().text);throw new Error("invalid gas")}return null}function vl(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const _X=new RegExp(/^(.*)\[([0-9]*)\]$/);function NP(t){const e=t.match(CD);if(F(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);F(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);F(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Ye={},Hn=Symbol.for("_ethers_internal"),OP="_ParamTypeInternal",DP="_ErrorInternal",LP="_EventInternal",VP="_ConstructorInternal",MP="_FallbackInternal",FP="_FunctionInternal",BP="_StructInternal";var Xc,Im;const fr=class fr{constructor(e,n,r,s,i,o,a,l){j(this,Xc);U(this,"name");U(this,"type");U(this,"baseType");U(this,"indexed");U(this,"components");U(this,"arrayLength");U(this,"arrayChildren");if(W0(e,Ye,"ParamType"),Object.defineProperty(this,Hn,{value:OP}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");ce(this,{name:n,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return X(this,Xc,Im).call(this,r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(fr.isParamType(e))return e;if(typeof e=="string")try{return fr.from(ta(e),n)}catch{F(!1,"invalid param type","obj",e)}else if(e instanceof Jr){let a="",l="",c=null;Ti(e,bn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(v=>fr.from(v)),a=`tuple(${c.map(v=>v.format()).join(",")})`):(a=NP(e.popType("TYPE")),l=a);let h=null,d=null;for(;e.length&&e.peekType("BRACKET");){const v=e.pop();h=new fr(Ye,"",a,l,null,c,d,h),d=v.value,a+=v.text,l="array",c=null}let f=null;if(Ti(e,dX).has("indexed")){if(!n)throw new Error("");f=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new fr(Ye,w,a,l,f,c,d,h)}const r=e.name;F(!r||typeof r=="string"&&r.match(PD),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(F(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(_X);if(o){const a=parseInt(o[2]||"-1"),l=fr.from({type:o[1],components:e.components});return new fr(Ye,r||"",i,"array",s,null,a,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(c=>fr.from(c)):null;return new fr(Ye,r||"",i,"tuple",s,a,null,null)}return i=NP(e.type),new fr(Ye,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Hn]===OP}};Xc=new WeakSet,Im=function(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((l,c)=>{var h;X(h=o,Xc,Im).call(h,e,l,r,d=>{a[c]=d})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in n))throw new Error(`missing value for component ${l.name}`);return n[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{var h;X(h=o[c],Xc,Im).call(h,e,l,r,d=>{a[c]=d})}),s(a);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)};let $t=fr;class wl{constructor(e,n,r){U(this,"type");U(this,"inputs");W0(e,Ye,"Fragment"),r=Object.freeze(r.slice()),ce(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{wl.from(JSON.parse(e))}catch{}return wl.from(ta(e))}if(e instanceof Jr)switch(e.peekKeyword(ID)){case"constructor":return ii.from(e);case"error":return Dn.from(e);case"event":return gs.from(e);case"fallback":case"receive":return js.from(e);case"function":return ys.from(e);case"struct":return nl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return ii.from(e);case"error":return Dn.from(e);case"event":return gs.from(e);case"fallback":case"receive":return js.from(e);case"function":return ys.from(e);case"struct":return nl.from(e)}W(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}F(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ii.isFragment(e)}static isError(e){return Dn.isFragment(e)}static isEvent(e){return gs.isFragment(e)}static isFunction(e){return ys.isFragment(e)}static isStruct(e){return nl.isFragment(e)}}class ry extends wl{constructor(n,r,s,i){super(n,r,i);U(this,"name");F(typeof s=="string"&&s.match(PD),"invalid identifier","name",s),i=Object.freeze(i.slice()),ce(this,{name:s})}}function rf(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Dn extends ry{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,Hn,{value:DP})}get selector(){return yl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+rf(e,this.inputs)),n.join(" ")}static from(e){if(Dn.isFragment(e))return e;if(typeof e=="string")return Dn.from(ta(e));if(e instanceof Jr){const n=ny("error",e),r=ui(e);return vl(e),new Dn(Ye,n,r)}return new Dn(Ye,e.name,e.inputs?e.inputs.map($t.from):[])}static isFragment(e){return e&&e[Hn]===DP}}class gs extends ry{constructor(n,r,s,i){super(n,"event",r,s);U(this,"anonymous");Object.defineProperty(this,Hn,{value:LP}),ce(this,{anonymous:i})}get topicHash(){return yl(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+rf(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(i=>$t.from(i)),new gs(Ye,n,r,!1).topicHash}static from(n){if(gs.isFragment(n))return n;if(typeof n=="string")try{return gs.from(ta(n))}catch{F(!1,"invalid event fragment","obj",n)}else if(n instanceof Jr){const r=ny("event",n),s=ui(n,!0),i=!!Ti(n,bn(["anonymous"])).has("anonymous");return vl(n),new gs(Ye,r,s,i)}return new gs(Ye,n.name,n.inputs?n.inputs.map(r=>$t.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Hn]===LP}}class ii extends wl{constructor(n,r,s,i,o){super(n,r,s);U(this,"payable");U(this,"gas");Object.defineProperty(this,Hn,{value:VP}),ce(this,{payable:i,gas:o})}format(n){if(W(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[`constructor${rf(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(ii.isFragment(n))return n;if(typeof n=="string")try{return ii.from(ta(n))}catch{F(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Jr){Ti(n,bn(["constructor"]));const r=ui(n),s=!!Ti(n,uX).has("payable"),i=kD(n);return vl(n),new ii(Ye,"constructor",r,s,i)}return new ii(Ye,"constructor",n.inputs?n.inputs.map($t.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Hn]===VP}}class js extends wl{constructor(n,r,s){super(n,"fallback",r);U(this,"payable");Object.defineProperty(this,Hn,{value:MP}),ce(this,{payable:s})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(n){if(js.isFragment(n))return n;if(typeof n=="string")try{return js.from(ta(n))}catch{F(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Jr){const r=n.toString(),s=n.peekKeyword(bn(["fallback","receive"]));if(F(s,"type must be fallback or receive","obj",r),n.popKeyword(bn(["fallback","receive"]))==="receive"){const l=ui(n);return F(l.length===0,"receive cannot have arguments","obj.inputs",l),Ti(n,bn(["payable"])),vl(n),new js(Ye,[],!0)}let o=ui(n);o.length?F(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[$t.from("bytes")];const a=RD(n);if(F(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Ti(n,bn(["returns"])).has("returns")){const l=ui(n);F(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return vl(n),new js(Ye,o,a==="payable")}if(n.type==="receive")return new js(Ye,[],!0);if(n.type==="fallback"){const r=[$t.from("bytes")],s=n.stateMutability==="payable";return new js(Ye,r,s)}F(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Hn]===MP}}class ys extends ry{constructor(n,r,s,i,o,a){super(n,"function",r,i);U(this,"constant");U(this,"outputs");U(this,"stateMutability");U(this,"payable");U(this,"gas");Object.defineProperty(this,Hn,{value:FP}),o=Object.freeze(o.slice()),ce(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return yl(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+rf(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(rf(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(i=>$t.from(i)),new ys(Ye,n,"view",r,[],null).selector}static from(n){if(ys.isFragment(n))return n;if(typeof n=="string")try{return ys.from(ta(n))}catch{F(!1,"invalid function fragment","obj",n)}else if(n instanceof Jr){const s=ny("function",n),i=ui(n),o=RD(n);let a=[];Ti(n,bn(["returns"])).has("returns")&&(a=ui(n));const l=kD(n);return vl(n),new ys(Ye,s,o,i,a,l)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new ys(Ye,n.name,r,n.inputs?n.inputs.map($t.from):[],n.outputs?n.outputs.map($t.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Hn]===FP}}class nl extends ry{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,Hn,{value:BP})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return nl.from(ta(e))}catch{F(!1,"invalid struct fragment","obj",e)}else if(e instanceof Jr){const n=ny("struct",e),r=ui(e);return vl(e),new nl(Ye,n,r)}return new nl(Ye,e.name,e.inputs?e.inputs.map($t.from):[])}static isFragment(e){return e&&e[Hn]===BP}}const Xr=new Map;Xr.set(0,"GENERIC_PANIC");Xr.set(1,"ASSERT_FALSE");Xr.set(17,"OVERFLOW");Xr.set(18,"DIVIDE_BY_ZERO");Xr.set(33,"ENUM_RANGE_ERROR");Xr.set(34,"BAD_STORAGE_DATA");Xr.set(49,"STACK_UNDERFLOW");Xr.set(50,"ARRAY_RANGE_ERROR");Xr.set(65,"OUT_OF_MEMORY");Xr.set(81,"UNINITIALIZED_FUNCTION_CALL");const EX=new RegExp(/^bytes([0-9]*)$/),AX=new RegExp(/^(u?int)([0-9]*)$/);let Bv=null,UP=1024;function xX(t,e,n,r){let s="missing revert data",i=null;const o=null;let a=null;if(n){s="execution reverted";const c=we(n);if(n=Z(n),c.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(c.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Z(c.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Z(c.slice(0,4))==="0x4e487b71")try{const h=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[h]},i=`Panic due to ${Xr.get(h)||"UNKNOWN"}(${h})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const l={to:e.to?De(e.to):null,data:e.data||"0x"};return e.from&&(l.from=De(e.from)),qe(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:l,invocation:o,revert:a})}var eo,Hl;const qg=class qg{constructor(){j(this,eo)}getDefaultValue(e){const n=e.map(s=>X(this,eo,Hl).call(this,$t.from(s)));return new Kp(n,"_").defaultValue()}encode(e,n){iO(n.length,e.length,"types/values length mismatch");const r=e.map(o=>X(this,eo,Hl).call(this,$t.from(o))),s=new Kp(r,"_"),i=new F1;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(o=>X(this,eo,Hl).call(this,$t.from(o)));return new Kp(s,"_").decode(new B1(n,r,UP))}static _setDefaultMaxInflation(e){F(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),UP=e}static defaultAbiCoder(){return Bv==null&&(Bv=new qg),Bv}static getBuiltinCallException(e,n,r){return xX(e,n,r,qg.defaultAbiCoder())}};eo=new WeakSet,Hl=function(e){if(e.isArray())return new jJ(X(this,eo,Hl).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Kp(e.components.map(r=>X(this,eo,Hl).call(this,r)),e.name);switch(e.baseType){case"address":return new BJ(e.name);case"bool":return new zJ(e.name);case"string":return new YJ(e.name);case"bytes":return new HJ(e.name);case"":return new WJ(e.name)}let n=e.type.match(AX);if(n){let r=parseInt(n[2]||"256");return F(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new JJ(r/8,n[1]==="int",e.name)}if(n=e.type.match(EX),n){let r=parseInt(n[1]);return F(r!==0&&r<=32,"invalid bytes length","param",e),new GJ(r,e.name)}F(!1,"invalid type","type",e.type)};let sf=qg;class TX{constructor(e,n,r){U(this,"fragment");U(this,"name");U(this,"signature");U(this,"topic");U(this,"args");const s=e.name,i=e.format();ce(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class bX{constructor(e,n,r,s){U(this,"fragment");U(this,"name");U(this,"args");U(this,"signature");U(this,"selector");U(this,"value");const i=e.name,o=e.format();ce(this,{fragment:e,name:i,args:r,signature:o,selector:n,value:s})}}class IX{constructor(e,n,r){U(this,"fragment");U(this,"name");U(this,"args");U(this,"signature");U(this,"selector");const s=e.name,i=e.format();ce(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class jP{constructor(e){U(this,"hash");U(this,"_isIndexed");ce(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const zP={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},HP={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&zP[t.toString()]&&(e=zP[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var cs,us,hs,tn,Rs,Sm,Pm;const ya=class ya{constructor(e){j(this,Rs);U(this,"fragments");U(this,"deploy");U(this,"fallback");U(this,"receive");j(this,cs);j(this,us);j(this,hs);j(this,tn);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,R(this,hs,new Map),R(this,cs,new Map),R(this,us,new Map);const r=[];for(const o of n)try{r.push(wl.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}ce(this,{fragments:Object.freeze(r)});let s=null,i=!1;R(this,tn,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}ce(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(F(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":l=b(this,hs);break;case"event":l=b(this,us);break;case"error":l=b(this,cs);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||ce(this,{deploy:ii.from("constructor()")}),ce(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return sf.defaultAbiCoder()}getFunctionName(e){const n=X(this,Rs,Sm).call(this,e,null,!1);return F(n,"no matching function","key",e),n.name}hasFunction(e){return!!X(this,Rs,Sm).call(this,e,null,!1)}getFunction(e,n){return X(this,Rs,Sm).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(b(this,hs).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(b(this,hs).get(s),r)}}getEventName(e){const n=X(this,Rs,Pm).call(this,e,null,!1);return F(n,"no matching event","key",e),n.name}hasEvent(e){return!!X(this,Rs,Pm).call(this,e,null,!1)}getEvent(e,n){return X(this,Rs,Pm).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(b(this,us).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(b(this,us).get(s),r)}}getError(e,n){if(je(e)){const s=e.toLowerCase();if(HP[s])return Dn.from(HP[s].signature);for(const i of b(this,cs).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of b(this,cs))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Dn.from("error Error(string)"):e==="Panic"?Dn.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");F(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Dn.from(e).format(),e==="Error(string)")return Dn.from("error Error(string)");if(e==="Panic(uint256)")return Dn.from("error Panic(uint256)");const r=b(this,cs).get(e);return r||null}forEachError(e){const n=Array.from(b(this,cs).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(b(this,cs).get(s),r)}}_decodeParams(e,n){return b(this,tn).decode(e,n)}_encodeParams(e,n){return b(this,tn).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);F(r,"unknown error","fragment",e),e=r}return F(it(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,it(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);F(r,"unknown error","fragment",e),e=r}return at([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);F(r,"unknown function","fragment",e),e=r}return F(it(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,it(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);F(r,"unknown function","fragment",e),e=r}return at([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);F(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=En(n);if(s.length%32===0)try{return b(this,tn).decode(e.outputs,s)}catch{r="could not decode result data"}W(!1,r,"BAD_DATA",{value:Z(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=we(e,"data"),s=sf.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=Z(r.slice(0,4)),l=this.getError(a);if(l)try{const c=b(this,tn).decode(l.inputs,r.slice(4));s.revert={name:l.name,signature:l.format(),args:c},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);F(r,"unknown function","fragment",e),e=r}return Z(b(this,tn).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);F(i,"unknown event","eventFragment",e),e=i}W(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?yl(o):i.type==="bytes"?_t(Z(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=$o(o):i.type.match(/^bytes/)?o=WQ(o,32):i.type==="address"&&b(this,tn).encode(["address"],[o]),Ai(Z(o),32));for(n.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){F(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?F(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(l=>s(a,l))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);F(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),F(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const l=n[a];if(o.indexed)if(o.type==="string")r.push(yl(l));else if(o.type==="bytes")r.push(_t(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(b(this,tn).encode([o.type],[l]))}else s.push(o),i.push(l)}),{data:b(this,tn).encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const g=this.getEvent(e);F(g,"unknown event","eventFragment",e),e=g}if(r!=null&&!e.anonymous){const g=e.topicHash;F(je(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((g,w)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(s.push($t.from({type:"bytes32",name:g.name})),o.push(!0)):(s.push(g),o.push(!1)):(i.push(g),o.push(!1))});const a=r!=null?b(this,tn).decode(s,at(r)):null,l=b(this,tn).decode(i,n,!0),c=[],h=[];let d=0,f=0;return e.inputs.forEach((g,w)=>{let v=null;if(g.indexed)if(a==null)v=new jP(null);else if(o[w])v=new jP(a[f++]);else try{v=a[f++]}catch(T){v=T}else try{v=l[d++]}catch(T){v=T}c.push(v),h.push(g.name||null)}),Pu.fromItems(c,h)}parseTransaction(e){const n=we(e.data,"tx.data"),r=oe(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Z(n.slice(0,4)));if(!s)return null;const i=b(this,tn).decode(s.inputs,n.slice(4));return new bX(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new TX(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Z(e),r=this.getError(it(n,0,4));if(!r)return null;const s=b(this,tn).decode(r.inputs,it(n,4));return new IX(r,r.selector,s)}static from(e){return e instanceof ya?e:typeof e=="string"?new ya(JSON.parse(e)):typeof e.formatJson=="function"?new ya(e.formatJson()):typeof e.format=="function"?new ya(e.format("json")):new ya(e)}};cs=new WeakMap,us=new WeakMap,hs=new WeakMap,tn=new WeakMap,Rs=new WeakSet,Sm=function(e,n,r){if(je(e)){const i=e.toLowerCase();for(const o of b(this,hs).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of b(this,hs))o.split("(")[0]===e&&i.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,l=!0;cn.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=i.length-1;c>=0;c--){const h=i[c].inputs.length;h!==a&&(!l||h!==a-1)&&i.splice(c,1)}for(let c=i.length-1;c>=0;c--){const h=i[c].inputs;for(let d=0;d<n.length;d++)if(cn.isTyped(n[d])){if(d>=h.length){if(n[d].type==="overrides")continue;i.splice(c,1);break}if(n[d].type!==h[d].baseType){i.splice(c,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");F(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=b(this,hs).get(ys.from(e).format());return s||null},Pm=function(e,n,r){if(je(e)){const i=e.toLowerCase();for(const o of b(this,us).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of b(this,us))o.split("(")[0]===e&&i.push(a);if(n){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<n.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let l=0;l<n.length;l++)if(cn.isTyped(n[l])&&n[l].type!==a[l].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");F(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=b(this,us).get(gs.from(e).format());return s||null};let Z1=ya;const ND=BigInt(0);function Sc(t){return t??null}function dt(t){return t==null?null:t.toString()}class GP{constructor(e,n,r){U(this,"gasPrice");U(this,"maxFeePerGas");U(this,"maxPriorityFeePerGas");ce(this,{gasPrice:Sc(e),maxFeePerGas:Sc(n),maxPriorityFeePerGas:Sc(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:dt(e),maxFeePerGas:dt(n),maxPriorityFeePerGas:dt(r)}}}function Hg(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Z(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=oe(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=_e(t[s],`request.${s}`));return t.accessList&&(e.accessList=Pl(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>a2(s)?Z(s):Object.assign({},s))),e}var Ks;class SX{constructor(e,n){U(this,"provider");U(this,"number");U(this,"hash");U(this,"timestamp");U(this,"parentHash");U(this,"parentBeaconBlockRoot");U(this,"nonce");U(this,"difficulty");U(this,"gasLimit");U(this,"gasUsed");U(this,"stateRoot");U(this,"receiptsRoot");U(this,"blobGasUsed");U(this,"excessBlobGas");U(this,"miner");U(this,"prevRandao");U(this,"extraData");U(this,"baseFeePerGas");j(this,Ks);R(this,Ks,e.transactions.map(r=>typeof r!="string"?new of(r,n):r)),ce(this,{provider:n,hash:Sc(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Sc(e.prevRandao),extraData:e.extraData,baseFeePerGas:Sc(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return b(this,Ks).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=b(this,Ks).slice();return e.length===0?[]:(W(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:l,nonce:c,number:h,parentHash:d,parentBeaconBlockRoot:f,stateRoot:g,receiptsRoot:w,timestamp:v,transactions:T}=this;return{_type:"Block",baseFeePerGas:dt(e),difficulty:dt(n),extraData:r,gasLimit:dt(s),gasUsed:dt(i),blobGasUsed:dt(this.blobGasUsed),excessBlobGas:dt(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:h,parentHash:d,timestamp:v,parentBeaconBlockRoot:f,stateRoot:g,receiptsRoot:w,transactions:T}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return b(this,Ks).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=b(this,Ks)[e];else{const r=e.toLowerCase();for(const s of b(this,Ks))if(typeof s=="string"){if(s!==r)continue;n=s;break}else{if(s.hash!==r)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;F(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return PX(this)}}Ks=new WeakMap;class Qf{constructor(e,n){U(this,"provider");U(this,"transactionHash");U(this,"blockHash");U(this,"blockNumber");U(this,"removed");U(this,"address");U(this,"data");U(this,"topics");U(this,"index");U(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());ce(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return W(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return W(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return W(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return CX(this)}}var ff;class OD{constructor(e,n){U(this,"provider");U(this,"to");U(this,"from");U(this,"contractAddress");U(this,"hash");U(this,"index");U(this,"blockHash");U(this,"blockNumber");U(this,"logsBloom");U(this,"gasUsed");U(this,"blobGasUsed");U(this,"cumulativeGasUsed");U(this,"gasPrice");U(this,"blobGasPrice");U(this,"type");U(this,"status");U(this,"root");j(this,ff);R(this,ff,Object.freeze(e.logs.map(s=>new Qf(s,n))));let r=ND;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),ce(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return b(this,ff)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:h,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:dt(this.cumulativeGasUsed),from:n,gasPrice:dt(this.gasPrice),blobGasUsed:dt(this.blobGasUsed),blobGasPrice:dt(this.blobGasPrice),gasUsed:dt(this.gasUsed),hash:s,index:i,logs:c,logsBloom:l,root:d,status:h,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return LD(this)}reorderedEvent(e){return W(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),DD(this,e)}}ff=new WeakMap;var to;const P2=class P2{constructor(e,n){U(this,"provider");U(this,"blockNumber");U(this,"blockHash");U(this,"index");U(this,"hash");U(this,"type");U(this,"to");U(this,"from");U(this,"nonce");U(this,"gasLimit");U(this,"gasPrice");U(this,"maxPriorityFeePerGas");U(this,"maxFeePerGas");U(this,"maxFeePerBlobGas");U(this,"data");U(this,"value");U(this,"chainId");U(this,"signature");U(this,"accessList");U(this,"blobVersionedHashes");U(this,"authorizationList");j(this,to);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,R(this,to,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:o,from:a,nonce:l,data:c,signature:h,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:f,chainId:dt(this.chainId),data:c,from:a,gasLimit:dt(this.gasLimit),gasPrice:dt(this.gasPrice),hash:s,maxFeePerGas:dt(this.maxFeePerGas),maxPriorityFeePerGas:dt(this.maxPriorityFeePerGas),maxFeePerBlobGas:dt(this.maxFeePerBlobGas),nonce:l,signature:h,to:o,index:r,type:i,value:dt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await wn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=b(this,to),o=-1,a=i===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:g}=await wn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(g<this.nonce){i=f;return}if(a)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(o===-1&&(o=i-3,o<b(this,to)&&(o=b(this,to)));o<=f;){if(a)return null;const v=await this.provider.getBlock(o,!0);if(v==null)return;for(const T of v)if(T===this.hash)return;for(let T=0;T<v.length;T++){const _=await v.getTransaction(T);if(_.from===this.from&&_.nonce===this.nonce){if(a)return null;const E=await this.provider.getTransactionReceipt(_.hash);if(E==null||f-E.blockNumber+1<r)return;let A="replaced";_.data===this.data&&_.to===this.to&&_.value===this.value?A="repriced":_.data==="0x"&&_.from===_.to&&_.value===ND&&(A="cancelled"),W(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:_.replaceableTransaction(i),hash:_.hash,receipt:E})}}o++}},c=f=>{if(f==null||f.status!==0)return f;W(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},h=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(h);if(h){if(r===1||await h.confirmations()>=r)return c(h)}else if(await l(),r===0)return null;return await new Promise((f,g)=>{const w=[],v=()=>{w.forEach(_=>_())};if(w.push(()=>{a=!0}),s>0){const _=setTimeout(()=>{v(),g(qe("wait for transaction timeout","TIMEOUT"))},s);w.push(()=>{clearTimeout(_)})}const T=async _=>{if(await _.confirmations()>=r){v();try{f(c(_))}catch(E){g(E)}}};if(w.push(()=>{this.provider.off(this.hash,T)}),this.provider.on(this.hash,T),i>=0){const _=async()=>{try{await l()}catch(E){if(Ht(E,"TRANSACTION_REPLACED")){v(),g(E);return}}a||this.provider.once("block",_)};w.push(()=>{this.provider.off("block",_)}),this.provider.once("block",_)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return W(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),LD(this)}reorderedEvent(e){return W(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),W(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),DD(this,e)}replaceableTransaction(e){F(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new P2(this,this.provider);return R(n,to,e),n}};to=new WeakMap;let of=P2;function PX(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function DD(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function LD(t){return{orphan:"drop-transaction",tx:t}}function CX(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class E2 extends Qf{constructor(n,r,s){super(n,n.provider);U(this,"interface");U(this,"fragment");U(this,"args");const i=r.decodeEventLog(s,n.data,n.topics);ce(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class VD extends Qf{constructor(n,r){super(n,n.provider);U(this,"error");ce(this,{error:r})}}var Zc;class RX extends OD{constructor(n,r,s){super(s,r);j(this,Zc);R(this,Zc,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?b(this,Zc).getEvent(n.topics[0]):null;if(r)try{return new E2(n,b(this,Zc),r)}catch(s){return new VD(n,s)}return n})}}Zc=new WeakMap;var pf;class A2 extends of{constructor(n,r,s){super(s,r);j(this,pf);R(this,pf,n)}async wait(n,r){const s=await super.wait(n,r);return s==null?null:new RX(b(this,pf),this.provider,s)}}pf=new WeakMap;class MD extends cO{constructor(n,r,s,i){super(n,r,s);U(this,"log");ce(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class kX extends MD{constructor(e,n,r,s,i){super(e,n,r,new E2(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);ce(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const $P=BigInt(0);function FD(t){return t&&typeof t.call=="function"}function BD(t){return t&&typeof t.estimateGas=="function"}function sy(t){return t&&typeof t.resolveName=="function"}function UD(t){return t&&typeof t.sendTransaction=="function"}function jD(t){if(t!=null){if(sy(t))return t;if(t.provider)return t.provider}}var mf;class NX{constructor(e,n,r){j(this,mf);U(this,"fragment");if(ce(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=_l(e.runner,"resolveName"),i=sy(s)?s:null;R(this,mf,async function(){const o=await Promise.all(n.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(h,d)=>h==="address"?Array.isArray(d)?Promise.all(d.map(f=>Tn(f,i))):Tn(d,i):d)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return b(this,mf)}}mf=new WeakMap;function _l(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Sa(t){return t==null?null:t.provider||null}async function zD(t,e){const n=cn.dereference(t,"overrides");F(typeof n=="object","invalid overrides parameter","overrides",t);const r=Hg(n);return F(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),F(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function OX(t,e,n){const r=_l(t,"resolveName"),s=sy(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(n[o],(a,l)=>(l=cn.dereference(l,a),a==="address"?Tn(l,s):l))))}function DX(t){const e=async function(o){const a=await zD(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Tn(a.from,jD(t.runner)));const l=t.interface,c=oe(a.value||$P,"overrides.value")===$P,h=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!h&&!c&&F(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),F(l.fallback||h,"cannot send data to receive-only contract","overrides.data",a.data);const d=l.receive||l.fallback&&l.fallback.payable;return F(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),F(l.fallback||h,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=_l(t.runner,"call");W(FD(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw o2(c)&&c.data?t.interface.makeError(c.data,l):c}},r=async function(o){const a=t.runner;W(UD(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=Sa(t.runner);return new A2(t.interface,c,l)},s=async function(o){const a=_l(t.runner,"estimateGas");return W(BD(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return ce(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function LX(t,e){const n=function(...c){const h=t.interface.getFunction(e,c);return W(h,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),h},r=async function(...c){const h=n(...c);let d={};if(h.inputs.length+1===c.length&&(d=await zD(c.pop()),d.from&&(d.from=await Tn(d.from,jD(t.runner)))),h.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await OX(t.runner,h.inputs,c);return Object.assign({},d,await wn({to:t.getAddress(),data:t.interface.encodeFunctionData(h,f)}))},s=async function(...c){const h=await a(...c);return h.length===1?h[0]:h},i=async function(...c){const h=t.runner;W(UD(h),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await h.sendTransaction(await r(...c)),f=Sa(t.runner);return new A2(t.interface,f,d)},o=async function(...c){const h=_l(t.runner,"estimateGas");return W(BD(h),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await h.estimateGas(await r(...c))},a=async function(...c){const h=_l(t.runner,"call");W(FD(h),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await h.call(d)}catch(w){throw o2(w)&&w.data?t.interface.makeError(w.data,d):w}const g=n(...c);return t.interface.decodeFunctionResult(g,f)},l=async(...c)=>n(...c).constant?await s(...c):await i(...c);return ce(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=t.interface.getFunction(e);return W(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function VX(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return W(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new NX(t,n(...s),s)};return ce(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return W(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const Gg=Symbol.for("_ethersInternal_contract"),HD=new WeakMap;function MX(t,e){HD.set(t[Gg],e)}function Wn(t){return HD.get(t[Gg])}function FX(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function x2(t,e){let n,r=null;if(Array.isArray(e)){const i=function(o){if(je(o,32))return o;const a=t.interface.getEvent(o);return F(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?n=[null]:typeof e=="string"?je(e,32)?n=[e]:(r=t.interface.getEvent(e),F(r,"unknown fragment","event",e),n=[r.topicHash]):FX(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):F(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function Uh(t,e){const{subs:n}=Wn(t);return n.get((await x2(t,e)).tag)||null}async function WP(t,e,n){const r=Sa(t.runner);W(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await x2(t,n),{addr:a,subs:l}=Wn(t);let c=l.get(i);if(!c){const d={address:a||t,topics:o},f=T=>{let _=s;if(_==null)try{_=t.interface.getEvent(T.topics[0])}catch{}if(_){const E=_,A=s?t.interface.decodeEventLog(s,T.data,T.topics):[];t_(t,n,A,N=>new kX(t,N,n,E,T))}else t_(t,n,[],E=>new MD(t,E,n,T))};let g=[];c={tag:i,listeners:[],start:()=>{g.length||g.push(r.on(d,f))},stop:async()=>{if(g.length==0)return;let T=g;g=[],await Promise.all(T),r.off(d,f)}},l.set(i,c)}return c}let e_=Promise.resolve();async function BX(t,e,n,r){await e_;const s=await Uh(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const l=Array.from(n);r&&l.push(r(a?null:o));try{o.call(t,...l)}catch{}return!a}),s.listeners.length===0&&(s.stop(),Wn(t).subs.delete(s.tag)),i>0}async function t_(t,e,n,r){try{await e_}catch{}const s=BX(t,e,n,r);return e_=s,await s}const qp=["then"];var nC;nC=Gg;const fd=class fd{constructor(e,n,r,s){U(this,"target");U(this,"interface");U(this,"runner");U(this,"filters");U(this,nC);U(this,"fallback");F(typeof e=="string"||QO(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=Z1.from(n);ce(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,Gg,{value:{}});let o,a=null,l=null;if(s){const d=Sa(r);l=new A2(this.interface,d,s)}let c=new Map;if(typeof e=="string")if(je(e))a=e,o=Promise.resolve(e);else{const d=_l(r,"resolveName");if(!sy(d))throw qe("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(f=>{if(f==null)throw qe("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Wn(this).addr=f,f})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Wn(this).addr=d,d});MX(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const h=new Proxy({},{get:(d,f,g)=>{if(typeof f=="symbol"||qp.indexOf(f)>=0)return Reflect.get(d,f,g);try{return this.getEvent(f)}catch(w){if(!Ht(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(d,f)=>qp.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return ce(this,{filters:h}),ce(this,{fallback:i.receive||i.fallback?DX(this):null}),new Proxy(this,{get:(d,f,g)=>{if(typeof f=="symbol"||f in d||qp.indexOf(f)>=0)return Reflect.get(d,f,g);try{return d.getFunction(f)}catch(w){if(!Ht(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(d,f)=>typeof f=="symbol"||f in d||qp.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new fd(this.target,this.interface,e)}attach(e){return new fd(e,this.interface,this.runner)}async getAddress(){return await Wn(this).addrPromise}async getDeployedCode(){const e=Sa(this.runner);W(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Sa(this.runner);return W(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return Wn(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),LX(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),VX(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=Wn(this),o=s||await i,{fragment:a,topics:l}=await x2(this,e),c={address:o,topics:l,fromBlock:n,toBlock:r},h=Sa(this.runner);return W(h,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await h.getLogs(c)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new E2(d,this.interface,f)}catch(g){return new VD(d,g)}return new Qf(d,h)})}async on(e,n){const r=await WP(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await WP(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await t_(this,e,n,null)}async listenerCount(e){if(e){const s=await Uh(this,e);return s?s.listeners.length:0}const{subs:n}=Wn(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await Uh(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=Wn(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await Uh(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),Wn(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await Uh(this,e);if(!n)return this;n.stop(),Wn(this).subs.delete(n.tag)}else{const{subs:n}=Wn(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends fd{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let n_=fd;function UX(){return n_}class dd extends UX(){}function Uv(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):F(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class jX{constructor(e){U(this,"name");ce(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const GD=new RegExp("^(ipfs)://(.*)$","i"),KP=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),GD,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var no,Ua,ro,Gl,Jg,$D;const dc=class dc{constructor(e,n,r){j(this,ro);U(this,"provider");U(this,"address");U(this,"name");j(this,no);j(this,Ua);ce(this,{provider:e,address:n,name:r}),R(this,no,null),R(this,Ua,new dd(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return b(this,no)==null&&R(this,no,(async()=>{try{return await b(this,Ua).supportsInterface("0x9061b923")}catch(e){if(Ht(e,"CALL_EXCEPTION"))return!1;throw R(this,no,null),e}})()),await b(this,no)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await X(this,ro,Gl).call(this,"addr(bytes32)");return i==null||i===Yd?null:i}catch(i){if(Ht(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await X(this,ro,Gl).call(this,"addr(bytes32,uint)",[i]);if(je(o,20))return De(o)}let n=null;for(const i of this.provider.plugins)if(i instanceof jX&&i.supportsCoinType(e)){n=i;break}if(n==null)return null;const r=await X(this,ro,Gl).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await n.decodeAddress(e,r);if(s!=null)return s;W(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await X(this,ro,Gl).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await X(this,ro,Gl).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",i=parseInt(n[4],16);if(n[5].length===i*2)return`${s}://${qQ("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;W(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<KP.length;r++){const s=n.match(KP[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=Uv(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(s[2]||"").split("/");if(l.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const c=l[1],h=new dd(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const v=await h.ownerOf(c);if(a!==v)return e.push({type:"!owner",value:v}),{url:null,linkage:e};e.push({type:"owner",value:v})}else if(i==="erc1155"){const v=await h.balanceOf(a,c);if(!v)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:v.toString()})}let d=await h[o](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",$o(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Uv(d)),e.push({type:"metadata-url",value:d});let f={};const g=await new xi(d).send();g.assertOk();try{f=g.bodyJson}catch{try{e.push({type:"!metadata",value:g.bodyText})}catch{const _=g.body;return _&&e.push({type:"!metadata",value:Z(_)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let w=f.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(GD)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=Uv(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return W(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var s;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const i=await X(s=dc,Jg,$D).call(s,e,r);if(i!=null){const o=new dc(e,i,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};no=new WeakMap,Ua=new WeakMap,ro=new WeakSet,Gl=async function(e,n){n=(n||[]).slice();const r=b(this,Ua).interface;n.unshift(Y1(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),W(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[nX(this.name,255),r.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const i=await b(this,Ua)[e](...n);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Ht(i,"CALL_EXCEPTION"))throw i}return null},Jg=new WeakSet,$D=async function(e,n){const r=await dc.getEnsAddress(e);try{const i=await new dd(r,["function resolver(bytes32) view returns (address)"],e).resolver(Y1(n),{enableCcipRead:!0});return i===Yd?null:i}catch(s){throw s}return null},j(dc,Jg);let $g=dc;const QP=BigInt(0);function be(t,e){return function(n){return n==null?e:t(n)}}function af(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function qf(t,e){return n=>{const r={};for(const s in t){let i=s;if(e&&s in e&&!(i in n)){for(const o of e[s])if(o in n){i=o;break}}try{const o=t[s](n[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";W(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:n})}}return r}}function zX(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}F(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Lu(t){return F(je(t,!0),"invalid data","value",t),t}function jt(t){return F(je(t,32),"invalid hash","value",t),t}const HX=qf({address:De,blockHash:jt,blockNumber:_e,data:Lu,index:_e,removed:be(zX,!1),topics:af(jt),transactionHash:jt,transactionIndex:_e},{index:["logIndex"]});function GX(t){return HX(t)}const $X=qf({hash:be(jt),parentHash:jt,parentBeaconBlockRoot:be(jt,null),number:_e,timestamp:_e,nonce:be(Lu),difficulty:oe,gasLimit:oe,gasUsed:oe,stateRoot:be(jt,null),receiptsRoot:be(jt,null),blobGasUsed:be(oe,null),excessBlobGas:be(oe,null),miner:be(De),prevRandao:be(jt,null),extraData:Lu,baseFeePerGas:be(oe)},{prevRandao:["mixHash"]});function WX(t){const e=$X(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:WD(n)),e}const KX=qf({transactionIndex:_e,blockNumber:_e,transactionHash:jt,address:De,topics:af(jt),data:Lu,index:_e,blockHash:jt},{index:["logIndex"]});function QX(t){return KX(t)}const qX=qf({to:be(De,null),from:be(De,null),contractAddress:be(De,null),index:_e,root:be(Z),gasUsed:oe,blobGasUsed:be(oe,null),logsBloom:be(Lu),blockHash:jt,hash:jt,logs:af(QX),blockNumber:_e,cumulativeGasUsed:oe,effectiveGasPrice:be(oe),blobGasPrice:be(oe,null),status:be(_e),type:be(_e,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function JX(t){return qX(t)}function WD(t){t.to&&oe(t.to)===QP&&(t.to="0x0000000000000000000000000000000000000000");const e=qf({hash:jt,index:be(_e,void 0),type:n=>n==="0x"||n==null?0:_e(n),accessList:be(Pl,null),blobVersionedHashes:be(af(jt,!0),null),authorizationList:be(af(n=>{let r;if(n.signature)r=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),r=Object.assign({},n,{yParity:s})}return{address:De(n.address),chainId:oe(n.chainId),nonce:oe(n.nonce),signature:zn.from(r)}},!1),null),blockHash:be(jt,null),blockNumber:be(_e,null),transactionIndex:be(_e,null),from:De,gasPrice:be(oe),maxPriorityFeePerGas:be(oe),maxFeePerGas:be(oe),maxFeePerBlobGas:be(oe,null),gasLimit:oe,to:be(De,null),value:oe,nonce:_e,data:Lu,creates:be(De,null),chainId:be(oe,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=FJ(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=zn.from(t.signature):e.signature=zn.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&oe(e.blockHash)===QP&&(e.blockHash=null),e}const YX="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Jf{constructor(e){U(this,"name");ce(this,{name:e})}clone(){return new Jf(this.name)}}class iy extends Jf{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);U(this,"effectiveBlock");U(this,"txBase");U(this,"txCreate");U(this,"txDataZero");U(this,"txDataNonzero");U(this,"txAccessListStorageKey");U(this,"txAccessListAddress");const s={effectiveBlock:n};function i(o,a){let l=(r||{})[o];l==null&&(l=a),F(typeof l=="number",`invalud value for ${o}`,"costs",r),s[o]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),ce(this,s)}clone(){return new iy(this.effectiveBlock,this)}}class oy extends Jf{constructor(n,r){super("org.ethers.plugins.network.Ens");U(this,"address");U(this,"targetNetwork");ce(this,{address:n||YX,targetNetwork:r??1})}clone(){return new oy(this.address,this.targetNetwork)}}var gf,yf;class XX extends Jf{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");j(this,gf);j(this,yf);R(this,gf,n),R(this,yf,r)}get url(){return b(this,gf)}get processFunc(){return b(this,yf)}clone(){return this}}gf=new WeakMap,yf=new WeakMap;const jv=new Map;var eu,tu,so;const fc=class fc{constructor(e,n){j(this,eu);j(this,tu);j(this,so);R(this,eu,e),R(this,tu,oe(n)),R(this,so,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return b(this,eu)}set name(e){R(this,eu,e)}get chainId(){return b(this,tu)}set chainId(e){R(this,tu,oe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===oe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===oe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===oe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(b(this,so).values())}attachPlugin(e){if(b(this,so).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return b(this,so).set(e.name,e.clone()),this}getPlugin(e){return b(this,so).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new fc(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new iy;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const s=Pl(e.accessList);for(const i in s)r+=n.txAccessListAddress+n.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(ZX(),e==null)return fc.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=jv.get(e);if(n)return n();if(typeof e=="bigint")return new fc("unknown",e);F(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){F(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new fc(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new oy(e.ensAddress,e.ensNetwork)),n}F(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=jv.get(e);r&&F(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),jv.set(e,n)}};eu=new WeakMap,tu=new WeakMap,so=new WeakMap;let ws=fc;function qP(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function JP(t){return new XX(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:qP(a.maxFee,9),maxPriorityFeePerGas:qP(a.maxPriorityFee,9)}}catch(i){W(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let YP=!1;function ZX(){if(YP)return;YP=!0;function t(e,n,r){const s=function(){const i=new ws(e,n);return r.ensNetwork!=null&&i.attachPlugin(new oy(null,r.ensNetwork)),i.attachPlugin(new iy),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};ws.register(e,s),ws.register(n,s),r.altNames&&r.altNames.forEach(i=>{ws.register(i,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[JP("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[JP("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function r_(t){return JSON.parse(JSON.stringify(t))}var Qs,pr,io,ds,nu,Cm;class eZ{constructor(e){j(this,nu);j(this,Qs);j(this,pr);j(this,io);j(this,ds);R(this,Qs,e),R(this,pr,null),R(this,io,4e3),R(this,ds,-2)}get pollingInterval(){return b(this,io)}set pollingInterval(e){R(this,io,e)}start(){b(this,pr)||(R(this,pr,b(this,Qs)._setTimeout(X(this,nu,Cm).bind(this),b(this,io))),X(this,nu,Cm).call(this))}stop(){b(this,pr)&&(b(this,Qs)._clearTimeout(b(this,pr)),R(this,pr,null))}pause(e){this.stop(),e&&R(this,ds,-2)}resume(){this.start()}}Qs=new WeakMap,pr=new WeakMap,io=new WeakMap,ds=new WeakMap,nu=new WeakSet,Cm=async function(){try{const e=await b(this,Qs).getBlockNumber();if(b(this,ds)===-2){R(this,ds,e);return}if(e!==b(this,ds)){for(let n=b(this,ds)+1;n<=e;n++){if(b(this,pr)==null)return;await b(this,Qs).emit("block",n)}R(this,ds,e)}}catch{}b(this,pr)!=null&&R(this,pr,b(this,Qs)._setTimeout(X(this,nu,Cm).bind(this),b(this,io)))};var ja,za,oo;class T2{constructor(e){j(this,ja);j(this,za);j(this,oo);R(this,ja,e),R(this,oo,!1),R(this,za,n=>{this._poll(n,b(this,ja))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){b(this,oo)||(R(this,oo,!0),b(this,za).call(this,-2),b(this,ja).on("block",b(this,za)))}stop(){b(this,oo)&&(R(this,oo,!1),b(this,ja).off("block",b(this,za)))}pause(e){this.stop()}resume(){this.start()}}ja=new WeakMap,za=new WeakMap,oo=new WeakMap;var ru,qs;class tZ extends T2{constructor(n,r){super(n);j(this,ru);j(this,qs);R(this,ru,r),R(this,qs,-2)}pause(n){n&&R(this,qs,-2),super.pause(n)}async _poll(n,r){const s=await r.getBlock(b(this,ru));s!=null&&(b(this,qs)===-2?R(this,qs,s.number):s.number>b(this,qs)&&(r.emit(b(this,ru),s.number),R(this,qs,s.number)))}}ru=new WeakMap,qs=new WeakMap;var Yg;class nZ extends T2{constructor(n,r){super(n);j(this,Yg);R(this,Yg,r_(r))}async _poll(n,r){throw new Error("@TODO")}}Yg=new WeakMap;var su;class rZ extends T2{constructor(n,r){super(n);j(this,su);R(this,su,r)}async _poll(n,r){const s=await r.getTransactionReceipt(b(this,su));s&&r.emit(b(this,su),s)}}su=new WeakMap;var Js,iu,ou,ao,mr,Xg,KD;class b2{constructor(e,n){j(this,Xg);j(this,Js);j(this,iu);j(this,ou);j(this,ao);j(this,mr);R(this,Js,e),R(this,iu,r_(n)),R(this,ou,X(this,Xg,KD).bind(this)),R(this,ao,!1),R(this,mr,-2)}start(){b(this,ao)||(R(this,ao,!0),b(this,mr)===-2&&b(this,Js).getBlockNumber().then(e=>{R(this,mr,e)}),b(this,Js).on("block",b(this,ou)))}stop(){b(this,ao)&&(R(this,ao,!1),b(this,Js).off("block",b(this,ou)))}pause(e){this.stop(),e&&R(this,mr,-2)}resume(){this.start()}}Js=new WeakMap,iu=new WeakMap,ou=new WeakMap,ao=new WeakMap,mr=new WeakMap,Xg=new WeakSet,KD=async function(e){if(b(this,mr)===-2)return;const n=r_(b(this,iu));n.fromBlock=b(this,mr)+1,n.toBlock=e;const r=await b(this,Js).getLogs(n);if(r.length===0){b(this,mr)<e-60&&R(this,mr,e-60);return}for(const s of r)b(this,Js).emit(b(this,iu),s),R(this,mr,s.blockNumber)};const sZ=BigInt(2),iZ=10;function Jp(t){return t&&typeof t.then=="function"}function Rm(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class QD{constructor(e){U(this,"name");ce(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function oZ(t){return JSON.parse(JSON.stringify(t))}function s_(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function zv(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(je(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:Rm("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:Rm("orphan",n),filter:oZ(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?s_(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],i=[],o=a=>{je(a)?s.push(a):i.push((async()=>{s.push(await Tn(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),i.length&&await Promise.all(i),r.address=s_(s.map(a=>a.toLowerCase()))}return{filter:r,tag:Rm("event",r),type:"event"}}F(!1,"unknown ProviderEvent","event",t)}function Hv(){return new Date().getTime()}const aZ={cacheTimeout:250,pollingInterval:4e3};var nn,lo,rn,au,Jn,Ha,co,Ys,vf,gr,lu,cu,ve,$n,i_,o_,jh,a_,zh,km;class lZ{constructor(e,n){j(this,ve);j(this,nn);j(this,lo);j(this,rn);j(this,au);j(this,Jn);j(this,Ha);j(this,co);j(this,Ys);j(this,vf);j(this,gr);j(this,lu);j(this,cu);if(R(this,cu,Object.assign({},aZ,n||{})),e==="any")R(this,Ha,!0),R(this,Jn,null);else if(e){const r=ws.from(e);R(this,Ha,!1),R(this,Jn,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else R(this,Ha,!1),R(this,Jn,null);R(this,Ys,-1),R(this,co,new Map),R(this,nn,new Map),R(this,lo,new Map),R(this,rn,null),R(this,au,!1),R(this,vf,1),R(this,gr,new Map),R(this,lu,!1)}get pollingInterval(){return b(this,cu).pollingInterval}get provider(){return this}get plugins(){return Array.from(b(this,lo).values())}attachPlugin(e){if(b(this,lo).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return b(this,lo).set(e.name,e.connect(this)),this}getPlugin(e){return b(this,lo).get(e)||null}get disableCcipRead(){return b(this,lu)}set disableCcipRead(e){R(this,lu,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",s).replace("{data}",i),h=new xi(c);l.indexOf("{data}")===-1&&(h.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:h,index:a,urls:r});let d="unknown error",f;try{f=await h.send()}catch(g){o.push(g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:{error:g}});continue}try{const g=f.bodyJson;if(g.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:h,result:g}),g.data;g.message&&(d=g.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:g})}catch{}W(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),o.push(d)}W(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new SX(WX(e),this)}_wrapLog(e,n){return new Qf(GX(e),this)}_wrapTransactionReceipt(e,n){return new OD(JX(e),this)}_wrapTransactionResponse(e,n){return new of(WD(e),this)}_detectNetwork(){W(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){W(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=_e(await X(this,ve,$n).call(this,{method:"getBlockNumber"}),"%response");return b(this,Ys)>=0&&R(this,Ys,e),e}_getAddress(e){return Tn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(je(e))return je(e,32)?e:zr(e);if(typeof e=="bigint"&&(e=_e(e,"blockTag")),typeof e=="number")return e>=0?zr(e):b(this,Ys)>=0?zr(b(this,Ys)+e):this.getBlockNumber().then(n=>zr(n+e));F(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?s_(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(l,c,h)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(c!=null||h!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),n.length&&(f.topics=n),c&&(f.fromBlock=c),h&&(f.toBlock=h),r&&(f.blockHash=r),f};let i=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)i.push(this._getAddress(l));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(l=>s(l[0],l[1],l[2])):s(i,o,a)}_getTransactionRequest(e){const n=Hg(e),r=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const i=Tn(n[s],this);Jp(i)?r.push(async function(){n[s]=await i}()):n[s]=i}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);Jp(s)?r.push(async function(){n.blockTag=await s}()):n.blockTag=s}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(b(this,Jn)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw b(this,Jn)===s&&R(this,Jn,null),i}})();return R(this,Jn,s),(await s).clone()}const e=b(this,Jn),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(b(this,Ha)?(this.emit("network",r,n),b(this,Jn)===e&&R(this,Jn,Promise.resolve(r))):W(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await wn({_block:X(this,ve,a_).call(this,"latest",!1),gasPrice:(async()=>{try{const h=await X(this,ve,$n).call(this,{method:"getGasPrice"});return oe(h,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const h=await X(this,ve,$n).call(this,{method:"getPriorityFee"});return oe(h,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(s,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*sZ+l),new GP(i,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new xi(r.url),i=await r.processFunc(n,this,s);return new GP(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Jp(n)&&(n=await n),oe(await X(this,ve,$n).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await wn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await X(this,ve,o_).call(this,X(this,ve,i_).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return oe(await X(this,ve,jh).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return _e(await X(this,ve,jh).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Z(await X(this,ve,jh).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const s=oe(n,"position");return Z(await X(this,ve,jh).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:s}=await wn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=Vg.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:s}=await wn({network:this.getNetwork(),params:X(this,ve,a_).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:n,params:r}=await wn({network:this.getNetwork(),params:X(this,ve,$n).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await wn({network:this.getNetwork(),params:X(this,ve,$n).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await X(this,ve,$n).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await wn({network:this.getNetwork(),result:X(this,ve,$n).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Z(n)}async getLogs(e){let n=this._getFilter(e);Jp(n)&&(n=await n);const{network:r,params:s}=await wn({network:this.getNetwork(),params:X(this,ve,$n).call(this,{method:"getLogs",filter:n})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){W(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await $g.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=De(e);const n=Y1(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await $g.getEnsAddress(this),i=await new dd(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(i==null||i===Yd)return null;const a=await new dd(i,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Ht(r,"BAD_DATA")&&r.value==="0x"||Ht(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const l=async c=>{try{const h=await this.getTransactionReceipt(e);if(h!=null&&c-h.blockNumber+1>=s){i(h),a&&(clearTimeout(a),a=null);return}}catch(h){console.log("EEE",h)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(qe("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){W(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=b(this,gr).get(e);n&&(n.timer&&clearTimeout(n.timer),b(this,gr).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=fh(this,vf)._++,s=()=>{b(this,gr).delete(r),e()};if(this.paused)b(this,gr).set(r,{timer:null,func:s,time:n});else{const i=setTimeout(s,n);b(this,gr).set(r,{timer:i,func:s,time:Hv()})}return r}_forEachSubscriber(e){for(const n of b(this,nn).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new QD(e.type);case"block":{const n=new eZ(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new tZ(this,e.type);case"event":return new b2(this,e.filter);case"transaction":return new rZ(this,e.hash);case"orphan":return new nZ(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of b(this,nn).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),b(this,rn)!=null&&n.pause(b(this,rn));break}}async on(e,n){const r=await X(this,ve,km).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,b(this,rn)!=null&&r.subscriber.pause(b(this,rn))),this}async once(e,n){const r=await X(this,ve,km).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,b(this,rn)!=null&&r.subscriber.pause(b(this,rn))),this}async emit(e,...n){const r=await X(this,ve,zh).call(this,e,n);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new cO(this,o?null:i,e);try{i.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),b(this,nn).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await X(this,ve,zh).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of b(this,nn).values())n+=r.length;return n}async listeners(e){if(e){const r=await X(this,ve,zh).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:r}of b(this,nn).values())n=n.concat(r.map(({listener:s})=>s));return n}async off(e,n){const r=await X(this,ve,zh).call(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),b(this,nn).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:s}=await X(this,ve,km).call(this,e);r&&s.stop(),b(this,nn).delete(n)}else for(const[n,{started:r,subscriber:s}]of b(this,nn))r&&s.stop(),b(this,nn).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return b(this,au)}destroy(){this.removeAllListeners();for(const e of b(this,gr).keys())this._clearTimeout(e);R(this,au,!0)}get paused(){return b(this,rn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(R(this,Ys,-1),b(this,rn)!=null){if(b(this,rn)==!!e)return;W(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),R(this,rn,!!e);for(const n of b(this,gr).values())n.timer&&clearTimeout(n.timer),n.time=Hv()-n.time}resume(){if(b(this,rn)!=null){this._forEachSubscriber(e=>e.resume()),R(this,rn,null);for(const e of b(this,gr).values()){let n=e.time;n<0&&(n=0),e.time=Hv(),setTimeout(e.func,n)}}}}nn=new WeakMap,lo=new WeakMap,rn=new WeakMap,au=new WeakMap,Jn=new WeakMap,Ha=new WeakMap,co=new WeakMap,Ys=new WeakMap,vf=new WeakMap,gr=new WeakMap,lu=new WeakMap,cu=new WeakMap,ve=new WeakSet,$n=async function(e){const n=b(this,cu).cacheTimeout;if(n<0)return await this._perform(e);const r=Rm(e.method,e);let s=b(this,co).get(r);return s||(s=this._perform(e),b(this,co).set(r,s),setTimeout(()=>{b(this,co).get(r)===s&&b(this,co).delete(r)},n)),await s},i_=async function(e,n,r){W(r<iZ,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=Hg(e);try{return Z(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(i){if(!this.disableCcipRead&&o2(i)&&i.data&&r>=0&&n==="latest"&&s.to!=null&&it(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Tn(s.to,this);let l;try{l=fZ(it(i.data,4))}catch(d){W(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}W(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(s,l.calldata,l.urls);W(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:l.errorArgs}});const h={to:a,data:at([l.selector,dZ([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:h});try{const d=await X(this,ve,i_).call(this,h,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},h),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},h),error:d}),d}}throw i}},o_=async function(e){const{value:n}=await wn({network:this.getNetwork(),value:e});return n},jh=async function(e,n,r){let s=this._getAddress(n),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await X(this,ve,o_).call(this,X(this,ve,$n).call(this,Object.assign(e,{address:s,blockTag:i})))},a_=async function(e,n){if(je(e,32))return await X(this,ve,$n).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await X(this,ve,$n).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},zh=async function(e,n){let r=await zv(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await zv({orphan:"drop-log",log:n[0]},this)),b(this,nn).get(r.tag)||null},km=async function(e){const n=await zv(e,this),r=n.tag;let s=b(this,nn).get(r);return s||(s={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},b(this,nn).set(r,s)),s};function cZ(t,e){try{const n=l_(t,e);if(n)return Dg(n)}catch{}return null}function l_(t,e){if(t==="0x")return null;try{const n=_e(it(t,e,e+32)),r=_e(it(t,n,n+32));return it(t,n+32,n+32+r)}catch{}return null}function XP(t){const e=Tt(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function uZ(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const hZ=new Uint8Array([]);function dZ(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(hZ),n+=32;for(let r=0;r<t.length;r++){const s=we(t[r]);e[r]=XP(n),e.push(XP(s.length)),e.push(uZ(s)),n+=32+Math.ceil(s.length/32)*32}return at(e)}const ZP="0x0000000000000000000000000000000000000000000000000000000000000000";function fZ(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};W(bc(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=it(t,0,32);W(it(n,0,12)===it(ZP,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=it(n,12);try{const r=[],s=_e(it(t,32,64)),i=_e(it(t,s,s+32)),o=it(t,s+32);for(let a=0;a<i;a++){const l=cZ(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{W(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=l_(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{W(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}W(it(t,100,128)===it(ZP,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=it(t,96,100);try{const r=l_(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{W(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function la(t,e){if(t.provider)return t.provider;W(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function eC(t,e){let n=Hg(e);if(n.to!=null&&(n.to=Tn(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Tn(r,t)]).then(([s,i])=>(F(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else n.from=t.getAddress();return await wn(n)}class pZ{constructor(e){U(this,"provider");ce(this,{provider:e||null})}async getNonce(e){return la(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await eC(this,e)}async populateTransaction(e){const n=la(this,"populateTransaction"),r=await eC(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=oe(r.chainId);F(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?F(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&F(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();W(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(W(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):W(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3||r.type===4)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await wn(r)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await la(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return la(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return la(this,"call").call(await this.populateCall(e))}async resolveName(e){return await la(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=la(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=Vg.from(r);return await n.broadcastTransaction(await this.signTransaction(s))}authorize(e){W(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function mZ(t){return JSON.parse(JSON.stringify(t))}var yn,fs,Ga,uo,$a,uu,Ko,c_,u_;class qD{constructor(e){j(this,Ko);j(this,yn);j(this,fs);j(this,Ga);j(this,uo);j(this,$a);j(this,uu);R(this,yn,e),R(this,fs,null),R(this,Ga,X(this,Ko,c_).bind(this)),R(this,uo,!1),R(this,$a,null),R(this,uu,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){b(this,uo)||(R(this,uo,!0),X(this,Ko,c_).call(this,-2))}stop(){b(this,uo)&&(R(this,uo,!1),R(this,uu,!0),X(this,Ko,u_).call(this),b(this,yn).off("block",b(this,Ga)))}pause(e){e&&X(this,Ko,u_).call(this),b(this,yn).off("block",b(this,Ga))}resume(){this.start()}}yn=new WeakMap,fs=new WeakMap,Ga=new WeakMap,uo=new WeakMap,$a=new WeakMap,uu=new WeakMap,Ko=new WeakSet,c_=async function(e){try{b(this,fs)==null&&R(this,fs,this._subscribe(b(this,yn)));let n=null;try{n=await b(this,fs)}catch(i){if(!Ht(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(n==null){R(this,fs,null),b(this,yn)._recoverSubscriber(this,this._recover(b(this,yn)));return}const r=await b(this,yn).getNetwork();if(b(this,$a)||R(this,$a,r),b(this,$a).chainId!==r.chainId)throw new Error("chaid changed");if(b(this,uu))return;const s=await b(this,yn).send("eth_getFilterChanges",[n]);await this._emitResults(b(this,yn),s)}catch(n){console.log("@TODO",n)}b(this,yn).once("block",b(this,Ga))},u_=function(){const e=b(this,fs);e&&(R(this,fs,null),e.then(n=>{b(this,yn).destroyed||b(this,yn).send("eth_uninstallFilter",[n])}))};var Wa;class gZ extends qD{constructor(n,r){super(n);j(this,Wa);R(this,Wa,mZ(r))}_recover(n){return new b2(n,b(this,Wa))}async _subscribe(n){return await n.send("eth_newFilter",[b(this,Wa)])}async _emitResults(n,r){for(const s of r)n.emit(b(this,Wa),n._wrapLog(s,n._network))}}Wa=new WeakMap;class yZ extends qD{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const vZ="bigint,boolean,function,number,string,symbol".split(/,/g);function Nm(t){if(t==null||vZ.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Nm);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function wZ(t){return new Promise(e=>{setTimeout(e,t)})}function Ml(t){return t&&t.toLowerCase()}function tC(t){return t&&typeof t.pollingInterval=="number"}const JD={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Gv extends pZ{constructor(n,r){super(n);U(this,"address");r=De(r),ce(this,{address:r})}connect(n){W(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=Nm(n),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await Tn(o,this.provider);F(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await Tn(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((i,o)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const h=await this.provider.getTransaction(s);if(h!=null){i(h.replaceableTransaction(r));return}}catch(h){if(Ht(h,"CANCELLED")||Ht(h,"BAD_DATA")||Ht(h,"NETWORK_ERROR")||Ht(h,"UNSUPPORTED_OPERATION")){h.info==null&&(h.info={}),h.info.sendTransactionHash=s,o(h);return}if(Ht(h,"INVALID_ARGUMENT")&&(l++,h.info==null&&(h.info={}),h.info.sendTransactionHash=s,l>10)){o(h);return}this.provider.emit("error",qe("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:h}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(n){const r=Nm(n);if(r.from){const i=await Tn(r.from,this.provider);F(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const r=typeof n=="string"?ci(n):n;return await this.provider.send("personal_sign",[Z(r),this.address.toLowerCase()])}async signTypedData(n,r,s){const i=Nm(s),o=await zg.resolveNames(n,r,i,async a=>{const l=await Tn(a);return F(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(zg.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?ci(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Z(r)])}}var Ka,hu,Xs,ps,Br,yr,Rn,wf,h_;class _Z extends lZ{constructor(n,r){super(n,r);j(this,wf);j(this,Ka);j(this,hu);j(this,Xs);j(this,ps);j(this,Br);j(this,yr);j(this,Rn);R(this,hu,1),R(this,Ka,Object.assign({},JD,r||{})),R(this,Xs,[]),R(this,ps,null),R(this,yr,null),R(this,Rn,null);{let i=null;const o=new Promise(a=>{i=a});R(this,Br,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(F(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&n!=null&&R(this,yr,ws.from(n))):s&&(F(n==null||s.matches(n),"staticNetwork MUST match network object","options",r),R(this,yr,s))}_getOption(n){return b(this,Ka)[n]}get _network(){return W(b(this,yr),"network is not available yet","NETWORK_ERROR"),b(this,yr)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&oe(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(b(this,yr))return b(this,yr)}else return n;return b(this,Rn)?await b(this,Rn):this.ready?(R(this,Rn,(async()=>{try{const r=ws.from(oe(await this.send("eth_chainId",[])));return R(this,Rn,null),r}catch(r){throw R(this,Rn,null),r}})()),await b(this,Rn)):(R(this,Rn,(async()=>{const r={id:fh(this,hu)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],R(this,Rn,null)}catch(i){throw R(this,Rn,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return ws.from(oe(s.result));throw this.getRpcError(r,s)})()),await b(this,Rn))}_start(){b(this,Br)==null||b(this,Br).resolve==null||(b(this,Br).resolve(),R(this,Br,null),(async()=>{for(;b(this,yr)==null&&!this.destroyed;)try{R(this,yr,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",qe("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await wZ(1e3)}X(this,wf,h_).call(this)})())}async _waitUntilReady(){if(b(this,Br)!=null)return await b(this,Br).promise}_getSubscriber(n){return n.type==="pending"?new yZ(this):n.type==="event"?this._getOption("polling")?new b2(this,n.filter):new gZ(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new QD("orphan"):super._getSubscriber(n)}get ready(){return b(this,Br)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=zr(oe(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(r[s]=Z(n[s]))}),n.accessList&&(r.accessList=Pl(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),n.authorizationList&&(r.authorizationList=n.authorizationList.map(s=>{const i=XO(s);return{address:i.address,nonce:zr(i.nonce),chainId:zr(i.chainId),yParity:zr(i.signature.yParity),r:zr(i.signature.r),s:zr(i.signature.s)}})),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ml(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ml(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ml(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ml(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(Ml):n.filter.address=Ml(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:s}=n,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const l=i.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return qe("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:i}});if(l.match(/nonce/i)&&l.match(/too low/i))return qe("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const l=d_(i),c=sf.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],l?l.data:null);return c.info={error:i,payload:n},c}const o=JSON.stringify(xZ(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return qe("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const l=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return qe("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return qe("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return qe("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(o.match(/only replay-protected/i))return qe("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:l,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?qe("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:i,payload:n}}):qe("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(qe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=fh(this,hu)._++,i=new Promise((o,a)=>{b(this,Xs).push({resolve:o,reject:a,payload:{method:n,params:r,id:s,jsonrpc:"2.0"}})});return X(this,wf,h_).call(this),i}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const i=await r;if(n>=i.length)throw new Error("no such account");return new Gv(this,i[n])}const{accounts:s}=await wn({network:this.getNetwork(),accounts:r});n=De(n);for(const i of s)if(De(i)===n)return new Gv(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new Gv(this,r))}destroy(){b(this,ps)&&(clearTimeout(b(this,ps)),R(this,ps,null));for(const{payload:n,reject:r}of b(this,Xs))r(qe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));R(this,Xs,[]),super.destroy()}}Ka=new WeakMap,hu=new WeakMap,Xs=new WeakMap,ps=new WeakMap,Br=new WeakMap,yr=new WeakMap,Rn=new WeakMap,wf=new WeakSet,h_=function(){if(b(this,ps))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");R(this,ps,setTimeout(()=>{R(this,ps,null);const r=b(this,Xs);for(R(this,Xs,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==b(this,Ka).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>b(this,Ka).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of s){if(this.destroyed){l(qe("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const h=o.filter(d=>d.id===c.id)[0];if(h==null){const d=qe("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",d),l(d);continue}if("error"in h){l(this.getRpcError(c,h));continue}a(h.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},n))};var ho;class EZ extends _Z{constructor(n,r){super(n,r);j(this,ho);let s=this._getOption("pollingInterval");s==null&&(s=JD.pollingInterval),R(this,ho,s)}_getSubscriber(n){const r=super._getSubscriber(n);return tC(r)&&(r.pollingInterval=b(this,ho)),r}get pollingInterval(){return b(this,ho)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");R(this,ho,n),this._forEachSubscriber(r=>{tC(r)&&(r.pollingInterval=b(this,ho))})}}ho=new WeakMap;var du;class AZ extends EZ{constructor(n,r,s){n==null&&(n="http://localhost:8545");super(r,s);j(this,du);typeof n=="string"?R(this,du,new xi(n)):R(this,du,n.clone())}_getConnection(){return b(this,du).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const s=await r.send();s.assertOk();let i=s.bodyJson;return Array.isArray(i)||(i=[i]),i}}du=new WeakMap;function d_(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&je(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=d_(t[e]);if(n)return n}return null}if(typeof t=="string")try{return d_(JSON.parse(t))}catch{}return null}function f_(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)f_(t[n],e);if(typeof t=="string")try{return f_(JSON.parse(t),e)}catch{}}}function xZ(t){const e=[];return f_(t,e),e}const TZ="https://polygon-amoy.g.alchemy.com/v2/7aj78gW2At9x39qcp38bC";function YD(t){const[e,n]=L.useState(null);return L.useEffect(()=>{if(!t)return;async function r(){var s;try{const i=new AZ(TZ),o=await i.getTransaction(t),a=await i.getTransactionReceipt(t);if(!o||!a)return;const l=await i.getBlock(a.blockNumber),c={blockNumber:a.blockNumber,gasUsed:(s=a.gasUsed)==null?void 0:s.toString(),confirmations:a.confirmations,timestamp:new Date(l.timestamp*1e3).toLocaleString(),from:o.from,to:o.to};n(c)}catch(i){console.error("Blockchain tx fetch failed:",i)}}r()},[t]),e}function bZ({post:t,user:e,userVote:n,onVote:r,onShare:s}){var l,c;const[i,o]=L.useState(!1),a=YD(t.anchorTx);return m.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-[#0d0d12]/80 border border-gray-800 rounded-2xl p-5 shadow-[0_0_20px_rgba(99,102,241,0.15)] backdrop-blur-sm hover:shadow-[0_0_25px_rgba(99,102,241,0.3)] transition-all",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 text-sm font-medium",children:[m.jsx(GE,{}),m.jsx("span",{className:"truncate max-w-[240px] sm:max-w-[350px]",children:t.url})]}),t.anchored&&m.jsx(xe.div,{animate:{opacity:[.8,1,.8]},transition:{duration:2,repeat:1/0},className:"text-xs text-green-400 flex items-center gap-1",children:" Verified & Archived"})]}),m.jsx("p",{className:"text-gray-300 text-sm mb-3",children:t.anchored?"Reporter name and description are permanently stored on IPFS.":t.description||"No description provided."}),t.anchored&&m.jsxs("div",{className:"mt-3 border-t border-gray-800 pt-3",children:[m.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[t.ipfsGateway&&m.jsx("button",{onClick:()=>window.open(t.ipfsGateway,"_blank"),className:"px-3 py-1 rounded-full bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20 hover:text-indigo-300 transition",children:" View on IPFS"}),t.backupLink&&m.jsx("button",{onClick:()=>window.open(t.backupLink,"_blank"),className:"px-3 py-1 rounded-full bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 hover:text-blue-300 transition",children:" Backup (w3s.link)"}),t.anchorTxUrl&&m.jsx("button",{onClick:()=>window.open(t.anchorTxUrl,"_blank"),className:"px-3 py-1 rounded-full bg-green-500/10 text-green-400 hover:bg-green-500/20 hover:text-green-300 transition",children:" View on Blockchain"})]}),m.jsx("button",{onClick:()=>o(!i),className:"mt-3 text-xs text-indigo-400 underline hover:text-indigo-300 transition",children:i?"Hide Blockchain Record":"View Blockchain Record"}),i&&a&&m.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mt-2 bg-[#101020]/60 border border-gray-700 rounded-lg p-3 text-xs text-gray-300",children:[m.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 font-semibold mb-2",children:[m.jsx(HE,{})," Blockchain Record"]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Tx Hash:"})," ",m.jsx("a",{href:t.anchorTxUrl,target:"_blank",className:"text-green-400 underline break-all",children:t.anchorTx})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Block Number:"})," ",a.blockNumber]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Gas Used:"})," ",a.gasUsed]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Confirmations:"})," ",a.confirmations]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Anchored At:"})," ",a.timestamp]}),m.jsxs("p",{children:[m.jsx("strong",{children:"From:"})," ",a.from]}),m.jsxs("p",{children:[m.jsx("strong",{children:"To:"})," ",a.to]}),t.evidenceHash&&m.jsxs("p",{children:[m.jsx("strong",{children:"Evidence Hash:"})," ",m.jsx("span",{className:"text-gray-400 break-all",children:t.evidenceHash})]})]})]}),m.jsxs("div",{className:"flex items-center justify-between text-gray-400 text-sm mt-3",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("button",{onClick:()=>r(t.id,"upvote"),className:`flex items-center gap-1 ${n===1?"text-indigo-400 font-semibold":"hover:text-indigo-400"} transition`,children:[m.jsx(cN,{})," ",t.upvotes||0]}),m.jsxs("button",{onClick:()=>r(t.id,"downvote"),className:`flex items-center gap-1 ${n===-1?"text-red-400 font-semibold":"hover:text-red-400"} transition`,children:[m.jsx(lN,{})," ",t.downvotes||0]}),m.jsxs("button",{className:"flex items-center gap-1 hover:text-indigo-400 transition",children:[m.jsx(QU,{})," ",t.commentsCount||0]})]}),m.jsxs("button",{onClick:()=>s(t.url),className:"flex items-center gap-1 hover:text-indigo-400 transition",children:[m.jsx(ZU,{})," Share"]})]}),m.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:["Posted by"," ",m.jsx("span",{className:"text-indigo-400",children:t.authorName||"Unknown"})," ","on"," ",(c=(l=t.createdAt)==null?void 0:l.toDate)!=null&&c.call(l).toLocaleString?t.createdAt.toDate().toLocaleString():t.createdAt||"Unknown"]})]},t.id)}function IZ(){const{user:t}=qu(),[e,n]=L.useState([]),[r,s]=L.useState({}),[i,o]=L.useState(null);L.useEffect(()=>{const c=ml(pl(mt,"posts"),qd("createdAt","desc")),h=Go(c,d=>{const f=d.docs.map(g=>({id:g.id,...g.data()}));n(f)});return()=>h()},[]),L.useEffect(()=>{if(!t)return;const c=[];return e.forEach(h=>{const d=tr(mt,"posts",h.id,"userVotes",t.uid),f=Go(d,g=>{g.exists()?s(w=>({...w,[h.id]:g.data().vote})):s(w=>{const v={...w};return delete v[h.id],v})});c.push(f)}),()=>c.forEach(h=>h())},[t,e]);const a=async(c,h)=>{if(!t)return alert("Please log in to vote.");const d=tr(mt,"posts",c),f=tr(mt,"posts",c,"userVotes",t.uid);await F6(mt,async g=>{const w=await g.get(d);if(!w.exists())throw"Post not found.";const v=w.data(),T=await g.get(f),_=T.exists()?T.data().vote:0;let E=v.upvotes||0,A=v.downvotes||0;if(_===1&&h==="upvote"){E--,g.update(d,{upvotes:E}),g.delete(f);return}if(_===-1&&h==="downvote"){A--,g.update(d,{downvotes:A}),g.delete(f);return}if(_===1&&h==="downvote"){E--,A++,g.update(d,{upvotes:E,downvotes:A}),g.set(f,{vote:-1});return}if(_===-1&&h==="upvote"){A--,E++,g.update(d,{upvotes:E,downvotes:A}),g.set(f,{vote:1});return}if(_===0&&h==="upvote"){E++,g.update(d,{upvotes:E}),g.set(f,{vote:1});return}if(_===0&&h==="downvote"){A++,g.update(d,{downvotes:A}),g.set(f,{vote:-1});return}})},l=c=>{navigator.clipboard.writeText(c),alert("Post URL copied!")};return e.length===0?m.jsxs("div",{className:"text-center text-gray-400 py-20",children:[m.jsx("p",{className:"text-lg",children:"No posts yet "}),m.jsx("p",{className:"text-sm text-gray-500",children:"Be the first to report a phishing site!"})]}):m.jsxs("div",{className:"space-y-6",children:[e.map(c=>m.jsx(bZ,{post:c,user:t,userVote:r[c.id],onVote:a,onShare:l},c.id)),m.jsx(HQ,{imageURL:i,onClose:()=>o(null)})]})}function XD({open:t,onClose:e}){const{user:n}=qu(),[r,s]=L.useState("url"),[i,o]=L.useState(""),[a,l]=L.useState(""),[c,h]=L.useState(!1),d=w=>/^0x[a-fA-F0-9]{40}$/.test(w.trim()),f=w=>{try{const v=new URL(w.trim());return v.protocol==="http:"||v.protocol==="https:"}catch{return!1}},g=async w=>{if(w.preventDefault(),!n)return alert("Please log in to create a post.");if(!a.trim()){alert("Please provide a description / reason.");return}if(!i.trim()){alert(`Please provide a ${r==="url"?"website URL":"wallet address"}.`);return}if(r==="url"){if(!f(i)){alert("Please enter a valid URL (must include http:// or https://).");return}}else if(!d(i)&&!window.confirm("The wallet address doesn't match the basic 0x.. pattern. Do you still want to submit it as provided?"))return;h(!0);try{await vK(pl(mt,"posts"),{url:i.trim(),description:a.trim(),authorId:n.uid,authorName:n.displayName||n.email.split("@")[0],upvotes:0,downvotes:0,anchored:!1,anchorTx:"",createdAt:B6()}),o(""),l(""),s("url"),e()}catch(v){console.error(v),alert("Error submitting post: "+((v==null?void 0:v.message)||v))}finally{h(!1)}};return m.jsx(Pf,{children:t&&m.jsx(xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:m.jsxs(xe.div,{initial:{scale:.9,y:40},animate:{scale:1,y:0},exit:{scale:.9,y:40},transition:{duration:.2},className:"bg-[#0d0d12]/95 border border-indigo-800/40 rounded-2xl shadow-[0_0_20px_rgba(99,102,241,0.2)] p-6 w-[90%] max-w-md text-white relative",children:[m.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-gray-400 hover:text-white",children:m.jsx(WE,{})}),m.jsx("h3",{className:"text-xl font-semibold mb-4 text-center bg-gradient-to-r from-indigo-400 to-indigo-600 bg-clip-text text-transparent",children:"Report a Phishing Site"}),m.jsxs("form",{onSubmit:g,className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[m.jsx("button",{type:"button",onClick:()=>s("url"),className:`px-4 py-2 rounded-lg font-medium text-sm transition ${r==="url"?"bg-indigo-600 text-white shadow-[0_6px_18px_rgba(99,102,241,0.18)]":"bg-[#0f1020] text-gray-300 border border-indigo-800/40 hover:bg-[#121225]"}`,children:"Website URL"}),m.jsx("button",{type:"button",onClick:()=>s("wallet"),className:`px-4 py-2 rounded-lg font-medium text-sm transition ${r==="wallet"?"bg-indigo-600 text-white shadow-[0_6px_18px_rgba(99,102,241,0.18)]":"bg-[#0f1020] text-gray-300 border border-indigo-800/40 hover:bg-[#121225]"}`,children:"Wallet Address"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:r==="url"?"Website URL":"Wallet Address"}),m.jsx("input",{type:"text",placeholder:r==="url"?"https://example.com":"0x1234... (Ethereum / Polygon address)",value:i,onChange:w=>o(w.target.value),className:"w-full p-3 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition"}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r==="url"?"Include the full URL (must start with http:// or https://).":"Provide the full wallet address (0x...); ENS names are not validated here."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description / Reason"}),m.jsx("textarea",{placeholder:"Why do you think this site is phishing?",value:a,onChange:w=>l(w.target.value),className:"w-full p-3 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition h-28 resize-none"})]}),m.jsx("button",{type:"submit",disabled:c,className:`w-full py-2 rounded-lg font-semibold text-white transition-all duration-300 ${c?"bg-indigo-900 cursor-not-allowed":"bg-gradient-to-r from-indigo-500 to-indigo-700 hover:shadow-[0_0_15px_rgba(99,102,241,0.5)]"}`,children:c?"Submitting...":"Submit Report"})]})]})})})}function SZ(){const[t,e]=L.useState(!1),[n,r]=L.useState(!1);return m.jsxs("div",{className:"h-screen w-full flex flex-col bg-gradient-to-b from-[#0a0a0a] via-[#0f1020] to-[#07070a] text-white overflow-hidden",children:[m.jsx(UQ,{onToggleSidebar:()=>e(!0),onCreate:()=>r(!0)}),m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsx("div",{className:"hidden md:flex md:w-64 md:flex-shrink-0 border-r border-gray-800",children:m.jsx("div",{className:"w-full h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-800 scrollbar-track-transparent",children:m.jsx(jQ,{open:t,onClose:()=>e(!1),onCreate:()=>r(!0)})})}),m.jsx("main",{className:"flex-1 h-full overflow-y-auto px-4 sm:px-6 py-8 scrollbar-thin scrollbar-thumb-gray-800 scrollbar-track-transparent",children:m.jsx("div",{className:"max-w-3xl mx-auto space-y-6",children:m.jsx(IZ,{})})}),m.jsx("div",{className:"hidden lg:block lg:w-80 xl:w-96 border-l border-gray-800",children:m.jsx("div",{className:"h-full overflow-y-auto scrollbar-thin scrollbar-thumb-gray-800 scrollbar-track-transparent",children:m.jsx(zQ,{})})})]}),m.jsx(XD,{open:n,onClose:()=>r(!1)})]})}function PZ(){var d;const{id:t}=T4(),e=Yr(),{user:n}=qu(),[r,s]=L.useState(null),[i,o]=L.useState(!0),[a,l]=L.useState(0),c=YD(r==null?void 0:r.anchorTx);L.useEffect(()=>{if(!t)return;const f=tr(mt,"posts",t),g=Go(f,w=>{w.exists()&&s({id:w.id,...w.data()}),o(!1)});return()=>g()},[t]),L.useEffect(()=>{if(!n||!r)return;const f=tr(mt,"posts",r.id,"userVotes",n.uid),g=Go(f,w=>{w.exists()?l(w.data().vote):l(0)});return()=>g()},[n,r]);const h=async f=>{if(!n||!r)return alert("Please log in to vote.");const g=tr(mt,"posts",r.id),w=tr(mt,"posts",r.id,"userVotes",n.uid);await F6(mt,async v=>{const T=await v.get(g);if(!T.exists())throw"Post not found.";const _=T.data(),E=await v.get(w),A=E.exists()?E.data().vote:0;let N=_.upvotes||0,D=_.downvotes||0;if(A===1&&f==="upvote"){N--,v.update(g,{upvotes:N}),v.delete(w);return}if(A===-1&&f==="downvote"){D--,v.update(g,{downvotes:D}),v.delete(w);return}if(A===1&&f==="downvote"){N--,D++,v.update(g,{upvotes:N,downvotes:D}),v.set(w,{vote:-1});return}if(A===-1&&f==="upvote"){D--,N++,v.update(g,{upvotes:N,downvotes:D}),v.set(w,{vote:1});return}if(A===0&&f==="upvote"){N++,v.update(g,{upvotes:N}),v.set(w,{vote:1});return}if(A===0&&f==="downvote"){D++,v.update(g,{downvotes:D}),v.set(w,{vote:-1});return}})};return i?m.jsx("div",{className:"flex justify-center items-center h-[80vh] text-gray-400",children:"Loading post details..."}):r?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"max-w-3xl mx-auto mt-8 mb-2",children:m.jsxs("button",{onClick:()=>e("/feed"),className:"flex items-center gap-2 text-sm text-gray-300 hover:text-indigo-400 transition",children:[m.jsx(A0,{}),"Back to Feed"]})}),m.jsxs(xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"max-w-3xl mx-auto mt-10 p-6 rounded-2xl border border-gray-800 bg-[#0d0d12]/80 text-gray-200 shadow-[0_0_30px_rgba(99,102,241,0.2)]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-3",children:[m.jsxs("div",{className:"flex items-center gap-2 text-indigo-400 text-sm",children:[m.jsx(GE,{}),m.jsx("span",{className:"truncate max-w-[250px]",children:r.url})]}),r.anchored&&m.jsx("span",{className:"text-xs text-green-400",children:" Verified & Archived"})]}),m.jsx("p",{className:"text-gray-300 mb-4",children:r.description||"No description."}),m.jsxs("div",{className:"flex items-center gap-4 mb-6 text-sm",children:[m.jsxs("button",{onClick:()=>h("upvote"),className:`flex items-center gap-1 ${a===1?"text-indigo-400 font-semibold":"hover:text-indigo-400"} transition`,children:[m.jsx(cN,{})," ",r.upvotes||0]}),m.jsxs("button",{onClick:()=>h("downvote"),className:`flex items-center gap-1 ${a===-1?"text-red-400 font-semibold":"hover:text-red-400"} transition`,children:[m.jsx(lN,{})," ",r.downvotes||0]})]}),r.anchored&&m.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.4},className:"p-4 rounded-xl bg-[#101020]/60 border border-indigo-700/40 mb-4",children:[m.jsxs("h3",{className:"text-indigo-400 font-semibold flex items-center gap-2 mb-2",children:[m.jsx(HE,{})," Blockchain Verification"]}),m.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Tx Hash:"})," ",m.jsx("a",{href:r.anchorTxUrl||`https://amoy.polygonscan.com/tx/${r.anchorTx}`,target:"_blank",rel:"noreferrer",className:"text-green-400 underline break-all",children:r.anchorTx})]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Block:"})," ",(c==null?void 0:c.blockNumber)||""]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Anchored At:"})," ",(c==null?void 0:c.timestamp)||""]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Confirmations:"})," ",(c==null?void 0:c.confirmations)||0]})]}),m.jsxs("div",{className:"flex gap-3 mt-3 flex-wrap",children:[r.ipfsGateway&&m.jsx("button",{onClick:()=>window.open(r.ipfsGateway,"_blank"),className:"px-3 py-1 rounded-full bg-indigo-500/10 text-indigo-400 hover:bg-indigo-500/20 hover:text-indigo-300 text-xs transition",children:" View on IPFS"}),r.backupLink&&m.jsx("button",{onClick:()=>window.open(r.backupLink,"_blank"),className:"px-3 py-1 rounded-full bg-blue-500/10 text-blue-400 hover:bg-blue-500/20 hover:text-blue-300 text-xs transition",children:" Backup (w3s.link)"})]})]}),m.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Posted by ",m.jsx("span",{className:"text-indigo-400",children:r.authorName||"Unknown"})," "," ",(d=r.createdAt)!=null&&d.toDate?r.createdAt.toDate().toLocaleString():"N/A"]})]})]}):m.jsx("div",{className:"flex justify-center items-center h-[80vh] text-gray-400",children:"Post not found."})}function CZ(){const{user:t}=qu(),[e,n]=L.useState(null),[r,s]=L.useState(!1),[i,o]=L.useState(!0),[a,l]=L.useState(!1),[c,h]=L.useState(!1),d=Yr();L.useEffect(()=>{if(!t)return;async function T(){try{const _=tr(mt,"users",t.uid),E=await XA(_);E.exists()&&n(E.data())}catch(_){console.error("Profile fetch failed:",_)}finally{o(!1)}}T()},[t]);const f=T=>{n({...e,[T.target.name]:T.target.value})},g=T=>{n({...e,gender:T.target.value})},w=async T=>{const _=T.target.files[0];if(!(!_||!t)){h(!0);try{const E=kQ(MQ,`profileImages/${t.uid}/${_.name}`);await CQ(E,_);const A=await RQ(E);n(N=>({...N,photoURL:A})),t.photoURL=A}catch(E){console.error("Image upload failed:",E),alert("Failed to upload image. Check console for details.")}finally{h(!1)}}},v=async()=>{if(t){l(!0);try{const T=tr(mt,"users",t.uid);await yK(T,{displayName:e.displayName||"",username:e.username||"",email:e.email||"",gender:e.gender||"",photoURL:e.photoURL||""}),t.photoURL=e.photoURL||t.photoURL,t.displayName=e.displayName||t.displayName,s(!1)}catch(T){console.error("Profile update failed:",T),alert("Error updating profile. Check console for details.")}finally{l(!1)}}};return i?m.jsx("div",{className:"flex justify-center items-center h-[70vh] text-gray-400",children:"Loading profile..."}):e?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"max-w-3xl mx-auto mt-8 mb-2",children:m.jsxs("button",{onClick:()=>d("/feed"),className:"flex items-center gap-2 text-sm text-gray-300 hover:text-indigo-400 transition",children:[m.jsx(A0,{}),"Back to Feed"]})}),m.jsxs(xe.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.4},className:"max-w-3xl mx-auto mt-4 p-6 bg-[#0d0d12]/90 rounded-2xl border border-gray-800 text-gray-200 shadow-[0_0_30px_rgba(99,102,241,0.2)]",children:[m.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.jsxs("div",{className:"relative",children:[m.jsx(xe.img,{src:e.photoURL||`https://api.dicebear.com/7.x/identicon/svg?seed=${e.username||"user"}`,alt:"Profile",className:"w-28 h-28 rounded-full border-2 border-indigo-500 shadow-lg mb-4 object-cover",whileHover:{scale:1.05}}),r&&m.jsxs("label",{htmlFor:"fileUpload",className:"absolute bottom-5 right-2 bg-indigo-600 hover:bg-indigo-500 p-2 rounded-full cursor-pointer",children:[m.jsx(WU,{}),m.jsx("input",{type:"file",id:"fileUpload",accept:"image/*",onChange:w,className:"hidden"})]})]}),m.jsx(xe.h2,{className:"text-2xl font-semibold text-indigo-400",initial:{opacity:0},animate:{opacity:1},children:e.displayName||"Anonymous User"}),m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:e.email}),m.jsx("div",{className:"mt-4 flex gap-3",children:r?m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:v,disabled:a,className:`flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-500 rounded-md transition text-sm font-medium ${a?"opacity-70 cursor-not-allowed":""}`,children:[m.jsx(XU,{})," ",a?"Saving...":"Save Changes"]}),m.jsxs("button",{onClick:()=>s(!1),className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-md transition text-sm font-medium",children:[m.jsx(WE,{})," Cancel"]})]}):m.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-md transition text-sm font-medium",children:[m.jsx(ej,{})," Edit Profile"]})}),c&&m.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Uploading image..."})]}),m.jsxs(xe.div,{className:"mt-8 space-y-4",initial:{opacity:0},animate:{opacity:1},children:[[{label:"Display Name",name:"displayName"},{label:"Username",name:"username"},{label:"Email",name:"email"}].map((T,_)=>m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:T.label}),r?m.jsx("input",{type:"text",name:T.name,value:e[T.name]||"",onChange:f,className:"w-full p-3 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition"}):m.jsx("p",{className:"text-gray-300 bg-[#101020] border border-gray-800 rounded-md px-3 py-2",children:e[T.name]||""})]},_)),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Gender"}),r?m.jsxs("select",{name:"gender",value:e.gender||"",onChange:g,className:"w-full p-3 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition cursor-pointer",children:[m.jsx("option",{value:"",children:"Select Gender"}),m.jsx("option",{value:"Male",className:"bg-[#0d0d12]",children:"Male"}),m.jsx("option",{value:"Female",className:"bg-[#0d0d12]",children:"Female"}),m.jsx("option",{value:"Other",className:"bg-[#0d0d12]",children:"Other"})]}):m.jsx("p",{className:"text-gray-300 bg-[#101020] border border-gray-800 rounded-md px-3 py-2",children:e.gender||""})]})]}),m.jsxs("p",{className:"text-xs text-gray-500 mt-6 text-right",children:["Joined:"," ",e.joinedAt?new Date(e.joinedAt.seconds*1e3).toLocaleString():"N/A"]})]})]}):m.jsx("div",{className:"flex justify-center items-center h-[70vh] text-gray-400",children:"No profile found."})}function ZD(t){return Re({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function RZ(){const t=Yr(),[e,n]=L.useState(""),[r,s]=L.useState(""),[i,o]=L.useState(!1),a=async()=>{try{await Gz(Ro,e,r),t("/feed")}catch(h){alert(h.message)}},l=async()=>{try{await i3(Ro,rO),t("/feed")}catch(h){alert(h.message)}},c=async()=>{if(!e)return alert("Enter your email first.");await zz(Ro,e),alert("Password reset email sent!")};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a0a0a] via-[#0f1020] to-[#07070a] text-white",children:m.jsxs(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-[#0d0d0f]/90 border border-indigo-700/30 rounded-2xl p-8 w-[90%] sm:w-[400px] shadow-[0_0_20px_rgba(99,102,241,0.2)]",children:[m.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-indigo-400 to-indigo-600 bg-clip-text text-transparent mb-6",children:"Welcome Back"}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),m.jsx("input",{type:"email",className:"w-full p-3 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition",placeholder:"Enter your email",value:e,onChange:h=>n(h.target.value)})]}),m.jsxs("div",{className:"mb-2 relative",children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Password"}),m.jsx("input",{type:i?"text":"password",className:"w-full p-3 pr-10 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition",placeholder:"Enter your password",value:r,onChange:h=>s(h.target.value)}),m.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute right-3 top-9 text-gray-400 hover:text-indigo-400 transition",children:i?m.jsx(a1,{}):m.jsx(l1,{})})]}),m.jsx("div",{onClick:c,className:"text-right text-sm text-indigo-400 hover:underline cursor-pointer mb-4",children:"Forgot Password?"}),m.jsx("button",{onClick:a,className:"w-full py-3 rounded-lg bg-gradient-to-r from-indigo-500 to-indigo-700 font-semibold hover:shadow-[0_0_15px_rgba(99,102,241,0.4)] transition-all duration-300",children:"Log In"}),m.jsxs("div",{className:"flex items-center my-4",children:[m.jsx("div",{className:"flex-1 h-[1px] bg-gray-700"}),m.jsx("span",{className:"px-3 text-gray-400 text-sm",children:"or"}),m.jsx("div",{className:"flex-1 h-[1px] bg-gray-700"})]}),m.jsxs("button",{onClick:l,className:"w-full flex items-center justify-center gap-3 py-3 border border-indigo-700/50 rounded-lg hover:bg-[#0f0f1f] transition",children:[m.jsx(ZD,{className:"text-2xl"}),m.jsx("span",{className:"font-medium text-gray-300",children:"Continue with Google"})]}),m.jsxs("p",{className:"text-center text-sm text-gray-400 mt-6",children:["Dont have an account?"," ",m.jsx("span",{className:"text-indigo-400 cursor-pointer hover:underline",onClick:()=>t("/signup"),children:"Sign Up"})]})]})})}function kZ(){const t=Yr(),[e,n]=L.useState(""),[r,s]=L.useState(""),[i,o]=L.useState(""),[a,l]=L.useState(!1),[c,h]=L.useState(!1),d=async()=>{if(r!==i)return alert("Passwords do not match.");try{const{user:g}=await Hz(Ro,e,r);await QN(g,{displayName:e.split("@")[0]}),await HS(g),t("/feed")}catch(g){alert(g.message)}},f=async()=>{try{const g=await i3(Ro,rO);await HS(g.user),t("/feed")}catch(g){alert(g.message)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-[#0a0a0a] via-[#0f1020] to-[#07070a] text-white",children:m.jsxs(xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"bg-[#0d0d0f]/90 border border-indigo-700/30 rounded-2xl p-8 w-[90%] sm:w-[400px] shadow-[0_0_20px_rgba(99,102,241,0.2)]",children:[m.jsx("h2",{className:"text-3xl font-bold text-center bg-gradient-to-r from-indigo-400 to-indigo-600 bg-clip-text text-transparent mb-6",children:"Create Account"}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Email"}),m.jsx("input",{type:"email",className:"w-full p-3 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition",placeholder:"Enter your email",value:e,onChange:g=>n(g.target.value)})]}),m.jsxs("div",{className:"mb-4 relative",children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Password"}),m.jsx("input",{type:a?"text":"password",className:"w-full p-3 pr-10 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition",placeholder:"Create a password",value:r,onChange:g=>s(g.target.value)}),m.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-9 text-gray-400 hover:text-indigo-400 transition",children:a?m.jsx(a1,{}):m.jsx(l1,{})})]}),m.jsxs("div",{className:"mb-6 relative",children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Re-enter Password"}),m.jsx("input",{type:c?"text":"password",className:"w-full p-3 pr-10 rounded-lg bg-[#101020] border border-indigo-700/40 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition",placeholder:"Re-enter password",value:i,onChange:g=>o(g.target.value)}),m.jsx("button",{type:"button",onClick:()=>h(!c),className:"absolute right-3 top-9 text-gray-400 hover:text-indigo-400 transition",children:c?m.jsx(a1,{}):m.jsx(l1,{})})]}),m.jsx("button",{onClick:d,className:"w-full py-3 rounded-lg bg-gradient-to-r from-indigo-500 to-indigo-700 font-semibold hover:shadow-[0_0_15px_rgba(99,102,241,0.4)] transition-all duration-300",children:"Create Account"}),m.jsxs("div",{className:"flex items-center my-4",children:[m.jsx("div",{className:"flex-1 h-[1px] bg-gray-700"}),m.jsx("span",{className:"px-3 text-gray-400 text-sm",children:"or"}),m.jsx("div",{className:"flex-1 h-[1px] bg-gray-700"})]}),m.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center gap-3 py-3 border border-indigo-700/50 rounded-lg hover:bg-[#0f0f1f] transition",children:[m.jsx(ZD,{className:"text-2xl"}),m.jsx("span",{className:"font-medium text-gray-300",children:"Sign up with Google"})]}),m.jsxs("p",{className:"text-center text-sm text-gray-400 mt-6",children:["Already have an account?"," ",m.jsx("span",{className:"text-indigo-400 cursor-pointer hover:underline",onClick:()=>t("/login"),children:"Log In"})]})]})})}function NZ(){var l;const{uid:t}=T4(),e=Yr(),[n,r]=L.useState(null),[s,i]=L.useState([]),[o,a]=L.useState(!0);return L.useEffect(()=>{async function c(){try{const h=tr(mt,"users",t),d=await XA(h);d.exists()&&r(d.data());const f=pl(mt,"posts"),g=ml(f,KA("authorId","==",t)),w=await D1(g);i(w.docs.map(v=>({id:v.id,...v.data()})))}catch(h){console.error("Error fetching user profile:",h)}finally{a(!1)}}c()},[t]),o?m.jsx("div",{className:"flex justify-center items-center h-[80vh] text-gray-400",children:"Loading profile..."}):n?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"max-w-3xl mx-auto mt-8 mb-2",children:m.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-sm text-gray-300 hover:text-indigo-400 transition",children:[m.jsx(A0,{})," Back"]})}),m.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},className:"max-w-3xl mx-auto mt-4 p-6 bg-[#0d0d12]/90 rounded-2xl border border-gray-800 text-gray-200 shadow-[0_0_30px_rgba(99,102,241,0.2)]",children:[m.jsxs("div",{className:"flex flex-col items-center text-center",children:[m.jsx("img",{src:n.photoURL||`https://api.dicebear.com/7.x/identicon/svg?seed=${n.username}`,alt:"Profile",className:"w-28 h-28 rounded-full border-2 border-indigo-500 shadow-lg mb-3 object-cover"}),m.jsx("h2",{className:"text-2xl font-semibold text-indigo-400",children:n.displayName||"Anonymous User"}),m.jsx("p",{className:"text-gray-400 text-sm mt-1",children:n.email}),m.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["@",n.username||"unknown"]})]}),m.jsxs("div",{className:"flex justify-around mt-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-indigo-400 text-lg font-bold",children:s.length}),m.jsx("p",{className:"text-gray-400 text-xs",children:"Posts"})]}),m.jsxs("div",{children:[m.jsx("p",{className:"text-indigo-400 text-lg font-bold",children:((l=n.badges)==null?void 0:l.length)||0}),m.jsx("p",{className:"text-gray-400 text-xs",children:"Badges"})]})]}),m.jsxs("div",{className:"mt-8",children:[m.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Recent Reports"}),s.length>0?m.jsx("ul",{className:"space-y-3",children:s.map(c=>m.jsxs("li",{onClick:()=>e(`/post/${c.id}`),className:"border border-gray-800 rounded-lg p-3 hover:bg-[#101020] transition cursor-pointer",children:[m.jsx("p",{className:"text-sm text-indigo-400 truncate",children:c.url}),m.jsx("p",{className:"text-xs text-gray-400 truncate",children:c.description||""})]},c.id))}):m.jsx("p",{className:"text-gray-500 text-sm",children:"No posts yet."})]})]})]}):m.jsx("div",{className:"flex justify-center items-center h-[80vh] text-gray-400",children:"User not found."})}function e5({label:t="Back"}){const e=Yr();return m.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-200 bg-[#101020]/80 border border-indigo-700/40 rounded-lg hover:bg-indigo-600/20 hover:text-white transition-all duration-300",children:[m.jsx(A0,{className:"text-indigo-400"})," ",t]})}function OZ(){var d,f,g,w,v,T,_,E;const[t,e]=L.useState(""),[n,r]=L.useState(null),[s,i]=L.useState(!1),[o,a]=L.useState(null),l="https://safetools-qtxnl6sgzq-el.a.run.app",c=async()=>{if(!t.trim()){a("Please enter a domain or URL");return}i(!0),a(null),r(null);try{console.log(" Checking domain:",t),console.log(" Using endpoint:",l);const A=`${l}?url=${encodeURIComponent(t)}`;console.log(" Fetch URL:",A);const N=await fetch(A,{method:"GET",headers:{"Content-Type":"application/json"}});console.log(" Response status:",N.status),console.log(" Response headers:",Object.fromEntries(N.headers.entries()));let D;try{D=await N.json(),console.log(" Response data:",D)}catch(V){throw console.error(" Failed to parse JSON:",V),new Error("Invalid response from server")}if(!N.ok)throw new Error(D.error||D.details||`Server returned ${N.status}`);if(D.error)throw new Error(D.error);if(!D.ok)throw new Error(D.error||"API returned ok: false");r(D),console.log(" Lookup successful!")}catch(A){console.error(" Lookup error:",A),a(A.message||"An unexpected error occurred")}finally{i(!1)}},h=A=>{A.key==="Enter"&&!s&&c()};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs(xe.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-semibold text-white flex items-center gap-2",children:[m.jsx(c1,{className:"text-indigo-400"})," Domain Verification"]}),m.jsx("div",{className:"mt-2",children:m.jsx(e5,{})}),m.jsxs("div",{className:"bg-[#0d0d12]/80 border border-indigo-800/40 rounded-2xl p-5 shadow-[0_0_15px_rgba(99,102,241,0.15)] backdrop-blur-sm",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("input",{type:"text",placeholder:"Enter domain or URL (e.g., example.com)",value:t,onChange:A=>e(A.target.value),onKeyPress:h,className:"flex-1 p-3 rounded-lg bg-[#101020] border border-indigo-700/40 text-gray-200 outline-none focus:ring-1 focus:ring-indigo-500 text-sm"}),m.jsx("button",{onClick:c,disabled:s||!t.trim(),className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-700 rounded-lg text-white font-semibold hover:shadow-[0_0_15px_rgba(99,102,241,0.4)] transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:s?m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"animate-spin",children:""})," Checking..."]}):m.jsxs(m.Fragment,{children:[m.jsx(dN,{className:"inline mr-2"})," Lookup"]})})]}),o&&m.jsx(xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-5 text-red-400 text-sm bg-red-900/20 border border-red-700/30 rounded-lg p-3",children:m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsx(oI,{className:"mt-0.5 flex-shrink-0"}),m.jsxs("div",{children:[m.jsx("strong",{children:"Error:"})," ",o,m.jsxs("div",{className:"mt-2 text-xs text-red-300/70",children:[" ",m.jsx("strong",{children:"Troubleshooting:"}),m.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[m.jsx("li",{children:"Check browser console (F12) for detailed errors"}),m.jsx("li",{children:"Verify API keys are set in Firebase Functions config"}),m.jsxs("li",{children:["Ensure the function is deployed: ",m.jsx("code",{className:"bg-red-950/50 px-1 rounded",children:"firebase deploy --only functions:safeTools"})]})]})]})]})]})}),n&&m.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 space-y-4",children:[m.jsx("div",{className:`p-4 rounded-lg border ${((d=n.safeBrowsing)==null?void 0:d.safe)===!0?"bg-green-900/20 border-green-700/30":((f=n.safeBrowsing)==null?void 0:f.safe)===!1?"bg-red-900/20 border-red-700/30":"bg-yellow-900/20 border-yellow-700/30"}`,children:m.jsxs("div",{className:"flex items-center gap-3",children:[((g=n.safeBrowsing)==null?void 0:g.safe)===!0&&m.jsxs(m.Fragment,{children:[m.jsx(uN,{className:"text-green-400 text-2xl"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-green-400 font-semibold text-lg",children:" Domain Appears Safe"}),m.jsx("div",{className:"text-green-300/70 text-sm",children:"No known threats detected by Google Safe Browsing"})]})]}),((w=n.safeBrowsing)==null?void 0:w.safe)===!1&&m.jsxs(m.Fragment,{children:[m.jsx(oI,{className:"text-red-400 text-2xl"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-red-400 font-semibold text-lg",children:" Threat Detected!"}),m.jsx("div",{className:"text-red-300/70 text-sm",children:((v=n.safeBrowsing.threatTypes)==null?void 0:v.length)>0?`Threats: ${n.safeBrowsing.threatTypes.join(", ")}`:"This domain may be unsafe or involved in phishing"})]})]}),((T=n.safeBrowsing)==null?void 0:T.safe)===null&&m.jsxs(m.Fragment,{children:[m.jsx(mv,{className:"text-yellow-400 text-2xl"}),m.jsxs("div",{children:[m.jsx("div",{className:"text-yellow-400 font-semibold text-lg",children:" Unable to Verify"}),m.jsx("div",{className:"text-yellow-300/70 text-sm",children:((_=n.safeBrowsing)==null?void 0:_.error)||"Error checking domain safety"})]})]})]})}),m.jsx("div",{className:"bg-[#101020]/50 border border-indigo-800/30 rounded-lg p-4 space-y-2 text-sm text-gray-300",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Input:"}),m.jsx("div",{className:"text-white font-mono",children:n.input})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Normalized URL:"}),m.jsx("div",{className:"text-white font-mono break-all",children:n.normalizedUrl})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Domain:"}),m.jsx("div",{className:"text-white font-mono",children:n.domain})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Checked:"}),m.jsx("div",{className:"text-white",children:new Date(n.timestamp).toLocaleString()})]})]})}),n.whois&&!n.whois.error&&m.jsxs("div",{className:"bg-[#101020]/50 border border-indigo-800/30 rounded-lg p-4",children:[m.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[m.jsx(c1,{className:"text-indigo-400"})," WHOIS Information"]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm text-gray-300",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Registrar:"}),m.jsx("div",{className:"text-white",children:n.whois.registrar_name||"Unknown"})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Created:"}),m.jsx("div",{className:"text-white",children:n.whois.creation_date||"N/A"})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Expires:"}),m.jsx("div",{className:"text-white",children:n.whois.expiration_date||"N/A"})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Updated:"}),m.jsx("div",{className:"text-white",children:n.whois.updated_date||"N/A"})]}),n.whois.name_servers&&m.jsxs("div",{className:"col-span-1 md:col-span-2",children:[m.jsx("span",{className:"text-gray-500",children:"Name Servers:"}),m.jsx("div",{className:"text-white font-mono text-xs mt-1",children:Array.isArray(n.whois.name_servers)?n.whois.name_servers.join(", "):n.whois.name_servers})]})]})]}),((E=n.whois)==null?void 0:E.error)&&m.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700/30 rounded-lg p-3 text-sm text-yellow-300",children:[m.jsx(mv,{className:"inline mr-2"}),"WHOIS lookup failed: ",n.whois.error]}),m.jsxs("div",{className:"text-xs text-gray-400 border-t border-gray-800/50 pt-3 space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsxs("span",{children:[m.jsx("strong",{children:"Safe Browsing:"})," Google Safe Browsing API v4"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsxs("span",{children:[m.jsx("strong",{children:"WHOIS Data:"})," API Ninjas"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-gray-500",children:""}),m.jsx("span",{className:"italic text-gray-500",children:"Powered by PhishBlock SafeTools"})]})]})]}),!n&&!o&&!s&&m.jsxs("div",{className:"mt-5 text-sm text-gray-400 bg-indigo-900/10 border border-indigo-800/30 rounded-lg p-3",children:[m.jsx(mv,{className:"inline mr-2 text-indigo-400"}),m.jsx("strong",{children:"Try these examples:"}),m.jsxs("div",{className:"mt-2 space-y-1 text-xs",children:[m.jsx("button",{onClick:()=>{e("google.com"),c()},className:"block text-indigo-400 hover:text-indigo-300 hover:underline",children:" google.com (safe domain)"}),m.jsx("button",{onClick:()=>{e("testsafebrowsing.appspot.com/s/malware.html"),c()},className:"block text-indigo-400 hover:text-indigo-300 hover:underline",children:" testsafebrowsing.appspot.com/s/malware.html (test malware)"})]})]})]})]})}function DZ(){const[t,e]=L.useState(""),[n,r]=L.useState(null),[s,i]=L.useState(!1),o=async()=>{t.trim()&&(i(!0),r(null),setTimeout(()=>{r({url:t,vt_status:"No threats detected",vt_score:0,urlscan_result:"Clean",scannedAt:new Date().toLocaleString()}),i(!1)},1500))};return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs(xe.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-semibold text-white flex items-center gap-2",children:[m.jsx($E,{className:"text-indigo-400"})," Security Tools"]}),m.jsxs("div",{className:"bg-[#0d0d12]/80 border border-indigo-800/40 rounded-2xl p-5 shadow-[0_0_15px_rgba(99,102,241,0.15)] backdrop-blur-sm",children:[m.jsxs("div",{className:"flex gap-3",children:[m.jsx("input",{type:"text",placeholder:"Enter URL to scan",value:t,onChange:a=>e(a.target.value),className:"flex-1 p-3 rounded-lg bg-[#101020] border border-indigo-700/40 text-gray-200 outline-none focus:ring-1 focus:ring-indigo-500 text-sm"}),m.jsx("button",{onClick:o,disabled:s,className:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-indigo-700 rounded-lg text-white font-semibold hover:shadow-[0_0_15px_rgba(99,102,241,0.4)] transition-all duration-300",children:s?"Scanning...":m.jsxs(m.Fragment,{children:[m.jsx(dN,{className:"inline mr-2"})," Scan"]})})]}),n&&m.jsxs(xe.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 text-sm text-gray-300 space-y-2",children:[m.jsxs("div",{children:[m.jsx("strong",{children:"URL:"})," ",n.url]}),m.jsxs("div",{children:[m.jsx("strong",{children:"VirusTotal:"})," ",n.vt_status]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Threat Score:"})," ",n.vt_score]}),m.jsxs("div",{children:[m.jsx("strong",{children:"URLScan Result:"})," ",n.urlscan_result]}),m.jsxs("div",{children:[m.jsx("strong",{children:"Scanned At:"})," ",n.scannedAt]})]})]})]})}function LZ(){const[t,e]=L.useState([]),[n,r]=L.useState("latest");L.useEffect(()=>{const i=pl(mt,"posts"),o=ml(i,KA("anchored","==",!0),qd("archivedAt","desc")),a=Go(o,l=>{const c=l.docs.map(h=>({id:h.id,...h.data()}));e(c)});return()=>a()},[]);const s=[...t].sort((i,o)=>{var a,l,c,h;return n==="votes"?(o.upvotes||0)-(i.upvotes||0):n==="date"?new Date(((l=(a=o.archivedAt)==null?void 0:a.toDate)==null?void 0:l.call(a))||0)-new Date(((h=(c=i.archivedAt)==null?void 0:c.toDate)==null?void 0:h.call(c))||0):0});return m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsxs(xe.h2,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-2xl font-semibold text-white flex items-center gap-2",children:[m.jsx(HE,{className:"text-indigo-400"})," Blockchain Anchors"]}),m.jsx("div",{className:"mt-2",children:m.jsx(e5,{})}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("p",{className:"text-gray-400 text-sm",children:"Explore all verified & archived phishing reports."}),m.jsxs("select",{value:n,onChange:i=>r(i.target.value),className:"bg-[#101020] text-gray-300 border border-indigo-700/40 rounded-md text-sm px-2 py-1 focus:ring-1 focus:ring-indigo-500",children:[m.jsx("option",{value:"latest",children:"Sort by Latest"}),m.jsx("option",{value:"votes",children:"Sort by Upvotes"}),m.jsx("option",{value:"date",children:"Sort by Date"})]})]}),m.jsx("div",{className:"grid gap-4",children:s.length>0?s.map(i=>m.jsxs(xe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-[#0d0d12]/80 border border-indigo-800/40 rounded-2xl p-5 shadow-[0_0_15px_rgba(99,102,241,0.15)] text-gray-300",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("a",{href:i.url,target:"_blank",rel:"noreferrer",className:"text-indigo-400 font-medium hover:underline truncate max-w-[300px] flex items-center gap-2",children:[m.jsx(GE,{})," ",i.url]}),m.jsxs("span",{className:"text-xs text-gray-400",children:[i.upvotes||0,"  upvotes"]})]}),m.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[m.jsx("a",{href:i.anchorTxUrl,target:"_blank",rel:"noreferrer",className:"hover:underline text-indigo-400",children:"View on Blockchain"}),"  ",m.jsx("a",{href:i.ipfsGateway,target:"_blank",rel:"noreferrer",className:"hover:underline text-blue-400",children:"View IPFS Metadata"})]})]},i.id)):m.jsx("p",{className:"text-gray-500 text-sm",children:"No anchored posts yet."})})]})}function VZ(){return m.jsx(t9,{children:m.jsxs(XV,{children:[m.jsx(ur,{path:"/",element:m.jsx(rj,{})}),m.jsx(ur,{path:"/feed",element:m.jsx(SZ,{})}),m.jsx(ur,{path:"/post/:id",element:m.jsx(PZ,{})}),m.jsx(ur,{path:"/profile",element:m.jsx(CZ,{})}),m.jsx(ur,{path:"/login",element:m.jsx(RZ,{})}),m.jsx(ur,{path:"/signup",element:m.jsx(kZ,{})}),m.jsx(ur,{path:"/post/create",element:m.jsx(XD,{})}),m.jsx(ur,{path:"/profile/:uid",element:m.jsx(NZ,{})}),m.jsx(ur,{path:"/domains",element:m.jsx(OZ,{})}),m.jsx(ur,{path:"/tools",element:m.jsx(DZ,{})}),m.jsx(ur,{path:"/anchors",element:m.jsx(LZ,{})})]})})}$v.createRoot(document.getElementById("root")).render(m.jsx(oi.StrictMode,{children:m.jsx(FQ,{children:m.jsx(VZ,{})})}));
